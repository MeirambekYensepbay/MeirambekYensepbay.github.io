{"version":3,"sources":["webpack:///../../../src/components/VDialog/VDialog.ts","webpack:///./node_modules/gantt-schedule-timeline-calendar/dist/index.esm.js","webpack:///./src/views/dashboard/Calendar.vue?2db0","webpack:///node_modules/vue-gantt-schedule-timeline-calendar/src/components/GSTC.vue","webpack:///./node_modules/vue-gantt-schedule-timeline-calendar/src/components/GSTC.vue?e955","webpack:///./node_modules/vue-gantt-schedule-timeline-calendar/src/components/GSTC.vue?a925","webpack:///./node_modules/vue-gantt-schedule-timeline-calendar/src/components/GSTC.vue","webpack:///./src/views/dashboard/components/ToBook.vue?c349","webpack:///src/views/dashboard/components/ToBook.vue","webpack:///./src/views/dashboard/components/ToBook.vue?7f61","webpack:///./src/views/dashboard/components/ToBook.vue","webpack:///./src/views/dashboard/components/QuestionReserve.vue?8076","webpack:///src/views/dashboard/components/QuestionReserve.vue","webpack:///./src/views/dashboard/components/QuestionReserve.vue?3cc7","webpack:///./src/views/dashboard/components/QuestionReserve.vue","webpack:///src/views/dashboard/Calendar.vue","webpack:///./src/views/dashboard/Calendar.vue?5bba","webpack:///./src/views/dashboard/Calendar.vue?6d0a","webpack:///./src/views/dashboard/Calendar.vue?7ad7","webpack:///../../../src/components/VOverlay/VOverlay.ts","webpack:///../../../src/components/VOverlay/index.ts","webpack:///../../../src/mixins/overlayable/index.ts"],"names":["baseMixins","name","directives","ClickOutside","props","dark","disabled","fullscreen","light","maxWidth","type","String","default","noClickAnimation","origin","persistent","retainFocus","scrollable","transition","width","data","activatedBy","animate","animateTimeout","isActive","this","stackMinZIndex","computed","classes","contentClasses","hasActivator","Boolean","$slots","$scopedSlots","watch","created","$attrs","hasOwnProperty","beforeMount","beforeDestroy","window","unbind","methods","animateClick","closeConditional","target","e","_isDestroyed","$refs","content","contains","overlay","$el","activeZIndex","hideScroll","document","show","bind","onClickOutside","onKeydown","getOpenDependents","activator","onFocusin","getOpenDependentElements","some","el","focusable","querySelectorAll","genContent","showLazyContent","root","class","attrs","role","tabindex","on","keydown","style","zIndex","ref","genTransition","$createElement","appear","genInnerContent","value","handler","include","transformOrigin","undefined","render","h","staticClass","attach","directive","f","args","d","isDirective","Directive","isClass","_part","o","isCEPolyfill","customElements","polyfillWrapFlushCallback","reparentNodes","container","start","end","before","n","nextSibling","insertBefore","removeNodes","removeChild","noChange","nothing","marker","Math","random","slice","nodeMarker","markerRegex","RegExp","boundAttributeSuffix","Template","result","element","parts","nodesToRemove","stack","walker","createTreeWalker","lastPartIndex","index","partIndex","strings","values","length","node","nextNode","nodeType","hasAttributes","attributes","count","i","endsWith","stringForPart","lastAttributeNameRegex","exec","attributeLookupName","toLowerCase","attributeValue","getAttribute","removeAttribute","statics","split","push","sanitizer","tagName","currentNode","indexOf","parent","parentNode","lastIndex","insert","s","createMarker","match","createTextNode","previousSibling","pop","str","suffix","isTemplatePartActive","part","markerNode","createComment","cloneNode","TemplateInstance","template","processor","options","__parts","setValue","commit","fragment","importNode","nodeIndex","nodeName","textPart","handleTextExpression","insertAfterNode","handleAttributeExpressions","adoptNode","upgrade","policy","convertConstantTemplateStringToTrustedHTML","w","trustedTypes","TrustedTypes","createPolicy","createHTML","commentMarker","emptyTemplateNode","createElement","TemplateResult","l","html","isCommentBinding","commentOpen","lastIndexOf","attributeMatch","substr","innerHTML","getHTML","SVGTemplateResult","super","getTemplateElement","svgElement","firstChild","isPrimitive","isIterable","Array","isArray","Symbol","iterator","identityFunction","noopSanitizer","_node","_name","_type","sanitizerFactory","setSanitizerFactory","newSanitizer","Error","emptyTextNode","AttributeCommitter","templatePart","kind","dirty","_createPart","AttributePart","v","text","t","_getValue","setAttribute","committer","body","NodePart","__pendingValue","textSanitizer","startNode","appendChild","endNode","__insert","__commitText","__commitTemplateResult","Node","__commitNode","__commitIterable","clear","renderedValue","textNode","templateFactory","update","instance","_clone","itemParts","itemPart","item","appendIntoPart","insertAfterPart","BooleanAttributePart","PropertyCommitter","single","PropertyPart","eventOptionsSupported","addEventListener","removeEventListener","_e","EventPart","eventName","eventContext","__boundHandleEvent","handleEvent","newListener","oldListener","shouldRemoveListener","capture","once","passive","shouldAddListener","__options","getOptions","event","call","DefaultTemplateProcessor","prefix","nodeTemplatePart","defaultTemplateProcessor","templateCache","templateCaches","get","stringsArray","WeakMap","keyString","Map","set","key","join","Object","assign","appendInto","isBrowser","svg","lithtml","freeze","__proto__","__asyncValues","asyncIterator","TypeError","m","__values","verb","Promise","resolve","reject","settle","done","then","asyncAppend","mapper","async","e_1","_a","value_1_1","value_1","next","itemStartNode","e_1_1","error","return","__asyncValues$1","asyncReplace","templateCaches$1","cache","previousValue","cachedTemplate","nodes","createDocumentFragment","previousClassesCache","classMap","classInfo","previousClasses","className","Set","classList","forEach","remove","delete","has","add","previousValues","guard","every","from","ifDefined","createAndInsertPart","containerPart","beforePart","beforeNode","newPart","updatePart","insertPartBefore","removePart","generateMap","list","map","partListCache","keyListCache","repeat","items","keyFnOrTemplate","keyFn","oldParts","oldKeys","newParts","newValues","newKeys","newKeyToIndexMap","oldKeyToIndexMap","oldHead","oldTail","newHead","newTail","oldIndex","oldPart","previousValues$1","emptyTemplateNode$1","unsafeHTML","_state","_infinity","until","state","lastRenderedIndex","previousLength","resolvedValue","detached","Detach","ifFn","detach","toRemove","toUpdate","StyleMap","styleInfo","previous","prev","removeProperty","includes","setProperty","Action","isAction","prototype","defaultOptions","axis","threshold","pointerEventsExists","PointerEvent","id","PointerAction","moving","initialX","initialY","lastY","lastX","onPointerDown","onPointerMove","onPointerUp","onWheel","pointerOptions","x","deltaX","y","deltaY","z","deltaZ","mode","deltaMode","lineHeight","parseInt","getComputedStyle","getPropertyValue","scale","height","normalized","normalizeMouseWheelEvent","pageX","pageY","clientX","clientY","screenX","screenY","wheel","changedTouches","button","normalizePointerEvent","onDown","movementX","movementY","abs","handleX","handleY","onMove","onUp","getPublicComponentMethods","components","actionsByInstance","clone","vidoInstance","destroy","change","debug","console","groupCollapsed","log","keys","trace","groupEnd","destroyComponent","updateTemplate","newProps","templateProps","component","getActionsCollector","actions","create","exists","action","componentAction","vido","byInstance","getInternalComponentMethods","renderFunction","destroyable","onChangeFunctions","changedProps","leave","fn","schedule","frameId","wrapperFn","argument","executeFrame","apply","requestAnimationFrame","isObject","mergeDeep","sources","source","shift","actns","api","Vido","componentId","app","shouldUpdateCount","resolved","additionalMethods","ActionsCollector","InstanceActionsCollector","actionsInstance","PublicComponentMethods","InternalComponentMethods","lastProps","componentActions","_components","_actions","reuseComponents","onDestroy","onChange","callback","currentComponents","dataArray","getProps","leaveTail","modified","currentLen","dataLen","leaveStartingAt","diff","newComponent","createComponent","Actions","publicMethods","internalMethods","_b","_c","currentShouldUpdateCount","self","flush","config","App","appComponent","executeActions","unti","MapShim","getIndex","arr","entry","class_1","__entries__","defineProperty","enumerable","configurable","entries","splice","ctx","_i","isBrowser$1","global$1","global","Function","requestAnimationFrame$1","setTimeout","Date","now","trailingTimeout","throttle","delay","leadingCall","trailingCall","lastCallTime","resolvePending","proxy","timeoutCallback","timeStamp","REFRESH_DELAY","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","addObserver","observer","connect_","removeObserver","observers","disconnect_","changesDetected","updateObservers_","activeObservers","filter","gatherActive","hasActive","broadcastActive","observe","childList","characterData","subtree","disconnect","propertyName","isReflowProperty","getInstance","instance_","defineConfigurable","writable","getWindowOf","ownerGlobal","ownerDocument","defaultView","emptyRect","createRectInit","toFloat","parseFloat","getBordersSize","styles","positions","arguments","reduce","size","position","getPaddings","paddings","positions_1","getSVGContentRect","bbox","getBBox","getHTMLElementContentRect","clientWidth","clientHeight","horizPad","left","right","vertPad","top","bottom","boxSizing","round","isDocumentElement","vertScrollbar","horizScrollbar","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","documentElement","getContentRect","createReadOnlyRect","Constr","DOMRectReadOnly","rect","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","broadcastRect","ResizeObserverEntry","rectInit","contentRect","ResizeObserverSPI","controller","callbackCtx","activeObservations_","observations_","callback_","controller_","callbackCtx_","Element","observations","unobserve","clearActive","_this","observation","ResizeObserver","method","Main","componentName","subscribe","plugins","initializePlugin","destroyPlugin","componentSubs","ListComponent","ChartComponent","List","Chart","wrapper","unsub","getActions","classNameVerticalScroll","styleMap","verticalScrollStyleMap","verticalScrollAreaStyleMap","verticalScrollBarElement","rowsHeight","resizerActive","updateClassNames","classNames","getClass","heightChange","scrollBarHeight","headerHeight","resizerActiveChange","active","generateTree","bulk","eventInfo","configRows","rows","rowId","fillEmptyRowValues","configItems","itemId","prepareItems","treeMap","makeTreeMap","flatTreeMapById","getFlatTreeMapById","flatTreeMap","flattenTreeMap","prepareExpanded","rowsWithParentsExpanded","getRowsFromIds","getRowsWithParentsExpanded","getRowsHeight","generateVisibleRowsAndItems","visibleRows","compensation","getVisibleRowsAndCompensation","smoothScroll","currentVisibleRows","shouldUpdate","row","visibleItems","_internal","subscribeAll","elementScrollTop","onVisibleRowsChange","scrollTop","generatePeriodDates","period","internalTime","dates","leftGlobal","timePerPixel","startOfLeft","time","date","startOf","valueOf","sub","subPx","leftPx","ceil","rightGlobal","endOf","rightPx","triggerLoadedEvent","Event","dispatchEvent","limitGlobalAndSetCenter","finalFrom","finalTo","centerGlobal","guessPeriod","calendar","zoom","level","levels","formatting","formats","find","format","zoomTo","main","updateLevels","working","recalculateTimes","reason","configTime","chartWidth","oldTime","to","mainLevel","calculatedZoomMode","periodFormat","justApply","scrollLeft","totalViewDurationMs","totalViewDurationPx","pow","recalculateFromTo","chartWidthInMs","halfChartInMs","limitScrollLeft","leftInner","rightInner","xCompensation","recalculationTriggerCache","initialized","recalculationIsNeeded","oldValue","newValue","localStorage","getItem","fetch","credentials","redirect","JSON","stringify","location","href","host","catch","setItem","propagate","stopPropagation","preventDefault","handleOnScroll","scroll","scrollInner","scrollHeight","percent","only","prpgt","onScroll","dimensions","ro","ResizeAction","bindScrollElement","LoadedEventAction","bindScrollInnerElement","loaded","chart","actionProps","mainActions","verticalScrollActions","verticalScrollAreaActions","ListColumnComponent","listColumnUnsub","renderExpanderIcons","icons","rendered","iconName","getSVGIconSrc","renderToggleIcons","toggleIconsSrc","open","close","onListChange","columns","listColumns","onListColumnsDataChange","column","columnId","internalHeight","limitScrollTop","getWidth","expander","padding","listColumn","ListAction","c","BindElementAction","elements","ListColumn","componentsSub","ListColumnRowComponent","ListColumnHeaderComponent","rowsComponentName","rowsActions","classNameContainer","calculatedWidth","widthStyleMap","containerStyleMap","scrollCompensationStyleMap","columnPath","columnSub","val","calculateStyle","compensationY","transform","styleSub","ListColumnHeader","prop","visibleRowsChange","getRowHtml","headerActions","rowActions","componentsSubs","ListColumnHeaderResizerComponent","ListColumnHeaderResizer","ListColumnRowExpanderComponent","ListColumnRowExpander","contentClass","withExpander","withoutExpander","componentDotsActions","containerClass","dotsClass","dotClass","dotsStyleMap","inRealTime","path","resizer","dots","columnWidthPath","minWidth","dotsActions","header","dot","BindElementAction$1","ListColumnRow","shouldDetach","rowPath","colPath","rowSub","colSub","onPropsChange","setStyle","parents","parentId","constructor","children","childrenStyle","current","rowCurrentStyle","getHtml","getText","isHTML","ListColumnRowExpanderToggleComponent","toggleUnsub","ListColumnRowExpanderToggle","classNameChild","classNameOpen","classNameClosed","iconChild","iconOpen","iconClosed","expanded","child","closed","expandedChange","isExpanded","expandedSub","rowExpanded","toggle","getIcon","ListToggle","ListToggleWrapper","ev","ChartCalendarComponent","ChartTimelineComponent","Calendar","Timeline","classNameScroll","classNameScrollInner","scrollElement","scrollInnerElement","onScrollHandler","onWheelHandler","xMultiplier","yMultiplier","currentScrollLeft","shiftKey","newScrollLeft","ctrlKey","currentZoom","bindElement","bindInnerScroll","old","innerWidth","scrollActions","scrollAreaActions","ChartCalendar","ChartCalendarDateComponent","currentDateFormat","currentDate","Action$1","BindElementAction$2","ChartCalendarDay","htmlFormatted","visibility","scrollStyleMap","overflow","formatClassName","updateDate","cacheKey","toISOString","timeStart","timeEnd","subtract","finalClassName","timeSub","ChartTimeline","GridComponent","ItemsComponent","ListToggleComponent","Grid","Items","classNameInner","showToggle","innerStyleMap","getCompensationX","yCompensation","getCompensationY","BindElementAction$3","ChartTimelineGrid","GridRowComponent","onBlockCreate","onCreate","rowsComponents","rowsWithBlocks","formatCache","generateBlocks","periodDates","blocks","block","generateRowsComponents","r","BindElementAction$4","ChartTimelineGridRow","GridBlockComponent","rowsBlocksComponents","_d","_f","_g","_h","_j","grid","currentStyle","rowBlock","BindElementAction$5","ChartTimelineGridRowBlock","updateClassName","currentTime","_k","_l","_m","_o","ChartTimelineItems","ItemsRowComponent","createRowComponents","BindElementAction$6","ChartTimelineItemsRow","ItemComponent","itemsSub","itemsPath","itemComponents","updateDom","updateRow","BindElementAction$7","ChartTimelineItemsRowItem","itemLeftPx","itemWidthPx","cutLeft","cutRight","leftCutStyleMap","rightCutStyleMap","updateItem","globalTimeToViewPixelOffset","oldWidth","oldLeft","inViewPort","isItemInViewport","currentRowItemsStyle","cutterName","cutterLeft","cutterRight","labelClassName","isHtml","label","actionNames","generateEmptyActions","generateEmptySlots","slots","after","defaultConfig","plugin","ChartCalendarDate","wrappers","input","rowHeight","icon","display","smooth","expand","spacing","locale","weekdays","weekdaysShort","weekdaysMin","months","monthsShort","weekStart","relativeTime","future","past","mm","hh","dd","M","MM","yy","LT","LTS","L","LL","LLL","LLLL","ordinal","utcMode","usageStatistics","globalThis","createCommonjsModule","module","exports","dayjs_min","commonjsGlobal","u","a","utcOffset","floor","year","month","Number","p","D","ms","Q","replace","$","g","pl","$L","utc","$u","$offset","parse","$d","NaN","test","UTC","init","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","toString","isSame","isAfter","isBefore","$g","day","hour","minute","second","millisecond","unix","getTime","toDate","$locale","$set","min","daysInMonth","meridiem","YY","YYYY","MMM","MMMM","DD","ddd","dddd","H","HH","A","ss","SSS","Z","getTimezoneOffset","toJSON","toUTCString","extend","isDayjs","en","Ls","local","getUTCFullYear","getUTCMonth","getUTCDate","getUTCDay","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","isUTC","advancedFormat","weekYear","week","weekOfYear","yearStart","weeks","TimeApi","_dayjs","additionalSpaces","MAX_SAFE_INTEGER","addAdditionalSpace","milliseconds","withCompensation","viewPixelOffset","Matcher","pattern","wchar","segments","starCount","minLength","maxLength","segStartIndex","len","char","substring","Infinity","WildcardObject","obj","delimeter","wildcard","segLeftIndex","segRightIndex","rightPos","rightIsStar","segment","simpleMatch","first","handleArray","currentArr","nextPartIndex","currentWildcardPath","currentPath","goFurther","handleObject","currentObj","ObjectPath","copiedPath","message","info","defaultOptions$1","notRecursive","param","defaultListenerOptions","defaultUpdateOptions","updateAfter","DeepState","listeners","waitingListeners","pathGet","pathSet","scan","searchStr","searchStrLen","startIndex","indices","longer","shorter","cleanNotRecursivePath","shorterPartsLen","getIndicesCount","longerParts","getIndicesOf","charAt","isNotRecursive","paramsInfo","replaced","original","params","fullReplaced","reg","userPaths","paths","hasParams","getParamsInfo","isWildcard","isRecursive","updatePath","waitingListener","all","pathInfo","cutPath","unsubscribers","userPath","unsubscribe","listenerPath","listener","listenersCollection","collCfg","originalPath","getCleanListenersCollection","getListenerCollectionMatch","getCleanListener","getListenersCollection","bulkValue","getParams","debugSubscribe","exclude","returnNotified","alreadyNotified","singleListener","debugTime","debugListener","bulkListener","bulkData","notifyListeners","getSubscribedListeners","currentCuttedPath","restPath","trimPath","bulkListeners","currentRestPath","fullPath","listenerId","getNestedListeners","canBeNested","notifyPath","wildcardScan","wildcardPath","getNotifyOnlyListeners","scanned","getUpdateValues","same","groupedListenersPack","waitingPaths","groupedListeners","executeWaitingListeners","wildcardUpdate","notifyOnly","notifySubscribedListeners","notifyNestedListeners","groupedListener","isObject$1","mergeDeep$1","lib","mergeActions","userConfig","defaultConfigActions","userActions","allActionNames","actionName","stateFromConfig","defaultConfig$1","publicApi","dayjs","getInternalApi","$state","unsubscribes","iconsCache","simple","allActions","parentName","rowParents","childrenId","fastTree","itemParents","generateParents","tree","ids","currentRowsOffset","rowOffset","chartViewBottom","outer","noScroll","offsetHeight","msOverflowStyle","inner","withScroll","toTime","halfTime","btoa","GSTC","getScrollBarHeight","expandedHeight","firstTaskTime","lastTaskTime","setVido","createApp","internalApi","_vm","_self","staticStyle","prevDay","_v","nextDay","today","$event","scopedSlots","_u","model","$$v","expression","dialog","changePeriod","save","periods","_s","inToday","moveOuts","freeRooms","closeRooms","paids","notPaid","$store","rowLabel","status","openCloseBook","popover","staticRenderFns","mounted","$emit","gstc","$watch","destroyed","phone","comments","openCloseToBook","VBtn","VCol","VContainer","VRow","VTextField","menu","indatemenu","menu3","outDateMenu","VDatePicker","VMenu","VSpacer","VCard","VCardActions","VCardText","VCardTitle","VDialog","VDivider","VIcon","VList","VListItem","VListItemContent","VListItemSubtitle","VListItemTitle","VSelect","mixins","absolute","color","opacity","__scrim","setBackgroundColor","computedOpacity","themeClasses","hideOverlay","overlayColor","overlayOpacity","animationFrame","genOverlay","createOverlay","propsData","removeOverlay","showScroll","cancelAnimationFrame","scrollListener","up","down","checkPath","hasScrollbar","shouldScroll","delta","isInside","composedPath","selected","$vuetify","breakpoint"],"mappings":"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","file":"js/chunk-c37debc8.5c5bf6dc.js","sourcesContent":["// Styles\nimport './VDialog.sass'\n\n// Components\nimport { VThemeProvider } from '../VThemeProvider'\n\n// Mixins\nimport Activatable from '../../mixins/activatable'\nimport Dependent from '../../mixins/dependent'\nimport Detachable from '../../mixins/detachable'\nimport Overlayable from '../../mixins/overlayable'\nimport Returnable from '../../mixins/returnable'\nimport Stackable from '../../mixins/stackable'\nimport Toggleable from '../../mixins/toggleable'\n\n// Directives\nimport ClickOutside from '../../directives/click-outside'\n\n// Helpers\nimport mixins from '../../util/mixins'\nimport { removed } from '../../util/console'\nimport {\n  convertToUnit,\n  keyCodes,\n} from '../../util/helpers'\n\n// Types\nimport { VNode, VNodeData } from 'vue'\n\nconst baseMixins = mixins(\n  Activatable,\n  Dependent,\n  Detachable,\n  Overlayable,\n  Returnable,\n  Stackable,\n  Toggleable\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-dialog',\n\n  directives: { ClickOutside },\n\n  props: {\n    dark: Boolean,\n    disabled: Boolean,\n    fullscreen: Boolean,\n    light: Boolean,\n    maxWidth: {\n      type: [String, Number],\n      default: 'none',\n    },\n    noClickAnimation: Boolean,\n    origin: {\n      type: String,\n      default: 'center center',\n    },\n    persistent: Boolean,\n    retainFocus: {\n      type: Boolean,\n      default: true,\n    },\n    scrollable: Boolean,\n    transition: {\n      type: [String, Boolean],\n      default: 'dialog-transition',\n    },\n    width: {\n      type: [String, Number],\n      default: 'auto',\n    },\n  },\n\n  data () {\n    return {\n      activatedBy: null as EventTarget | null,\n      animate: false,\n      animateTimeout: -1,\n      isActive: !!this.value,\n      stackMinZIndex: 200,\n    }\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        [(`v-dialog ${this.contentClass}`).trim()]: true,\n        'v-dialog--active': this.isActive,\n        'v-dialog--persistent': this.persistent,\n        'v-dialog--fullscreen': this.fullscreen,\n        'v-dialog--scrollable': this.scrollable,\n        'v-dialog--animated': this.animate,\n      }\n    },\n    contentClasses (): object {\n      return {\n        'v-dialog__content': true,\n        'v-dialog__content--active': this.isActive,\n      }\n    },\n    hasActivator (): boolean {\n      return Boolean(\n        !!this.$slots.activator ||\n        !!this.$scopedSlots.activator\n      )\n    },\n  },\n\n  watch: {\n    isActive (val) {\n      if (val) {\n        this.show()\n        this.hideScroll()\n      } else {\n        this.removeOverlay()\n        this.unbind()\n      }\n    },\n    fullscreen (val) {\n      if (!this.isActive) return\n\n      if (val) {\n        this.hideScroll()\n        this.removeOverlay(false)\n      } else {\n        this.showScroll()\n        this.genOverlay()\n      }\n    },\n  },\n\n  created () {\n    /* istanbul ignore next */\n    if (this.$attrs.hasOwnProperty('full-width')) {\n      removed('full-width', this)\n    }\n  },\n\n  beforeMount () {\n    this.$nextTick(() => {\n      this.isBooted = this.isActive\n      this.isActive && this.show()\n    })\n  },\n\n  beforeDestroy () {\n    if (typeof window !== 'undefined') this.unbind()\n  },\n\n  methods: {\n    animateClick () {\n      this.animate = false\n      // Needed for when clicking very fast\n      // outside of the dialog\n      this.$nextTick(() => {\n        this.animate = true\n        window.clearTimeout(this.animateTimeout)\n        this.animateTimeout = window.setTimeout(() => (this.animate = false), 150)\n      })\n    },\n    closeConditional (e: Event) {\n      const target = e.target as HTMLElement\n      // Ignore the click if the dialog is closed or destroyed,\n      // if it was on an element inside the content,\n      // if it was dragged onto the overlay (#6969),\n      // or if this isn't the topmost dialog (#9907)\n      return !(\n        this._isDestroyed ||\n        !this.isActive ||\n        this.$refs.content.contains(target) ||\n        (this.overlay && target && !this.overlay.$el.contains(target))\n      ) && this.activeZIndex >= this.getMaxZIndex()\n    },\n    hideScroll () {\n      if (this.fullscreen) {\n        document.documentElement.classList.add('overflow-y-hidden')\n      } else {\n        Overlayable.options.methods.hideScroll.call(this)\n      }\n    },\n    show () {\n      !this.fullscreen && !this.hideOverlay && this.genOverlay()\n      this.$nextTick(() => {\n        this.$refs.content.focus()\n        this.bind()\n      })\n    },\n    bind () {\n      window.addEventListener('focusin', this.onFocusin)\n    },\n    unbind () {\n      window.removeEventListener('focusin', this.onFocusin)\n    },\n    onClickOutside (e: Event) {\n      this.$emit('click:outside', e)\n\n      if (this.persistent) {\n        this.noClickAnimation || this.animateClick()\n      } else {\n        this.isActive = false\n      }\n    },\n    onKeydown (e: KeyboardEvent) {\n      if (e.keyCode === keyCodes.esc && !this.getOpenDependents().length) {\n        if (!this.persistent) {\n          this.isActive = false\n          const activator = this.getActivator()\n          this.$nextTick(() => activator && (activator as HTMLElement).focus())\n        } else if (!this.noClickAnimation) {\n          this.animateClick()\n        }\n      }\n      this.$emit('keydown', e)\n    },\n    // On focus change, wrap focus to stay inside the dialog\n    // https://github.com/vuetifyjs/vuetify/issues/6892\n    onFocusin (e: Event) {\n      if (!e || !this.retainFocus) return\n\n      const target = e.target as HTMLElement\n\n      if (\n        !!target &&\n        // It isn't the document or the dialog body\n        ![document, this.$refs.content].includes(target) &&\n        // It isn't inside the dialog body\n        !this.$refs.content.contains(target) &&\n        // We're the topmost dialog\n        this.activeZIndex >= this.getMaxZIndex() &&\n        // It isn't inside a dependent element (like a menu)\n        !this.getOpenDependentElements().some(el => el.contains(target))\n        // So we must have focused something outside the dialog and its children\n      ) {\n        // Find and focus the first available element inside the dialog\n        const focusable = this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])')\n        const el = [...focusable].find(el => !el.hasAttribute('disabled')) as HTMLElement | undefined\n        el && el.focus()\n      }\n    },\n    genContent () {\n      return this.showLazyContent(() => [\n        this.$createElement(VThemeProvider, {\n          props: {\n            root: true,\n            light: this.light,\n            dark: this.dark,\n          },\n        }, [\n          this.$createElement('div', {\n            class: this.contentClasses,\n            attrs: {\n              role: 'document',\n              tabindex: this.isActive ? 0 : undefined,\n              ...this.getScopeIdAttrs(),\n            },\n            on: { keydown: this.onKeydown },\n            style: { zIndex: this.activeZIndex },\n            ref: 'content',\n          }, [this.genTransition()]),\n        ]),\n      ])\n    },\n    genTransition () {\n      const content = this.genInnerContent()\n\n      if (!this.transition) return content\n\n      return this.$createElement('transition', {\n        props: {\n          name: this.transition,\n          origin: this.origin,\n          appear: true,\n        },\n      }, [content])\n    },\n    genInnerContent () {\n      const data: VNodeData = {\n        class: this.classes,\n        ref: 'dialog',\n        directives: [\n          {\n            name: 'click-outside',\n            value: {\n              handler: this.onClickOutside,\n              closeConditional: this.closeConditional,\n              include: this.getOpenDependentElements,\n            },\n          },\n          { name: 'show', value: this.isActive },\n        ],\n        style: {\n          transformOrigin: this.origin,\n        },\n      }\n\n      if (!this.fullscreen) {\n        data.style = {\n          ...data.style as object,\n          maxWidth: this.maxWidth === 'none' ? undefined : convertToUnit(this.maxWidth),\n          width: this.width === 'auto' ? undefined : convertToUnit(this.width),\n        }\n      }\n\n      return this.$createElement('div', data, this.getContentSlot())\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-dialog__container',\n      class: {\n        'v-dialog__container--attached':\n          this.attach === '' ||\n          this.attach === true ||\n          this.attach === 'attach',\n      },\n      attrs: { role: 'dialog' },\n    }, [\n      this.genActivator(),\n      this.genContent(),\n    ])\n  },\n})\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * Brands a function as a directive factory function so that lit-html will call\n * the function during template rendering, rather than passing as a value.\n *\n * A _directive_ is a function that takes a Part as an argument. It has the\n * signature: `(part: Part) => void`.\n *\n * A directive _factory_ is a function that takes arguments for data and\n * configuration and returns a directive. Users of directive usually refer to\n * the directive factory as the directive. For example, \"The repeat directive\".\n *\n * Usually a template author will invoke a directive factory in their template\n * with relevant arguments, which will then return a directive function.\n *\n * Here's an example of using the `repeat()` directive factory that takes an\n * array and a function to render an item:\n *\n * ```js\n * html`<ul><${repeat(items, (item) => html`<li>${item}</li>`)}</ul>`\n * ```\n *\n * When `repeat` is invoked, it returns a directive function that closes over\n * `items` and the template function. When the outer template is rendered, the\n * return directive function is called with the Part for the expression.\n * `repeat` then performs it's custom logic to render multiple items.\n *\n * @param f The directive factory function. Must be a function that returns a\n * function of the signature `(part: Part) => void`. The returned function will\n * be called with the part object.\n *\n * @example\n *\n * import {directive, html} from 'lit-html';\n *\n * const immutable = directive((v) => (part) => {\n *   if (part.value !== v) {\n *     part.setValue(v)\n *   }\n * });\n */\nconst directive = (f) => ((...args) => {\n    const d = f(...args);\n    // tslint:disable-next-line:no-any\n    d.isDirective = true;\n    return d;\n});\nclass Directive {\n    constructor() {\n        this.isDirective = true;\n        this.isClass = true;\n    }\n    body(_part) {\n        // body of the directive\n    }\n}\nconst isDirective = (o) => {\n    return o !== undefined && o !== null &&\n        // tslint:disable-next-line:no-any\n        typeof o.isDirective === 'boolean';\n};\n\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * True if the custom elements polyfill is in use.\n */\nconst isCEPolyfill = typeof window !== 'undefined' ?\n    window.customElements != null &&\n        window.customElements\n            .polyfillWrapFlushCallback !== undefined :\n    false;\n/**\n * Reparents nodes, starting from `start` (inclusive) to `end` (exclusive),\n * into another container (could be the same container), before `before`. If\n * `before` is null, it appends the nodes to the container.\n */\nconst reparentNodes = (container, start, end = null, before = null) => {\n    while (start !== end) {\n        const n = start.nextSibling;\n        container.insertBefore(start, before);\n        start = n;\n    }\n};\n/**\n * Removes nodes, starting from `start` (inclusive) to `end` (exclusive), from\n * `container`.\n */\nconst removeNodes = (container, start, end = null) => {\n    while (start !== end) {\n        const n = start.nextSibling;\n        container.removeChild(start);\n        start = n;\n    }\n};\n\n/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * A sentinel value that signals that a value was handled by a directive and\n * should not be written to the DOM.\n */\nconst noChange = {};\n/**\n * A sentinel value that signals a NodePart to fully clear its content.\n */\nconst nothing = {};\n\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * An expression marker with embedded unique key to avoid collision with\n * possible text in templates.\n */\nconst marker = `{{lit-${String(Math.random()).slice(2)}}}`;\n/**\n * An expression marker used text-positions, multi-binding attributes, and\n * attributes with markup-like text values.\n */\nconst nodeMarker = `<!--${marker}-->`;\nconst markerRegex = new RegExp(`${marker}|${nodeMarker}`);\n/**\n * Suffix appended to all bound attribute names.\n */\nconst boundAttributeSuffix = '$lit$';\n/**\n * An updatable Template that tracks the location of dynamic parts.\n */\nclass Template {\n    constructor(result, element) {\n        this.parts = [];\n        this.element = element;\n        const nodesToRemove = [];\n        const stack = [];\n        // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n        const walker = document.createTreeWalker(element.content, 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */, null, false);\n        // Keeps track of the last index associated with a part. We try to delete\n        // unnecessary nodes, but we never want to associate two different parts\n        // to the same index. They must have a constant node between.\n        let lastPartIndex = 0;\n        let index = -1;\n        let partIndex = 0;\n        const { strings, values: { length } } = result;\n        while (partIndex < length) {\n            const node = walker.nextNode();\n            if (node === null) {\n                // We've exhausted the content inside a nested template element.\n                // Because we still have parts (the outer for-loop), we know:\n                // - There is a template in the stack\n                // - The walker will find a nextNode outside the template\n                walker.currentNode = stack.pop();\n                continue;\n            }\n            index++;\n            if (node.nodeType === 1 /* Node.ELEMENT_NODE */) {\n                if (node.hasAttributes()) {\n                    const attributes = node.attributes;\n                    const { length } = attributes;\n                    // Per\n                    // https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap,\n                    // attributes are not guaranteed to be returned in document order.\n                    // In particular, Edge/IE can return them out of order, so we cannot\n                    // assume a correspondence between part index and attribute index.\n                    let count = 0;\n                    for (let i = 0; i < length; i++) {\n                        if (endsWith(attributes[i].name, boundAttributeSuffix)) {\n                            count++;\n                        }\n                    }\n                    while (count-- > 0) {\n                        // Get the template literal section leading up to the first\n                        // expression in this attribute\n                        const stringForPart = strings[partIndex];\n                        // Find the attribute name\n                        const name = lastAttributeNameRegex.exec(stringForPart)[2];\n                        // Find the corresponding attribute\n                        // All bound attributes have had a suffix added in\n                        // TemplateResult#getHTML to opt out of special attribute\n                        // handling. To look up the attribute value we also need to add\n                        // the suffix.\n                        const attributeLookupName = name.toLowerCase() + boundAttributeSuffix;\n                        const attributeValue = node.getAttribute(attributeLookupName);\n                        node.removeAttribute(attributeLookupName);\n                        const statics = attributeValue.split(markerRegex);\n                        this.parts.push({\n                            type: 'attribute',\n                            index,\n                            name,\n                            strings: statics,\n                            sanitizer: undefined\n                        });\n                        partIndex += statics.length - 1;\n                    }\n                }\n                if (node.tagName === 'TEMPLATE') {\n                    stack.push(node);\n                    walker.currentNode = node.content;\n                }\n            }\n            else if (node.nodeType === 3 /* Node.TEXT_NODE */) {\n                const data = node.data;\n                if (data.indexOf(marker) >= 0) {\n                    const parent = node.parentNode;\n                    const strings = data.split(markerRegex);\n                    const lastIndex = strings.length - 1;\n                    // Generate a new text node for each literal section\n                    // These nodes are also used as the markers for node parts\n                    for (let i = 0; i < lastIndex; i++) {\n                        let insert;\n                        let s = strings[i];\n                        if (s === '') {\n                            insert = createMarker();\n                        }\n                        else {\n                            const match = lastAttributeNameRegex.exec(s);\n                            if (match !== null && endsWith(match[2], boundAttributeSuffix)) {\n                                s = s.slice(0, match.index) + match[1] +\n                                    match[2].slice(0, -boundAttributeSuffix.length) + match[3];\n                            }\n                            insert = document.createTextNode(s);\n                        }\n                        parent.insertBefore(insert, node);\n                        this.parts.push({ type: 'node', index: ++index });\n                    }\n                    // If there's no text, we must insert a comment to mark our place.\n                    // Else, we can trust it will stick around after cloning.\n                    if (strings[lastIndex] === '') {\n                        parent.insertBefore(createMarker(), node);\n                        nodesToRemove.push(node);\n                    }\n                    else {\n                        node.data = strings[lastIndex];\n                    }\n                    // We have a part for each match found\n                    partIndex += lastIndex;\n                }\n            }\n            else if (node.nodeType === 8 /* Node.COMMENT_NODE */) {\n                if (node.data === marker) {\n                    const parent = node.parentNode;\n                    // Add a new marker node to be the startNode of the Part if any of\n                    // the following are true:\n                    //  * We don't have a previousSibling\n                    //  * The previousSibling is already the start of a previous part\n                    if (node.previousSibling === null || index === lastPartIndex) {\n                        index++;\n                        parent.insertBefore(createMarker(), node);\n                    }\n                    lastPartIndex = index;\n                    this.parts.push({ type: 'node', index });\n                    // If we don't have a nextSibling, keep this node so we have an end.\n                    // Else, we can remove it to save future costs.\n                    if (node.nextSibling === null) {\n                        node.data = '';\n                    }\n                    else {\n                        nodesToRemove.push(node);\n                        index--;\n                    }\n                    partIndex++;\n                }\n                else {\n                    let i = -1;\n                    while ((i = node.data.indexOf(marker, i + 1)) !== -1) {\n                        // Comment node has a binding marker inside, make an inactive part\n                        // The binding won't work, but subsequent bindings will\n                        // TODO (justinfagnani): consider whether it's even worth it to\n                        // make bindings in comments work\n                        this.parts.push({ type: 'node', index: -1 });\n                        partIndex++;\n                    }\n                }\n            }\n        }\n        // Remove text binding nodes after the walk to not disturb the TreeWalker\n        for (const n of nodesToRemove) {\n            n.parentNode.removeChild(n);\n        }\n    }\n}\nconst endsWith = (str, suffix) => {\n    const index = str.length - suffix.length;\n    return index >= 0 && str.slice(index) === suffix;\n};\nconst isTemplatePartActive = (part) => part.index !== -1;\n/**\n * Used to clone existing node instead of each time creating new one which is\n * slower\n */\nconst markerNode = document.createComment('');\n// Allows `document.createComment('')` to be renamed for a\n// small manual size-savings.\nconst createMarker = () => markerNode.cloneNode();\n/**\n * This regex extracts the attribute name preceding an attribute-position\n * expression. It does this by matching the syntax allowed for attributes\n * against the string literal directly preceding the expression, assuming that\n * the expression is in an attribute-value position.\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#elements-attributes\n *\n * \" \\x09\\x0a\\x0c\\x0d\" are HTML space characters:\n * https://www.w3.org/TR/html5/infrastructure.html#space-characters\n *\n * \"\\0-\\x1F\\x7F-\\x9F\" are Unicode control characters, which includes every\n * space character except \" \".\n *\n * So an attribute is:\n *  * The name: any character except a control character, space character, ('),\n *    (\"), \">\", \"=\", or \"/\"\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nconst lastAttributeNameRegex = \n// eslint-disable-next-line no-control-regex\n/([ \\x09\\x0a\\x0c\\x0d])([^\\0-\\x1F\\x7F-\\x9F \"'>=/]+)([ \\x09\\x0a\\x0c\\x0d]*=[ \\x09\\x0a\\x0c\\x0d]*(?:[^ \\x09\\x0a\\x0c\\x0d\"'`<>=]*|\"[^\"]*|'[^']*))$/;\n\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * An instance of a `Template` that can be attached to the DOM and updated\n * with new values.\n */\nclass TemplateInstance {\n    constructor(template, processor, options) {\n        this.__parts = [];\n        this.template = template;\n        this.processor = processor;\n        this.options = options;\n    }\n    update(values) {\n        let i = 0;\n        for (const part of this.__parts) {\n            if (part !== undefined) {\n                part.setValue(values[i]);\n            }\n            i++;\n        }\n        for (const part of this.__parts) {\n            if (part !== undefined) {\n                part.commit();\n            }\n        }\n    }\n    _clone() {\n        // There are a number of steps in the lifecycle of a template instance's\n        // DOM fragment:\n        //  1. Clone - create the instance fragment\n        //  2. Adopt - adopt into the main document\n        //  3. Process - find part markers and create parts\n        //  4. Upgrade - upgrade custom elements\n        //  5. Update - set node, attribute, property, etc., values\n        //  6. Connect - connect to the document. Optional and outside of this\n        //     method.\n        //\n        // We have a few constraints on the ordering of these steps:\n        //  * We need to upgrade before updating, so that property values will pass\n        //    through any property setters.\n        //  * We would like to process before upgrading so that we're sure that the\n        //    cloned fragment is inert and not disturbed by self-modifying DOM.\n        //  * We want custom elements to upgrade even in disconnected fragments.\n        //\n        // Given these constraints, with full custom elements support we would\n        // prefer the order: Clone, Process, Adopt, Upgrade, Update, Connect\n        //\n        // But Safari does not implement CustomElementRegistry#upgrade, so we\n        // can not implement that order and still have upgrade-before-update and\n        // upgrade disconnected fragments. So we instead sacrifice the\n        // process-before-upgrade constraint, since in Custom Elements v1 elements\n        // must not modify their light DOM in the constructor. We still have issues\n        // when co-existing with CEv0 elements like Polymer 1, and with polyfills\n        // that don't strictly adhere to the no-modification rule because shadow\n        // DOM, which may be created in the constructor, is emulated by being placed\n        // in the light DOM.\n        //\n        // The resulting order is on native is: Clone, Adopt, Upgrade, Process,\n        // Update, Connect. document.importNode() performs Clone, Adopt, and Upgrade\n        // in one step.\n        //\n        // The Custom Elements v1 polyfill supports upgrade(), so the order when\n        // polyfilled is the more ideal: Clone, Process, Adopt, Upgrade, Update,\n        // Connect.\n        const fragment = isCEPolyfill ?\n            this.template.element.content.cloneNode(true) :\n            document.importNode(this.template.element.content, true);\n        const stack = [];\n        const parts = this.template.parts;\n        // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n        const walker = document.createTreeWalker(fragment, 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */, null, false);\n        let partIndex = 0;\n        let nodeIndex = 0;\n        let part;\n        let node = walker.nextNode();\n        // Loop through all the nodes and parts of a template\n        while (partIndex < parts.length) {\n            part = parts[partIndex];\n            if (!isTemplatePartActive(part)) {\n                this.__parts.push(undefined);\n                partIndex++;\n                continue;\n            }\n            // Progress the tree walker until we find our next part's node.\n            // Note that multiple parts may share the same node (attribute parts\n            // on a single element), so this loop may not run at all.\n            while (nodeIndex < part.index) {\n                nodeIndex++;\n                if (node.nodeName === 'TEMPLATE') {\n                    stack.push(node);\n                    walker.currentNode = node.content;\n                }\n                if ((node = walker.nextNode()) === null) {\n                    // We've exhausted the content inside a nested template element.\n                    // Because we still have parts (the outer for-loop), we know:\n                    // - There is a template in the stack\n                    // - The walker will find a nextNode outside the template\n                    walker.currentNode = stack.pop();\n                    node = walker.nextNode();\n                }\n            }\n            // We've arrived at our part's node.\n            if (part.type === 'node') {\n                const textPart = this.processor.handleTextExpression(this.options, part);\n                textPart.insertAfterNode(node.previousSibling);\n                this.__parts.push(textPart);\n            }\n            else {\n                this.__parts.push(...this.processor.handleAttributeExpressions(node, part.name, part.strings, this.options, part));\n            }\n            partIndex++;\n        }\n        if (isCEPolyfill) {\n            document.adoptNode(fragment);\n            customElements.upgrade(fragment);\n        }\n        return fragment;\n    }\n}\n\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nlet policy;\n/**\n * Turns the value to trusted HTML. If the application uses Trusted Types the\n * value is transformed into TrustedHTML, which can be assigned to execution\n * sink. If the application doesn't use Trusted Types, the return value is the\n * same as the argument.\n */\nfunction convertConstantTemplateStringToTrustedHTML(value) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const w = window;\n    // TrustedTypes have been renamed to trustedTypes\n    // (https://github.com/WICG/trusted-types/issues/177)\n    const trustedTypes = (w.trustedTypes || w.TrustedTypes);\n    if (trustedTypes && !policy) {\n        policy = trustedTypes.createPolicy('lit-html', { createHTML: (s) => s });\n    }\n    return policy ? policy.createHTML(value) : value;\n}\nconst commentMarker = ` ${marker} `;\n/**\n * Used to clone existing node instead of each time creating new one which is\n * slower\n */\nconst emptyTemplateNode = document.createElement('template');\n/**\n * The return type of `html`, which holds a Template and the values from\n * interpolated expressions.\n */\nclass TemplateResult {\n    constructor(strings, values, type, processor) {\n        this.strings = strings;\n        this.values = values;\n        this.type = type;\n        this.processor = processor;\n    }\n    /**\n     * Returns a string of HTML used to create a `<template>` element.\n     */\n    getHTML() {\n        const l = this.strings.length - 1;\n        let html = '';\n        let isCommentBinding = false;\n        for (let i = 0; i < l; i++) {\n            const s = this.strings[i];\n            // For each binding we want to determine the kind of marker to insert\n            // into the template source before it's parsed by the browser's HTML\n            // parser. The marker type is based on whether the expression is in an\n            // attribute, text, or comment position.\n            //   * For node-position bindings we insert a comment with the marker\n            //     sentinel as its text content, like <!--{{lit-guid}}-->.\n            //   * For attribute bindings we insert just the marker sentinel for the\n            //     first binding, so that we support unquoted attribute bindings.\n            //     Subsequent bindings can use a comment marker because multi-binding\n            //     attributes must be quoted.\n            //   * For comment bindings we insert just the marker sentinel so we don't\n            //     close the comment.\n            //\n            // The following code scans the template source, but is *not* an HTML\n            // parser. We don't need to track the tree structure of the HTML, only\n            // whether a binding is inside a comment, and if not, if it appears to be\n            // the first binding in an attribute.\n            const commentOpen = s.lastIndexOf('<!--');\n            // We're in comment position if we have a comment open with no following\n            // comment close. Because <-- can appear in an attribute value there can\n            // be false positives.\n            isCommentBinding = (commentOpen > -1 || isCommentBinding) &&\n                s.indexOf('-->', commentOpen + 1) === -1;\n            // Check to see if we have an attribute-like sequence preceding the\n            // expression. This can match \"name=value\" like structures in text,\n            // comments, and attribute values, so there can be false-positives.\n            const attributeMatch = lastAttributeNameRegex.exec(s);\n            if (attributeMatch === null) {\n                // We're only in this branch if we don't have a attribute-like\n                // preceding sequence. For comments, this guards against unusual\n                // attribute values like <div foo=\"<!--${'bar'}\">. Cases like\n                // <!-- foo=${'bar'}--> are handled correctly in the attribute branch\n                // below.\n                html += s + (isCommentBinding ? commentMarker : nodeMarker);\n            }\n            else {\n                // For attributes we use just a marker sentinel, and also append a\n                // $lit$ suffix to the name to opt-out of attribute-specific parsing\n                // that IE and Edge do for style and certain SVG attributes.\n                html += s.substr(0, attributeMatch.index) + attributeMatch[1] +\n                    attributeMatch[2] + boundAttributeSuffix + attributeMatch[3] +\n                    marker;\n            }\n        }\n        html += this.strings[l];\n        return html;\n    }\n    getTemplateElement() {\n        const template = emptyTemplateNode.cloneNode();\n        // this is secure because `this.strings` is a TemplateStringsArray.\n        // TODO: validate this when\n        // https://github.com/tc39/proposal-array-is-template-object is implemented.\n        template.innerHTML =\n            convertConstantTemplateStringToTrustedHTML(this.getHTML());\n        return template;\n    }\n}\n/**\n * A TemplateResult for SVG fragments.\n *\n * This class wraps HTML in an `<svg>` tag in order to parse its contents in the\n * SVG namespace, then modifies the template to remove the `<svg>` tag so that\n * clones only container the original fragment.\n */\nclass SVGTemplateResult extends TemplateResult {\n    getHTML() {\n        return `<svg>${super.getHTML()}</svg>`;\n    }\n    getTemplateElement() {\n        const template = super.getTemplateElement();\n        const content = template.content;\n        const svgElement = content.firstChild;\n        content.removeChild(svgElement);\n        reparentNodes(content, svgElement.firstChild);\n        return template;\n    }\n}\n\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nconst isPrimitive = (value) => {\n    return (value === null ||\n        !(typeof value === 'object' || typeof value === 'function'));\n};\nconst isIterable = (value) => {\n    return Array.isArray(value) ||\n        // tslint:disable-next-line: no-any\n        !!(value && value[Symbol.iterator]);\n};\nconst identityFunction = (value) => value;\nconst noopSanitizer = (_node, _name, _type) => identityFunction;\n/**\n * A global callback used to get a sanitizer for a given field.\n */\nlet sanitizerFactory = noopSanitizer;\n/** Sets the global sanitizer factory. */\nconst setSanitizerFactory = (newSanitizer) => {\n    if (sanitizerFactory !== noopSanitizer) {\n        throw new Error(`Attempted to overwrite existing lit-html security policy.` +\n            ` setSanitizeDOMValueFactory should be called at most once.`);\n    }\n    sanitizerFactory = newSanitizer;\n};\n/**\n * Used to clone text node instead of each time creating new one which is slower\n */\nconst emptyTextNode = document.createTextNode('');\n/**\n * Writes attribute values to the DOM for a group of AttributeParts bound to a\n * single attribute. The value is only set once even if there are multiple parts\n * for an attribute.\n */\nclass AttributeCommitter {\n    constructor(element, name, strings, \n    // Next breaking change, consider making this param required.\n    templatePart, kind = 'attribute') {\n        this.dirty = true;\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n        this.parts = [];\n        let sanitizer = templatePart && templatePart.sanitizer;\n        if (sanitizer === undefined) {\n            sanitizer = sanitizerFactory(element, name, kind);\n            if (templatePart !== undefined) {\n                templatePart.sanitizer = sanitizer;\n            }\n        }\n        this.sanitizer = sanitizer;\n        for (let i = 0; i < strings.length - 1; i++) {\n            this.parts[i] = this._createPart();\n        }\n    }\n    /**\n     * Creates a single part. Override this to create a differnt type of part.\n     */\n    _createPart() {\n        return new AttributePart(this);\n    }\n    _getValue() {\n        const strings = this.strings;\n        const parts = this.parts;\n        const l = strings.length - 1;\n        // If we're assigning an attribute via syntax like:\n        //    attr=\"${foo}\"  or  attr=${foo}\n        // but not\n        //    attr=\"${foo} ${bar}\" or attr=\"${foo} baz\"\n        // then we don't want to coerce the attribute value into one long\n        // string. Instead we want to just return the value itself directly,\n        // so that sanitizeDOMValue can get the actual value rather than\n        // String(value)\n        // The exception is if v is an array, in which case we do want to smash\n        // it together into a string without calling String() on the array.\n        //\n        // This also allows trusted values (when using TrustedTypes) being\n        // assigned to DOM sinks without being stringified in the process.\n        if (l === 1 && strings[0] === '' && strings[1] === '' &&\n            parts[0] !== undefined) {\n            const v = parts[0].value;\n            if (!isIterable(v)) {\n                return v;\n            }\n        }\n        let text = '';\n        for (let i = 0; i < l; i++) {\n            text += strings[i];\n            const part = parts[i];\n            if (part !== undefined) {\n                const v = part.value;\n                if (isPrimitive(v) || !isIterable(v)) {\n                    text += typeof v === 'string' ? v : String(v);\n                }\n                else {\n                    for (const t of v) {\n                        text += typeof t === 'string' ? t : String(t);\n                    }\n                }\n            }\n        }\n        text += strings[l];\n        return text;\n    }\n    commit() {\n        if (this.dirty) {\n            this.dirty = false;\n            let value = this._getValue();\n            value = this.sanitizer(value);\n            if (typeof value === 'symbol') {\n                // Native Symbols throw if they're coerced to string.\n                value = String(value);\n            }\n            this.element.setAttribute(this.name, value);\n        }\n    }\n}\n/**\n * A Part that controls all or part of an attribute value.\n */\nclass AttributePart {\n    constructor(committer) {\n        this.value = undefined;\n        this.committer = committer;\n    }\n    setValue(value) {\n        if (value !== noChange && (!isPrimitive(value) || value !== this.value)) {\n            this.value = value;\n            // If the value is a not a directive, dirty the committer so that it'll\n            // call setAttribute. If the value is a directive, it'll dirty the\n            // committer if it calls setValue().\n            if (!isDirective(value)) {\n                this.committer.dirty = true;\n            }\n        }\n    }\n    commit() {\n        while (isDirective(this.value)) {\n            const directive = this.value;\n            this.value = noChange;\n            // tslint:disable-next-line: no-any\n            if (directive.isClass) {\n                // tslint:disable-next-line: no-any\n                directive.body(this);\n            }\n            else {\n                directive(this);\n            }\n        }\n        if (this.value === noChange) {\n            return;\n        }\n        this.committer.commit();\n    }\n}\n/**\n * A Part that controls a location within a Node tree. Like a Range, NodePart\n * has start and end locations and can set and update the Nodes between those\n * locations.\n *\n * NodeParts support several value types: primitives, Nodes, TemplateResults,\n * as well as arrays and iterables of those types.\n */\nclass NodePart {\n    constructor(options, templatePart) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        /**\n         * The sanitizer to use when writing text contents into this NodePart.\n         *\n         * We have to initialize this here rather than at the template literal level\n         * because the security of text content depends on the context into which\n         * it's written. e.g. the same text has different security requirements\n         * when a child of a <script> vs a <style> vs a <div>.\n         */\n        this.textSanitizer = undefined;\n        this.options = options;\n        this.templatePart = templatePart;\n    }\n    /**\n     * Appends this part into a container.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    appendInto(container) {\n        this.startNode = container.appendChild(createMarker());\n        this.endNode = container.appendChild(createMarker());\n    }\n    /**\n     * Inserts this part after the `ref` node (between `ref` and `ref`'s next\n     * sibling). Both `ref` and its next sibling must be static, unchanging nodes\n     * such as those that appear in a literal section of a template.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    insertAfterNode(ref) {\n        this.startNode = ref;\n        this.endNode = ref.nextSibling;\n    }\n    /**\n     * Appends this part into a parent part.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    appendIntoPart(part) {\n        part.__insert(this.startNode = createMarker());\n        part.__insert(this.endNode = createMarker());\n    }\n    /**\n     * Inserts this part after the `ref` part.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    insertAfterPart(ref) {\n        ref.__insert(this.startNode = createMarker());\n        this.endNode = ref.endNode;\n        ref.endNode = this.startNode;\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            // tslint:disable-next-line: no-any\n            if (directive.isClass) {\n                // tslint:disable-next-line: no-any\n                directive.body(this);\n            }\n            else {\n                directive(this);\n            }\n        }\n        const value = this.__pendingValue;\n        if (value === noChange) {\n            return;\n        }\n        if (isPrimitive(value)) {\n            if (value !== this.value) {\n                this.__commitText(value);\n            }\n        }\n        else if (value instanceof TemplateResult) {\n            this.__commitTemplateResult(value);\n        }\n        else if (value instanceof Node) {\n            this.__commitNode(value);\n        }\n        else if (isIterable(value)) {\n            this.__commitIterable(value);\n        }\n        else if (value === nothing) {\n            this.value = nothing;\n            this.clear();\n        }\n        else {\n            // Fallback, will render the string representation\n            this.__commitText(value);\n        }\n    }\n    __insert(node) {\n        this.endNode.parentNode.insertBefore(node, this.endNode);\n    }\n    __commitNode(value) {\n        if (this.value === value) {\n            return;\n        }\n        this.clear();\n        this.__insert(value);\n        this.value = value;\n    }\n    __commitText(value) {\n        const node = this.startNode.nextSibling;\n        value = value == null ? '' : value;\n        if (node === this.endNode.previousSibling &&\n            node.nodeType === 3 /* Node.TEXT_NODE */) {\n            // If we only have a single text node between the markers, we can just\n            // set its value, rather than replacing it.\n            if (this.textSanitizer === undefined) {\n                this.textSanitizer = sanitizerFactory(node, 'data', 'property');\n            }\n            const renderedValue = this.textSanitizer(value);\n            node.data = typeof renderedValue === 'string' ?\n                renderedValue :\n                String(renderedValue);\n        }\n        else {\n            // When setting text content, for security purposes it matters a lot what\n            // the parent is. For example, <style> and <script> need to be handled\n            // with care, while <span> does not. So first we need to put a text node\n            // into the document, then we can sanitize its contentx.\n            const textNode = emptyTextNode.cloneNode();\n            this.__commitNode(textNode);\n            if (this.textSanitizer === undefined) {\n                this.textSanitizer = sanitizerFactory(textNode, 'data', 'property');\n            }\n            const renderedValue = this.textSanitizer(value);\n            textNode.data = typeof renderedValue === 'string' ? renderedValue :\n                String(renderedValue);\n        }\n        this.value = value;\n    }\n    __commitTemplateResult(value) {\n        const template = this.options.templateFactory(value);\n        if (this.value instanceof TemplateInstance &&\n            this.value.template === template) {\n            this.value.update(value.values);\n        }\n        else {\n            // `value` is a template result that was constructed without knowledge of\n            // the parent we're about to write it into. sanitizeDOMValue hasn't been\n            // made aware of this relationship, and for scripts and style specifically\n            // this is known to be unsafe. So in the case where the user is in\n            // \"secure mode\" (i.e. when there's a sanitizeDOMValue set), we just want\n            // to forbid this because it's not a use case we want to support.\n            // We only apply this policy when sanitizerFactory has been set to\n            // prevent this from being a breaking change to the library.\n            const parent = this.endNode.parentNode;\n            if (sanitizerFactory !== noopSanitizer && parent.nodeName === 'STYLE' ||\n                parent.nodeName === 'SCRIPT') {\n                this.__commitText('/* lit-html will not write ' +\n                    'TemplateResults to scripts and styles */');\n                return;\n            }\n            // Make sure we propagate the template processor from the TemplateResult\n            // so that we use its syntax extension, etc. The template factory comes\n            // from the render function options so that it can control template\n            // caching and preprocessing.\n            const instance = new TemplateInstance(template, value.processor, this.options);\n            const fragment = instance._clone();\n            instance.update(value.values);\n            this.__commitNode(fragment);\n            this.value = instance;\n        }\n    }\n    __commitIterable(value) {\n        // For an Iterable, we create a new InstancePart per item, then set its\n        // value to the item. This is a little bit of overhead for every item in\n        // an Iterable, but it lets us recurse easily and efficiently update Arrays\n        // of TemplateResults that will be commonly returned from expressions like:\n        // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n        // If _value is an array, then the previous render was of an\n        // iterable and _value will contain the NodeParts from the previous\n        // render. If _value is not an array, clear this part and make a new\n        // array for NodeParts.\n        if (!Array.isArray(this.value)) {\n            this.value = [];\n            this.clear();\n        }\n        // Lets us keep track of how many items we stamped so we can clear leftover\n        // items from a previous render\n        const itemParts = this.value;\n        let partIndex = 0;\n        let itemPart;\n        for (const item of value) {\n            // Try to reuse an existing part\n            itemPart = itemParts[partIndex];\n            // If no existing part, create a new one\n            if (itemPart === undefined) {\n                itemPart = new NodePart(this.options, this.templatePart);\n                itemParts.push(itemPart);\n                if (partIndex === 0) {\n                    itemPart.appendIntoPart(this);\n                }\n                else {\n                    itemPart.insertAfterPart(itemParts[partIndex - 1]);\n                }\n            }\n            itemPart.setValue(item);\n            itemPart.commit();\n            partIndex++;\n        }\n        if (partIndex < itemParts.length) {\n            // Truncate the parts array so _value reflects the current state\n            itemParts.length = partIndex;\n            this.clear(itemPart && itemPart.endNode);\n        }\n    }\n    clear(startNode = this.startNode) {\n        removeNodes(this.startNode.parentNode, startNode.nextSibling, this.endNode);\n    }\n}\n/**\n * Implements a boolean attribute, roughly as defined in the HTML\n * specification.\n *\n * If the value is truthy, then the attribute is present with a value of\n * ''. If the value is falsey, the attribute is removed.\n */\nclass BooleanAttributePart {\n    constructor(element, name, strings) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        if (strings.length !== 2 || strings[0] !== '' || strings[1] !== '') {\n            throw new Error('Boolean attributes can only contain a single expression');\n        }\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            // tslint:disable-next-line: no-any\n            if (directive.isClass) {\n                // tslint:disable-next-line: no-any\n                directive.body(this);\n            }\n            else {\n                directive(this);\n            }\n        }\n        if (this.__pendingValue === noChange) {\n            return;\n        }\n        const value = !!this.__pendingValue;\n        if (this.value !== value) {\n            if (value) {\n                this.element.setAttribute(this.name, '');\n            }\n            else {\n                this.element.removeAttribute(this.name);\n            }\n            this.value = value;\n        }\n        this.__pendingValue = noChange;\n    }\n}\n/**\n * Sets attribute values for PropertyParts, so that the value is only set once\n * even if there are multiple parts for a property.\n *\n * If an expression controls the whole property value, then the value is simply\n * assigned to the property under control. If there are string literals or\n * multiple expressions, then the strings are expressions are interpolated into\n * a string first.\n */\nclass PropertyCommitter extends AttributeCommitter {\n    constructor(element, name, strings, \n    // Next breaking change, consider making this param required.\n    templatePart) {\n        super(element, name, strings, templatePart, 'property');\n        this.single =\n            (strings.length === 2 && strings[0] === '' && strings[1] === '');\n    }\n    _createPart() {\n        return new PropertyPart(this);\n    }\n    _getValue() {\n        if (this.single) {\n            return this.parts[0].value;\n        }\n        return super._getValue();\n    }\n    commit() {\n        if (this.dirty) {\n            this.dirty = false;\n            let value = this._getValue();\n            value = this.sanitizer(value);\n            // tslint:disable-next-line: no-any\n            this.element[this.name] = value;\n        }\n    }\n}\nclass PropertyPart extends AttributePart {\n}\n// Detect event listener options support. If the `capture` property is read\n// from the options object, then options are supported. If not, then the third\n// argument to add/removeEventListener is interpreted as the boolean capture\n// value so we should only pass the `capture` property.\nlet eventOptionsSupported = false;\n// Wrap into an IIFE because MS Edge <= v41 does not support having try/catch\n// blocks right into the body of a module\n(() => {\n    try {\n        const options = {\n            get capture() {\n                eventOptionsSupported = true;\n                return false;\n            }\n        };\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        window.addEventListener('test', options, options);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        window.removeEventListener('test', options, options);\n    }\n    catch (_e) {\n        // noop\n    }\n})();\nclass EventPart {\n    constructor(element, eventName, eventContext) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        this.element = element;\n        this.eventName = eventName;\n        this.eventContext = eventContext;\n        this.__boundHandleEvent = (e) => this.handleEvent(e);\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            // tslint:disable-next-line: no-any\n            if (directive.isClass) {\n                // tslint:disable-next-line: no-any\n                directive.body(this);\n            }\n            else {\n                directive(this);\n            }\n        }\n        if (this.__pendingValue === noChange) {\n            return;\n        }\n        const newListener = this.__pendingValue;\n        const oldListener = this.value;\n        const shouldRemoveListener = newListener == null ||\n            oldListener != null &&\n                (newListener.capture !== oldListener.capture ||\n                    newListener.once !== oldListener.once ||\n                    newListener.passive !== oldListener.passive);\n        const shouldAddListener = newListener != null && (oldListener == null || shouldRemoveListener);\n        if (shouldRemoveListener) {\n            this.element.removeEventListener(this.eventName, this.__boundHandleEvent, this.__options);\n        }\n        if (shouldAddListener) {\n            this.__options = getOptions(newListener);\n            this.element.addEventListener(this.eventName, this.__boundHandleEvent, this.__options);\n        }\n        this.value = newListener;\n        this.__pendingValue = noChange;\n    }\n    handleEvent(event) {\n        if (typeof this.value === 'function') {\n            this.value.call(this.eventContext || this.element, event);\n        }\n        else {\n            this.value.handleEvent(event);\n        }\n    }\n}\n// We copy options because of the inconsistent behavior of browsers when reading\n// the third argument of add/removeEventListener. IE11 doesn't support options\n// at all. Chrome 41 only reads `capture` if the argument is an object.\nconst getOptions = (o) => o &&\n    (eventOptionsSupported ?\n        { capture: o.capture, passive: o.passive, once: o.once } :\n        o.capture);\n\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * Creates Parts when a template is instantiated.\n */\nclass DefaultTemplateProcessor {\n    /**\n     * Create parts for an attribute-position binding, given the event, attribute\n     * name, and string literals.\n     *\n     * @param element The element containing the binding\n     * @param name  The attribute name\n     * @param strings The string literals. There are always at least two strings,\n     *   event for fully-controlled bindings with a single expression.\n     */\n    handleAttributeExpressions(element, name, strings, options, templatePart) {\n        const prefix = name[0];\n        if (prefix === '.') {\n            const committer = new PropertyCommitter(element, name.slice(1), strings, templatePart);\n            return committer.parts;\n        }\n        if (prefix === '@') {\n            return [new EventPart(element, name.slice(1), options.eventContext)];\n        }\n        if (prefix === '?') {\n            return [new BooleanAttributePart(element, name.slice(1), strings)];\n        }\n        const committer = new AttributeCommitter(element, name, strings, templatePart);\n        return committer.parts;\n    }\n    /**\n     * Create parts for a text-position binding.\n     * @param templateFactory\n     */\n    handleTextExpression(options, nodeTemplatePart) {\n        return new NodePart(options, nodeTemplatePart);\n    }\n}\nconst defaultTemplateProcessor = new DefaultTemplateProcessor();\n\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * The default TemplateFactory which caches Templates keyed on\n * result.type and result.strings.\n */\nfunction templateFactory(result) {\n    let templateCache = templateCaches.get(result.type);\n    if (templateCache === undefined) {\n        templateCache = {\n            stringsArray: new WeakMap(),\n            keyString: new Map()\n        };\n        templateCaches.set(result.type, templateCache);\n    }\n    let template = templateCache.stringsArray.get(result.strings);\n    if (template !== undefined) {\n        return template;\n    }\n    // If the TemplateStringsArray is new, generate a key from the strings\n    // This key is shared between all templates with identical content\n    const key = result.strings.join(marker);\n    // Check if we already have a Template for this key\n    template = templateCache.keyString.get(key);\n    if (template === undefined) {\n        // If we have not seen this key before, create a new Template\n        template = new Template(result, result.getTemplateElement());\n        // Cache the Template for this key\n        templateCache.keyString.set(key, template);\n    }\n    // Cache all future queries for this TemplateStringsArray\n    templateCache.stringsArray.set(result.strings, template);\n    return template;\n}\nconst templateCaches = new Map();\n\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nconst parts = new WeakMap();\n/**\n * Renders a template result or other value to a container.\n *\n * To update a container with new values, reevaluate the template literal and\n * call `render` with the new result.\n *\n * @param result Any value renderable by NodePart - typically a TemplateResult\n *     created by evaluating a template tag like `html` or `svg`.\n * @param container A DOM parent to render to. The entire contents are either\n *     replaced, or efficiently updated if the same result type was previous\n *     rendered there.\n * @param options RenderOptions for the entire render tree rendered to this\n *     container. Render options must *not* change between renders to the same\n *     container, as those changes will not effect previously rendered DOM.\n */\nconst render = (result, container, options) => {\n    let part = parts.get(container);\n    if (part === undefined) {\n        removeNodes(container, container.firstChild);\n        parts.set(container, part = new NodePart(Object.assign({ templateFactory }, options), undefined));\n        part.appendInto(container);\n    }\n    part.setValue(result);\n    part.commit();\n};\n\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for lit-html usage.\n// TODO(justinfagnani): inject version number at build time\nconst isBrowser = typeof window !== 'undefined';\nif (isBrowser) {\n    // If we run in the browser set version\n    (window['litHtmlVersions'] || (window['litHtmlVersions'] = [])).push('1.1.7');\n}\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n */\nconst html = (strings, ...values) => new TemplateResult(strings, values, 'html', defaultTemplateProcessor);\n/**\n * Interprets a template literal as an SVG template that can efficiently\n * render to and update a container.\n */\nconst svg = (strings, ...values) => new SVGTemplateResult(strings, values, 'svg', defaultTemplateProcessor);\n\nvar lithtml = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    html: html,\n    svg: svg,\n    DefaultTemplateProcessor: DefaultTemplateProcessor,\n    defaultTemplateProcessor: defaultTemplateProcessor,\n    directive: directive,\n    Directive: Directive,\n    isDirective: isDirective,\n    removeNodes: removeNodes,\n    reparentNodes: reparentNodes,\n    noChange: noChange,\n    nothing: nothing,\n    AttributeCommitter: AttributeCommitter,\n    AttributePart: AttributePart,\n    BooleanAttributePart: BooleanAttributePart,\n    EventPart: EventPart,\n    isIterable: isIterable,\n    isPrimitive: isPrimitive,\n    NodePart: NodePart,\n    PropertyCommitter: PropertyCommitter,\n    PropertyPart: PropertyPart,\n    get sanitizerFactory () { return sanitizerFactory; },\n    setSanitizerFactory: setSanitizerFactory,\n    parts: parts,\n    render: render,\n    templateCaches: templateCaches,\n    templateFactory: templateFactory,\n    TemplateInstance: TemplateInstance,\n    SVGTemplateResult: SVGTemplateResult,\n    TemplateResult: TemplateResult,\n    createMarker: createMarker,\n    isTemplatePartActive: isTemplatePartActive,\n    Template: Template\n});\n\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nvar __asyncValues =  function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\n/**\n * A directive that renders the items of an async iterable[1], appending new\n * values after previous values, similar to the built-in support for iterables.\n *\n * Async iterables are objects with a [Symbol.asyncIterator] method, which\n * returns an iterator who's `next()` method returns a Promise. When a new\n * value is available, the Promise resolves and the value is appended to the\n * Part controlled by the directive. If another value other than this\n * directive has been set on the Part, the iterable will no longer be listened\n * to and new values won't be written to the Part.\n *\n * [1]: https://github.com/tc39/proposal-async-iteration\n *\n * @param value An async iterable\n * @param mapper An optional function that maps from (value, index) to another\n *     value. Useful for generating templates for each item in the iterable.\n */\nconst asyncAppend = directive((value, mapper) => async (part) => {\n    var e_1, _a;\n    if (!(part instanceof NodePart)) {\n        throw new Error('asyncAppend can only be used in text bindings');\n    }\n    // If we've already set up this particular iterable, we don't need\n    // to do anything.\n    if (value === part.value) {\n        return;\n    }\n    part.value = value;\n    // We keep track of item Parts across iterations, so that we can\n    // share marker nodes between consecutive Parts.\n    let itemPart;\n    let i = 0;\n    try {\n        for (var value_1 = __asyncValues(value), value_1_1; value_1_1 = await value_1.next(), !value_1_1.done;) {\n            let v = value_1_1.value;\n            // Check to make sure that value is the still the current value of\n            // the part, and if not bail because a new value owns this part\n            if (part.value !== value) {\n                break;\n            }\n            // When we get the first value, clear the part. This lets the\n            // previous value display until we can replace it.\n            if (i === 0) {\n                part.clear();\n            }\n            // As a convenience, because functional-programming-style\n            // transforms of iterables and async iterables requires a library,\n            // we accept a mapper function. This is especially convenient for\n            // rendering a template for each item.\n            if (mapper !== undefined) {\n                // This is safe because T must otherwise be treated as unknown by\n                // the rest of the system.\n                v = mapper(v, i);\n            }\n            // Like with sync iterables, each item induces a Part, so we need\n            // to keep track of start and end nodes for the Part.\n            // Note: Because these Parts are not updatable like with a sync\n            // iterable (if we render a new value, we always clear), it may\n            // be possible to optimize away the Parts and just re-use the\n            // Part.setValue() logic.\n            let itemStartNode = part.startNode;\n            // Check to see if we have a previous item and Part\n            if (itemPart !== undefined) {\n                // Create a new node to separate the previous and next Parts\n                itemStartNode = createMarker();\n                // itemPart is currently the Part for the previous item. Set\n                // it's endNode to the node we'll use for the next Part's\n                // startNode.\n                itemPart.endNode = itemStartNode;\n                part.endNode.parentNode.insertBefore(itemStartNode, part.endNode);\n            }\n            itemPart = new NodePart(part.options, part.templatePart);\n            itemPart.insertAfterNode(itemStartNode);\n            itemPart.setValue(v);\n            itemPart.commit();\n            i++;\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (value_1_1 && !value_1_1.done && (_a = value_1.return)) await _a.call(value_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n});\n\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nvar __asyncValues$1 =  function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\n/**\n * A directive that renders the items of an async iterable[1], replacing\n * previous values with new values, so that only one value is ever rendered\n * at a time.\n *\n * Async iterables are objects with a [Symbol.asyncIterator] method, which\n * returns an iterator who's `next()` method returns a Promise. When a new\n * value is available, the Promise resolves and the value is rendered to the\n * Part controlled by the directive. If another value other than this\n * directive has been set on the Part, the iterable will no longer be listened\n * to and new values won't be written to the Part.\n *\n * [1]: https://github.com/tc39/proposal-async-iteration\n *\n * @param value An async iterable\n * @param mapper An optional function that maps from (value, index) to another\n *     value. Useful for generating templates for each item in the iterable.\n */\nconst asyncReplace = directive((value, mapper) => async (part) => {\n    var e_1, _a;\n    if (!(part instanceof NodePart)) {\n        throw new Error('asyncReplace can only be used in text bindings');\n    }\n    // If we've already set up this particular iterable, we don't need\n    // to do anything.\n    if (value === part.value) {\n        return;\n    }\n    // We nest a new part to keep track of previous item values separately\n    // of the iterable as a value itself.\n    const itemPart = new NodePart(part.options, part.templatePart);\n    part.value = value;\n    let i = 0;\n    try {\n        for (var value_1 = __asyncValues$1(value), value_1_1; value_1_1 = await value_1.next(), !value_1_1.done;) {\n            let v = value_1_1.value;\n            // Check to make sure that value is the still the current value of\n            // the part, and if not bail because a new value owns this part\n            if (part.value !== value) {\n                break;\n            }\n            // When we get the first value, clear the part. This let's the\n            // previous value display until we can replace it.\n            if (i === 0) {\n                part.clear();\n                itemPart.appendIntoPart(part);\n            }\n            // As a convenience, because functional-programming-style\n            // transforms of iterables and async iterables requires a library,\n            // we accept a mapper function. This is especially convenient for\n            // rendering a template for each item.\n            if (mapper !== undefined) {\n                // This is safe because T must otherwise be treated as unknown by\n                // the rest of the system.\n                v = mapper(v, i);\n            }\n            itemPart.setValue(v);\n            itemPart.commit();\n            i++;\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (value_1_1 && !value_1_1.done && (_a = value_1.return)) await _a.call(value_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n});\n\n/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nconst templateCaches$1 = new WeakMap();\n/**\n * Enables fast switching between multiple templates by caching the DOM nodes\n * and TemplateInstances produced by the templates.\n *\n * Example:\n *\n * ```\n * let checked = false;\n *\n * html`\n *   ${cache(checked ? html`input is checked` : html`input is not checked`)}\n * `\n * ```\n */\nconst cache = directive((value) => (part) => {\n    if (!(part instanceof NodePart)) {\n        throw new Error('cache can only be used in text bindings');\n    }\n    let templateCache = templateCaches$1.get(part);\n    if (templateCache === undefined) {\n        templateCache = new WeakMap();\n        templateCaches$1.set(part, templateCache);\n    }\n    const previousValue = part.value;\n    // First, can we update the current TemplateInstance, or do we need to move\n    // the current nodes into the cache?\n    if (previousValue instanceof TemplateInstance) {\n        if (value instanceof TemplateResult &&\n            previousValue.template === part.options.templateFactory(value)) {\n            // Same Template, just trigger an update of the TemplateInstance\n            part.setValue(value);\n            return;\n        }\n        else {\n            // Not the same Template, move the nodes from the DOM into the cache.\n            let cachedTemplate = templateCache.get(previousValue.template);\n            if (cachedTemplate === undefined) {\n                cachedTemplate = {\n                    instance: previousValue,\n                    nodes: document.createDocumentFragment(),\n                };\n                templateCache.set(previousValue.template, cachedTemplate);\n            }\n            reparentNodes(cachedTemplate.nodes, part.startNode.nextSibling, part.endNode);\n        }\n    }\n    // Next, can we reuse nodes from the cache?\n    if (value instanceof TemplateResult) {\n        const template = part.options.templateFactory(value);\n        const cachedTemplate = templateCache.get(template);\n        if (cachedTemplate !== undefined) {\n            // Move nodes out of cache\n            part.setValue(cachedTemplate.nodes);\n            part.commit();\n            // Set the Part value to the TemplateInstance so it'll update it.\n            part.value = cachedTemplate.instance;\n        }\n    }\n    part.setValue(value);\n});\n\n/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * Stores the ClassInfo object applied to a given AttributePart.\n * Used to unset existing values when a new ClassInfo object is applied.\n */\nconst previousClassesCache = new WeakMap();\n/**\n * A directive that applies CSS classes. This must be used in the `class`\n * attribute and must be the only part used in the attribute. It takes each\n * property in the `classInfo` argument and adds the property name to the\n * element's `classList` if the property value is truthy; if the property value\n * is falsey, the property name is removed from the element's `classList`. For\n * example\n * `{foo: bar}` applies the class `foo` if the value of `bar` is truthy.\n * @param classInfo {ClassInfo}\n */\nconst classMap = directive((classInfo) => (part) => {\n    if (!(part instanceof AttributePart) || (part instanceof PropertyPart) ||\n        part.committer.name !== 'class' || part.committer.parts.length > 1) {\n        throw new Error('The `classMap` directive must be used in the `class` attribute ' +\n            'and must be the only part in the attribute.');\n    }\n    const { committer } = part;\n    const { element } = committer;\n    let previousClasses = previousClassesCache.get(part);\n    if (previousClasses === undefined) {\n        // Write static classes once\n        element.className = committer.strings.join(' ');\n        previousClassesCache.set(part, previousClasses = new Set());\n    }\n    const { classList } = element;\n    // Remove old classes that no longer apply\n    // We use forEach() instead of for-of so that re don't require down-level\n    // iteration.\n    previousClasses.forEach((name) => {\n        if (!(name in classInfo)) {\n            classList.remove(name);\n            previousClasses.delete(name);\n        }\n    });\n    // Add or remove classes based on their classMap value\n    for (const name in classInfo) {\n        const value = classInfo[name];\n        // We explicitly want a loose truthy check of `value` because it seems more\n        // convenient that '' and 0 are skipped.\n        if (value != previousClasses.has(name)) {\n            if (value) {\n                classList.add(name);\n                previousClasses.add(name);\n            }\n            else {\n                classList.remove(name);\n                previousClasses.delete(name);\n            }\n        }\n    }\n});\n\n/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nconst previousValues = new WeakMap();\n/**\n * Prevents re-render of a template function until a single value or an array of\n * values changes.\n *\n * Example:\n *\n * ```js\n * html`\n *   <div>\n *     ${guard([user.id, company.id], () => html`...`)}\n *   </div>\n * ```\n *\n * In this case, the template only renders if either `user.id` or `company.id`\n * changes.\n *\n * guard() is useful with immutable data patterns, by preventing expensive work\n * until data updates.\n *\n * Example:\n *\n * ```js\n * html`\n *   <div>\n *     ${guard([immutableItems], () => immutableItems.map(i => html`${i}`))}\n *   </div>\n * ```\n *\n * In this case, items are mapped over only when the array reference changes.\n *\n * @param value the value to check before re-rendering\n * @param f the template function\n */\nconst guard = directive((value, f) => (part) => {\n    const previousValue = previousValues.get(part);\n    if (Array.isArray(value)) {\n        // Dirty-check arrays by item\n        if (Array.isArray(previousValue) &&\n            previousValue.length === value.length &&\n            value.every((v, i) => v === previousValue[i])) {\n            return;\n        }\n    }\n    else if (previousValue === value &&\n        (value !== undefined || previousValues.has(part))) {\n        // Dirty-check non-arrays by identity\n        return;\n    }\n    part.setValue(f());\n    // Copy the value if it's an array so that if it's mutated we don't forget\n    // what the previous values were.\n    previousValues.set(part, Array.isArray(value) ? Array.from(value) : value);\n});\n\n/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * For AttributeParts, sets the attribute if the value is defined and removes\n * the attribute if the value is undefined.\n *\n * For other part types, this directive is a no-op.\n */\nconst ifDefined = directive((value) => (part) => {\n    if (value === undefined && part instanceof AttributePart) {\n        if (value !== part.value) {\n            const name = part.committer.name;\n            part.committer.element.removeAttribute(name);\n        }\n    }\n    else {\n        part.setValue(value);\n    }\n});\n\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n// Helper functions for manipulating parts\n// TODO(kschaaf): Refactor into Part API?\nconst createAndInsertPart = (containerPart, beforePart) => {\n    const container = containerPart.startNode.parentNode;\n    const beforeNode = beforePart == null ? containerPart.endNode : beforePart.startNode;\n    const startNode = container.insertBefore(createMarker(), beforeNode);\n    container.insertBefore(createMarker(), beforeNode);\n    const newPart = new NodePart(containerPart.options, undefined);\n    newPart.insertAfterNode(startNode);\n    return newPart;\n};\nconst updatePart = (part, value) => {\n    part.setValue(value);\n    part.commit();\n    return part;\n};\nconst insertPartBefore = (containerPart, part, ref) => {\n    const container = containerPart.startNode.parentNode;\n    const beforeNode = ref ? ref.startNode : containerPart.endNode;\n    const endNode = part.endNode.nextSibling;\n    if (endNode !== beforeNode) {\n        reparentNodes(container, part.startNode, endNode, beforeNode);\n    }\n};\nconst removePart = (part) => {\n    removeNodes(part.startNode.parentNode, part.startNode, part.endNode.nextSibling);\n};\n// Helper for generating a map of array item to its index over a subset\n// of an array (used to lazily generate `newKeyToIndexMap` and\n// `oldKeyToIndexMap`)\nconst generateMap = (list, start, end) => {\n    const map = new Map();\n    for (let i = start; i <= end; i++) {\n        map.set(list[i], i);\n    }\n    return map;\n};\n// Stores previous ordered list of parts and map of key to index\nconst partListCache = new WeakMap();\nconst keyListCache = new WeakMap();\n/**\n * A directive that repeats a series of values (usually `TemplateResults`)\n * generated from an iterable, and updates those items efficiently when the\n * iterable changes based on user-provided `keys` associated with each item.\n *\n * Note that if a `keyFn` is provided, strict key-to-DOM mapping is maintained,\n * meaning previous DOM for a given key is moved into the new position if\n * needed, and DOM will never be reused with values for different keys (new DOM\n * will always be created for new keys). This is generally the most efficient\n * way to use `repeat` since it performs minimum unnecessary work for insertions\n * and removals.\n *\n * IMPORTANT: If providing a `keyFn`, keys *must* be unique for all items in a\n * given call to `repeat`. The behavior when two or more items have the same key\n * is undefined.\n *\n * If no `keyFn` is provided, this directive will perform similar to mapping\n * items to values, and DOM will be reused against potentially different items.\n */\nconst repeat = directive((items, keyFnOrTemplate, template) => {\n    let keyFn;\n    if (template === undefined) {\n        template = keyFnOrTemplate;\n    }\n    else if (keyFnOrTemplate !== undefined) {\n        keyFn = keyFnOrTemplate;\n    }\n    return (containerPart) => {\n        if (!(containerPart instanceof NodePart)) {\n            throw new Error('repeat can only be used in text bindings');\n        }\n        // Old part & key lists are retrieved from the last update\n        // (associated with the part for this instance of the directive)\n        const oldParts = partListCache.get(containerPart) || [];\n        const oldKeys = keyListCache.get(containerPart) || [];\n        // New part list will be built up as we go (either reused from\n        // old parts or created for new keys in this update). This is\n        // saved in the above cache at the end of the update.\n        const newParts = [];\n        // New value list is eagerly generated from items along with a\n        // parallel array indicating its key.\n        const newValues = [];\n        const newKeys = [];\n        let index = 0;\n        for (const item of items) {\n            newKeys[index] = keyFn ? keyFn(item, index) : index;\n            newValues[index] = template(item, index);\n            index++;\n        }\n        // Maps from key to index for current and previous update; these\n        // are generated lazily only when needed as a performance\n        // optimization, since they are only required for multiple\n        // non-contiguous changes in the list, which are less common.\n        let newKeyToIndexMap;\n        let oldKeyToIndexMap;\n        // Head and tail pointers to old parts and new values\n        let oldHead = 0;\n        let oldTail = oldParts.length - 1;\n        let newHead = 0;\n        let newTail = newValues.length - 1;\n        // Overview of O(n) reconciliation algorithm (general approach\n        // based on ideas found in ivi, vue, snabbdom, etc.):\n        //\n        // * We start with the list of old parts and new values (and\n        //   arrays of their respective keys), head/tail pointers into\n        //   each, and we build up the new list of parts by updating\n        //   (and when needed, moving) old parts or creating new ones.\n        //   The initial scenario might look like this (for brevity of\n        //   the diagrams, the numbers in the array reflect keys\n        //   associated with the old parts or new values, although keys\n        //   and parts/values are actually stored in parallel arrays\n        //   indexed using the same head/tail pointers):\n        //\n        //      oldHead v                 v oldTail\n        //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n        //   newParts: [ ,  ,  ,  ,  ,  ,  ]\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6] <- reflects the user's new\n        //                                      item order\n        //      newHead ^                 ^ newTail\n        //\n        // * Iterate old & new lists from both sides, updating,\n        //   swapping, or removing parts at the head/tail locations\n        //   until neither head nor tail can move.\n        //\n        // * Example below: keys at head pointers match, so update old\n        //   part 0 in-place (no need to move it) and record part 0 in\n        //   the `newParts` list. The last thing we do is advance the\n        //   `oldHead` and `newHead` pointers (will be reflected in the\n        //   next diagram).\n        //\n        //      oldHead v                 v oldTail\n        //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n        //   newParts: [0,  ,  ,  ,  ,  ,  ] <- heads matched: update 0\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldHead\n        //                                      & newHead\n        //      newHead ^                 ^ newTail\n        //\n        // * Example below: head pointers don't match, but tail\n        //   pointers do, so update part 6 in place (no need to move\n        //   it), and record part 6 in the `newParts` list. Last,\n        //   advance the `oldTail` and `oldHead` pointers.\n        //\n        //         oldHead v              v oldTail\n        //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n        //   newParts: [0,  ,  ,  ,  ,  , 6] <- tails matched: update 6\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldTail\n        //                                      & newTail\n        //         newHead ^              ^ newTail\n        //\n        // * If neither head nor tail match; next check if one of the\n        //   old head/tail items was removed. We first need to generate\n        //   the reverse map of new keys to index (`newKeyToIndexMap`),\n        //   which is done once lazily as a performance optimization,\n        //   since we only hit this case if multiple non-contiguous\n        //   changes were made. Note that for contiguous removal\n        //   anywhere in the list, the head and tails would advance\n        //   from either end and pass each other before we get to this\n        //   case and removals would be handled in the final while loop\n        //   without needing to generate the map.\n        //\n        // * Example below: The key at `oldTail` was removed (no longer\n        //   in the `newKeyToIndexMap`), so remove that part from the\n        //   DOM and advance just the `oldTail` pointer.\n        //\n        //         oldHead v           v oldTail\n        //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n        //   newParts: [0,  ,  ,  ,  ,  , 6] <- 5 not in new map: remove\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    5 and advance oldTail\n        //         newHead ^           ^ newTail\n        //\n        // * Once head and tail cannot move, any mismatches are due to\n        //   either new or moved items; if a new key is in the previous\n        //   \"old key to old index\" map, move the old part to the new\n        //   location, otherwise create and insert a new part. Note\n        //   that when moving an old part we null its position in the\n        //   oldParts array if it lies between the head and tail so we\n        //   know to skip it when the pointers get there.\n        //\n        // * Example below: neither head nor tail match, and neither\n        //   were removed; so find the `newHead` key in the\n        //   `oldKeyToIndexMap`, and move that old part's DOM into the\n        //   next head position (before `oldParts[oldHead]`). Last,\n        //   null the part in the `oldPart` array since it was\n        //   somewhere in the remaining oldParts still to be scanned\n        //   (between the head and tail pointers) so that we know to\n        //   skip that old part on future iterations.\n        //\n        //         oldHead v        v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2,  ,  ,  ,  , 6] <- stuck: update & move 2\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    into place and advance\n        //                                      newHead\n        //         newHead ^           ^ newTail\n        //\n        // * Note that for moves/insertions like the one above, a part\n        //   inserted at the head pointer is inserted before the\n        //   current `oldParts[oldHead]`, and a part inserted at the\n        //   tail pointer is inserted before `newParts[newTail+1]`. The\n        //   seeming asymmetry lies in the fact that new parts are\n        //   moved into place outside in, so to the right of the head\n        //   pointer are old parts, and to the right of the tail\n        //   pointer are new parts.\n        //\n        // * We always restart back from the top of the algorithm,\n        //   allowing matching and simple updates in place to\n        //   continue...\n        //\n        // * Example below: the head pointers once again match, so\n        //   simply update part 1 and record it in the `newParts`\n        //   array.  Last, advance both head pointers.\n        //\n        //         oldHead v        v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2, 1,  ,  ,  , 6] <- heads matched: update 1\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldHead\n        //                                      & newHead\n        //            newHead ^        ^ newTail\n        //\n        // * As mentioned above, items that were moved as a result of\n        //   being stuck (the final else clause in the code below) are\n        //   marked with null, so we always advance old pointers over\n        //   these so we're comparing the next actual old value on\n        //   either end.\n        //\n        // * Example below: `oldHead` is null (already placed in\n        //   newParts), so advance `oldHead`.\n        //\n        //            oldHead v     v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6] <- old head already used:\n        //   newParts: [0, 2, 1,  ,  ,  , 6]    advance oldHead\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]\n        //               newHead ^     ^ newTail\n        //\n        // * Note it's not critical to mark old parts as null when they\n        //   are moved from head to tail or tail to head, since they\n        //   will be outside the pointer range and never visited again.\n        //\n        // * Example below: Here the old tail key matches the new head\n        //   key, so the part at the `oldTail` position and move its\n        //   DOM to the new head position (before `oldParts[oldHead]`).\n        //   Last, advance `oldTail` and `newHead` pointers.\n        //\n        //               oldHead v  v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2, 1, 4,  ,  , 6] <- old tail matches new\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]   head: update & move 4,\n        //                                     advance oldTail & newHead\n        //               newHead ^     ^ newTail\n        //\n        // * Example below: Old and new head keys match, so update the\n        //   old head part in place, and advance the `oldHead` and\n        //   `newHead` pointers.\n        //\n        //               oldHead v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2, 1, 4, 3,   ,6] <- heads match: update 3\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance oldHead &\n        //                                      newHead\n        //                  newHead ^  ^ newTail\n        //\n        // * Once the new or old pointers move past each other then all\n        //   we have left is additions (if old list exhausted) or\n        //   removals (if new list exhausted). Those are handled in the\n        //   final while loops at the end.\n        //\n        // * Example below: `oldHead` exceeded `oldTail`, so we're done\n        //   with the main loop.  Create the remaining part and insert\n        //   it at the new head position, and the update is complete.\n        //\n        //                   (oldHead > oldTail)\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2, 1, 4, 3, 7 ,6] <- create and insert 7\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]\n        //                     newHead ^ newTail\n        //\n        // * Note that the order of the if/else clauses is not\n        //   important to the algorithm, as long as the null checks\n        //   come first (to ensure we're always working on valid old\n        //   parts) and that the final else clause comes last (since\n        //   that's where the expensive moves occur). The order of\n        //   remaining clauses is is just a simple guess at which cases\n        //   will be most common.\n        //\n        // * TODO(kschaaf) Note, we could calculate the longest\n        //   increasing subsequence (LIS) of old items in new position,\n        //   and only move those not in the LIS set. However that costs\n        //   O(nlogn) time and adds a bit more code, and only helps\n        //   make rare types of mutations require fewer moves. The\n        //   above handles removes, adds, reversal, swaps, and single\n        //   moves of contiguous items in linear time, in the minimum\n        //   number of moves. As the number of multiple moves where LIS\n        //   might help approaches a random shuffle, the LIS\n        //   optimization becomes less helpful, so it seems not worth\n        //   the code at this point. Could reconsider if a compelling\n        //   case arises.\n        while (oldHead <= oldTail && newHead <= newTail) {\n            if (oldParts[oldHead] === null) {\n                // `null` means old part at head has already been used\n                // below; skip\n                oldHead++;\n            }\n            else if (oldParts[oldTail] === null) {\n                // `null` means old part at tail has already been used\n                // below; skip\n                oldTail--;\n            }\n            else if (oldKeys[oldHead] === newKeys[newHead]) {\n                // Old head matches new head; update in place\n                newParts[newHead] =\n                    updatePart(oldParts[oldHead], newValues[newHead]);\n                oldHead++;\n                newHead++;\n            }\n            else if (oldKeys[oldTail] === newKeys[newTail]) {\n                // Old tail matches new tail; update in place\n                newParts[newTail] =\n                    updatePart(oldParts[oldTail], newValues[newTail]);\n                oldTail--;\n                newTail--;\n            }\n            else if (oldKeys[oldHead] === newKeys[newTail]) {\n                // Old head matches new tail; update and move to new tail\n                newParts[newTail] =\n                    updatePart(oldParts[oldHead], newValues[newTail]);\n                insertPartBefore(containerPart, oldParts[oldHead], newParts[newTail + 1]);\n                oldHead++;\n                newTail--;\n            }\n            else if (oldKeys[oldTail] === newKeys[newHead]) {\n                // Old tail matches new head; update and move to new head\n                newParts[newHead] =\n                    updatePart(oldParts[oldTail], newValues[newHead]);\n                insertPartBefore(containerPart, oldParts[oldTail], oldParts[oldHead]);\n                oldTail--;\n                newHead++;\n            }\n            else {\n                if (newKeyToIndexMap === undefined) {\n                    // Lazily generate key-to-index maps, used for removals &\n                    // moves below\n                    newKeyToIndexMap = generateMap(newKeys, newHead, newTail);\n                    oldKeyToIndexMap = generateMap(oldKeys, oldHead, oldTail);\n                }\n                if (!newKeyToIndexMap.has(oldKeys[oldHead])) {\n                    // Old head is no longer in new list; remove\n                    removePart(oldParts[oldHead]);\n                    oldHead++;\n                }\n                else if (!newKeyToIndexMap.has(oldKeys[oldTail])) {\n                    // Old tail is no longer in new list; remove\n                    removePart(oldParts[oldTail]);\n                    oldTail--;\n                }\n                else {\n                    // Any mismatches at this point are due to additions or\n                    // moves; see if we have an old part we can reuse and move\n                    // into place\n                    const oldIndex = oldKeyToIndexMap.get(newKeys[newHead]);\n                    const oldPart = oldIndex !== undefined ? oldParts[oldIndex] : null;\n                    if (oldPart === null) {\n                        // No old part for this value; create a new one and\n                        // insert it\n                        const newPart = createAndInsertPart(containerPart, oldParts[oldHead]);\n                        updatePart(newPart, newValues[newHead]);\n                        newParts[newHead] = newPart;\n                    }\n                    else {\n                        // Reuse old part\n                        newParts[newHead] =\n                            updatePart(oldPart, newValues[newHead]);\n                        insertPartBefore(containerPart, oldPart, oldParts[oldHead]);\n                        // This marks the old part as having been used, so that\n                        // it will be skipped in the first two checks above\n                        oldParts[oldIndex] = null;\n                    }\n                    newHead++;\n                }\n            }\n        }\n        // Add parts for any remaining new values\n        while (newHead <= newTail) {\n            // For all remaining additions, we insert before last new\n            // tail, since old pointers are no longer valid\n            const newPart = createAndInsertPart(containerPart, newParts[newTail + 1]);\n            updatePart(newPart, newValues[newHead]);\n            newParts[newHead++] = newPart;\n        }\n        // Remove any remaining unused old parts\n        while (oldHead <= oldTail) {\n            const oldPart = oldParts[oldHead++];\n            if (oldPart !== null) {\n                removePart(oldPart);\n            }\n        }\n        // Save order of new parts for next round\n        partListCache.set(containerPart, newParts);\n        keyListCache.set(containerPart, newKeys);\n    };\n});\n\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n// For each part, remember the value that was last rendered to the part by the\n// unsafeHTML directive, and the DocumentFragment that was last set as a value.\n// The DocumentFragment is used as a unique key to check if the last value\n// rendered to the part was with unsafeHTML. If not, we'll always re-render the\n// value passed to unsafeHTML.\nconst previousValues$1 = new WeakMap();\n/**\n * Used to clone existing node instead of each time creating new one which is\n * slower\n */\nconst emptyTemplateNode$1 = document.createElement('template');\n/**\n * Renders the result as HTML, rather than text.\n *\n * Note, this is unsafe to use with any user-provided input that hasn't been\n * sanitized or escaped, as it may lead to cross-site-scripting\n * vulnerabilities.\n */\nconst unsafeHTML = directive((value) => (part) => {\n    if (!(part instanceof NodePart)) {\n        throw new Error('unsafeHTML can only be used in text bindings');\n    }\n    const previousValue = previousValues$1.get(part);\n    if (previousValue !== undefined && isPrimitive(value) &&\n        value === previousValue.value && part.value === previousValue.fragment) {\n        return;\n    }\n    const template = emptyTemplateNode$1.cloneNode();\n    template.innerHTML = value; // innerHTML casts to string internally\n    const fragment = document.importNode(template.content, true);\n    part.setValue(fragment);\n    previousValues$1.set(part, { value, fragment });\n});\n\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nconst _state = new WeakMap();\n// Effectively infinity, but a SMI.\nconst _infinity = 0x7fffffff;\n/**\n * Renders one of a series of values, including Promises, to a Part.\n *\n * Values are rendered in priority order, with the first argument having the\n * highest priority and the last argument having the lowest priority. If a\n * value is a Promise, low-priority values will be rendered until it resolves.\n *\n * The priority of values can be used to create placeholder content for async\n * data. For example, a Promise with pending content can be the first,\n * highest-priority, argument, and a non_promise loading indicator template can\n * be used as the second, lower-priority, argument. The loading indicator will\n * render immediately, and the primary content will render when the Promise\n * resolves.\n *\n * Example:\n *\n *     const content = fetch('./content.txt').then(r => r.text());\n *     html`${until(content, html`<span>Loading...</span>`)}`\n */\nconst until = directive((...args) => (part) => {\n    let state = _state.get(part);\n    if (state === undefined) {\n        state = {\n            lastRenderedIndex: _infinity,\n            values: [],\n        };\n        _state.set(part, state);\n    }\n    const previousValues = state.values;\n    let previousLength = previousValues.length;\n    state.values = args;\n    for (let i = 0; i < args.length; i++) {\n        // If we've rendered a higher-priority value already, stop.\n        if (i > state.lastRenderedIndex) {\n            break;\n        }\n        const value = args[i];\n        // Render non-Promise values immediately\n        if (isPrimitive(value) ||\n            typeof value.then !== 'function') {\n            part.setValue(value);\n            state.lastRenderedIndex = i;\n            // Since a lower-priority value will never overwrite a higher-priority\n            // synchronous value, we can stop processing now.\n            break;\n        }\n        // If this is a Promise we've already handled, skip it.\n        if (i < previousLength && value === previousValues[i]) {\n            continue;\n        }\n        // We have a Promise that we haven't seen before, so priorities may have\n        // changed. Forget what we rendered before.\n        state.lastRenderedIndex = _infinity;\n        previousLength = 0;\n        Promise.resolve(value).then((resolvedValue) => {\n            const index = state.values.indexOf(value);\n            // If state.values doesn't contain the value, we've re-rendered without\n            // the value, so don't render it. Then, only render if the value is\n            // higher-priority than what's already been rendered.\n            if (index > -1 && index < state.lastRenderedIndex) {\n                state.lastRenderedIndex = index;\n                part.setValue(resolvedValue);\n                part.commit();\n            }\n        });\n    }\n});\n\nconst detached = new WeakMap();\nclass Detach extends Directive {\n    constructor(ifFn) {\n        super();\n        this.ifFn = ifFn;\n    }\n    body(part) {\n        const detach = this.ifFn();\n        const element = part.committer.element;\n        if (detach) {\n            if (!detached.has(part)) {\n                const nextSibling = element.nextSibling;\n                detached.set(part, { element, nextSibling });\n            }\n            element.remove();\n        }\n        else {\n            const data = detached.get(part);\n            if (typeof data !== 'undefined' && data !== null) {\n                data.nextSibling.parentNode.insertBefore(data.element, data.nextSibling);\n                detached.delete(part);\n            }\n        }\n    }\n}\n\nconst toRemove = [], toUpdate = [];\nclass StyleMap extends Directive {\n    constructor(styleInfo, detach = false) {\n        super();\n        this.previous = {};\n        this.style = styleInfo;\n        this.detach = detach;\n    }\n    setStyle(styleInfo) {\n        this.style = styleInfo;\n    }\n    setDetach(detach) {\n        this.detach = detach;\n    }\n    body(part) {\n        toRemove.length = 0;\n        toUpdate.length = 0;\n        // @ts-ignore\n        const element = part.committer.element;\n        const style = element.style;\n        let previous = this.previous;\n        for (const name in previous) {\n            if (this.style[name] === undefined) {\n                toRemove.push(name);\n            }\n        }\n        for (const name in this.style) {\n            const value = this.style[name];\n            const prev = previous[name];\n            if (prev !== undefined && prev === value) {\n                continue;\n            }\n            toUpdate.push(name);\n        }\n        if (toRemove.length || toUpdate.length) {\n            let parent, nextSibling;\n            if (this.detach) {\n                parent = element.parentNode;\n                if (parent) {\n                    nextSibling = element.nextSibling;\n                    element.remove();\n                }\n            }\n            for (const name of toRemove) {\n                style.removeProperty(name);\n            }\n            for (const name of toUpdate) {\n                const value = this.style[name];\n                if (!name.includes('-')) {\n                    style[name] = value;\n                }\n                else {\n                    style.setProperty(name, value);\n                }\n            }\n            if (this.detach && parent) {\n                parent.insertBefore(element, nextSibling);\n            }\n            this.previous = Object.assign({}, this.style);\n        }\n    }\n}\n\nclass Action {\n    constructor() {\n        this.isAction = true;\n    }\n}\nAction.prototype.isAction = true;\n\nconst defaultOptions = {\n    element: document.createTextNode(''),\n    axis: 'xy',\n    threshold: 10,\n    onDown(data) { },\n    onMove(data) { },\n    onUp(data) { },\n    onWheel(data) { }\n};\nconst pointerEventsExists = typeof PointerEvent !== 'undefined';\nlet id = 0;\nclass PointerAction extends Action {\n    constructor(element, data) {\n        super();\n        this.moving = '';\n        this.initialX = 0;\n        this.initialY = 0;\n        this.lastY = 0;\n        this.lastX = 0;\n        this.onPointerDown = this.onPointerDown.bind(this);\n        this.onPointerMove = this.onPointerMove.bind(this);\n        this.onPointerUp = this.onPointerUp.bind(this);\n        this.onWheel = this.onWheel.bind(this);\n        this.element = element;\n        this.id = ++id;\n        this.options = Object.assign(Object.assign({}, defaultOptions), data.pointerOptions);\n        if (pointerEventsExists) {\n            element.addEventListener('pointerdown', this.onPointerDown);\n            document.addEventListener('pointermove', this.onPointerMove);\n            document.addEventListener('pointerup', this.onPointerUp);\n        }\n        else {\n            element.addEventListener('touchstart', this.onPointerDown);\n            document.addEventListener('touchmove', this.onPointerMove, { passive: false });\n            document.addEventListener('touchend', this.onPointerUp);\n            document.addEventListener('touchcancel', this.onPointerUp);\n            element.addEventListener('mousedown', this.onPointerDown);\n            document.addEventListener('mousemove', this.onPointerMove, { passive: false });\n            document.addEventListener('mouseup', this.onPointerUp);\n        }\n    }\n    normalizeMouseWheelEvent(event) {\n        // @ts-ignore\n        let x = event.deltaX || 0;\n        // @ts-ignore\n        let y = event.deltaY || 0;\n        // @ts-ignore\n        let z = event.deltaZ || 0;\n        // @ts-ignore\n        const mode = event.deltaMode;\n        // @ts-ignore\n        const lineHeight = parseInt(getComputedStyle(event.target).getPropertyValue('line-height'));\n        let scale = 1;\n        switch (mode) {\n            case 1:\n                scale = lineHeight;\n                break;\n            case 2:\n                // @ts-ignore\n                scale = window.height;\n                break;\n        }\n        x *= scale;\n        y *= scale;\n        z *= scale;\n        return { x, y, z, event };\n    }\n    onWheel(event) {\n        const normalized = this.normalizeMouseWheelEvent(event);\n        this.options.onWheel(normalized);\n    }\n    normalizePointerEvent(event) {\n        let result = { x: 0, y: 0, pageX: 0, pageY: 0, clientX: 0, clientY: 0, screenX: 0, screenY: 0, event };\n        switch (event.type) {\n            case 'wheel':\n                const wheel = this.normalizeMouseWheelEvent(event);\n                result.x = wheel.x;\n                result.y = wheel.y;\n                result.pageX = result.x;\n                result.pageY = result.y;\n                result.screenX = result.x;\n                result.screenY = result.y;\n                result.clientX = result.x;\n                result.clientY = result.y;\n                break;\n            case 'touchstart':\n            case 'touchmove':\n            case 'touchend':\n            case 'touchcancel':\n                result.x = event.changedTouches[0].screenX;\n                result.y = event.changedTouches[0].screenY;\n                result.pageX = event.changedTouches[0].pageX;\n                result.pageY = event.changedTouches[0].pageY;\n                result.screenX = event.changedTouches[0].screenX;\n                result.screenY = event.changedTouches[0].screenY;\n                result.clientX = event.changedTouches[0].clientX;\n                result.clientY = event.changedTouches[0].clientY;\n                break;\n            default:\n                result.x = event.x;\n                result.y = event.y;\n                result.pageX = event.pageX;\n                result.pageY = event.pageY;\n                result.screenX = event.screenX;\n                result.screenY = event.screenY;\n                result.clientX = event.clientX;\n                result.clientY = event.clientY;\n                break;\n        }\n        return result;\n    }\n    onPointerDown(event) {\n        if (event.type === 'mousedown' && event.button !== 0)\n            return;\n        this.moving = 'xy';\n        const normalized = this.normalizePointerEvent(event);\n        this.lastX = normalized.x;\n        this.lastY = normalized.y;\n        this.initialX = normalized.x;\n        this.initialY = normalized.y;\n        this.options.onDown(normalized);\n    }\n    handleX(normalized) {\n        let movementX = normalized.x - this.lastX;\n        this.lastY = normalized.y;\n        this.lastX = normalized.x;\n        return movementX;\n    }\n    handleY(normalized) {\n        let movementY = normalized.y - this.lastY;\n        this.lastY = normalized.y;\n        this.lastX = normalized.x;\n        return movementY;\n    }\n    onPointerMove(event) {\n        if (this.moving === '' || (event.type === 'mousemove' && event.button !== 0))\n            return;\n        const normalized = this.normalizePointerEvent(event);\n        if (this.options.axis === 'x|y') {\n            let movementX = 0, movementY = 0;\n            if (this.moving === 'x' ||\n                (this.moving === 'xy' && Math.abs(normalized.x - this.initialX) > this.options.threshold)) {\n                this.moving = 'x';\n                movementX = this.handleX(normalized);\n            }\n            if (this.moving === 'y' ||\n                (this.moving === 'xy' && Math.abs(normalized.y - this.initialY) > this.options.threshold)) {\n                this.moving = 'y';\n                movementY = this.handleY(normalized);\n            }\n            this.options.onMove({\n                movementX,\n                movementY,\n                x: normalized.x,\n                y: normalized.y,\n                initialX: this.initialX,\n                initialY: this.initialY,\n                lastX: this.lastX,\n                lastY: this.lastY,\n                event\n            });\n        }\n        else if (this.options.axis === 'xy') {\n            let movementX = 0, movementY = 0;\n            if (Math.abs(normalized.x - this.initialX) > this.options.threshold) {\n                movementX = this.handleX(normalized);\n            }\n            if (Math.abs(normalized.y - this.initialY) > this.options.threshold) {\n                movementY = this.handleY(normalized);\n            }\n            this.options.onMove({\n                movementX,\n                movementY,\n                x: normalized.x,\n                y: normalized.y,\n                initialX: this.initialX,\n                initialY: this.initialY,\n                lastX: this.lastX,\n                lastY: this.lastY,\n                event\n            });\n        }\n        else if (this.options.axis === 'x') {\n            if (this.moving === 'x' ||\n                (this.moving === 'xy' && Math.abs(normalized.x - this.initialX) > this.options.threshold)) {\n                this.moving = 'x';\n                this.options.onMove({\n                    movementX: this.handleX(normalized),\n                    movementY: 0,\n                    initialX: this.initialX,\n                    initialY: this.initialY,\n                    lastX: this.lastX,\n                    lastY: this.lastY,\n                    event\n                });\n            }\n        }\n        else if (this.options.axis === 'y') {\n            let movementY = 0;\n            if (this.moving === 'y' ||\n                (this.moving === 'xy' && Math.abs(normalized.y - this.initialY) > this.options.threshold)) {\n                this.moving = 'y';\n                movementY = this.handleY(normalized);\n            }\n            this.options.onMove({\n                movementX: 0,\n                movementY,\n                x: normalized.x,\n                y: normalized.y,\n                initialX: this.initialX,\n                initialY: this.initialY,\n                lastX: this.lastX,\n                lastY: this.lastY,\n                event\n            });\n        }\n    }\n    onPointerUp(event) {\n        this.moving = '';\n        const normalized = this.normalizePointerEvent(event);\n        this.options.onUp({\n            movementX: 0,\n            movementY: 0,\n            x: normalized.x,\n            y: normalized.y,\n            initialX: this.initialX,\n            initialY: this.initialY,\n            lastX: this.lastX,\n            lastY: this.lastY,\n            event\n        });\n        this.lastY = 0;\n        this.lastX = 0;\n    }\n    destroy(element) {\n        if (pointerEventsExists) {\n            element.removeEventListener('pointerdown', this.onPointerDown);\n            document.removeEventListener('pointermove', this.onPointerMove);\n            document.removeEventListener('pointerup', this.onPointerUp);\n        }\n        else {\n            element.removeEventListener('mousedown', this.onPointerDown);\n            document.removeEventListener('mousemove', this.onPointerMove);\n            document.removeEventListener('mouseup', this.onPointerUp);\n            element.removeEventListener('touchstart', this.onPointerDown);\n            document.removeEventListener('touchmove', this.onPointerMove);\n            document.removeEventListener('touchend', this.onPointerUp);\n            document.removeEventListener('touchcancel', this.onPointerUp);\n        }\n    }\n}\n\nfunction getPublicComponentMethods(components, actionsByInstance, clone) {\n    return class PublicComponentMethods {\n        constructor(instance, vidoInstance, props = {}) {\n            this.instance = instance;\n            this.name = vidoInstance.name;\n            this.vidoInstance = vidoInstance;\n            this.props = props;\n            this.destroy = this.destroy.bind(this);\n            this.update = this.update.bind(this);\n            this.change = this.change.bind(this);\n            this.html = this.html.bind(this);\n        }\n        /**\n         * Destroy component\n         */\n        destroy() {\n            if (this.vidoInstance.debug) {\n                console.groupCollapsed(`destroying component ${this.instance}`);\n                console.log(clone({ components: components.keys(), actionsByInstance }));\n                console.trace();\n                console.groupEnd();\n            }\n            return this.vidoInstance.destroyComponent(this.instance, this.vidoInstance);\n        }\n        /**\n         * Update template - trigger rendering process\n         */\n        update() {\n            if (this.vidoInstance.debug) {\n                console.groupCollapsed(`updating component ${this.instance}`);\n                console.log(clone({ components: components.keys(), actionsByInstance }));\n                console.trace();\n                console.groupEnd();\n            }\n            return this.vidoInstance.updateTemplate(this.vidoInstance);\n        }\n        /**\n         * Change component input properties\n         * @param {any} newProps\n         */\n        change(newProps, options) {\n            if (this.vidoInstance.debug) {\n                console.groupCollapsed(`changing component ${this.instance}`);\n                console.log(clone({ props: this.props, newProps: newProps, components: components.keys(), actionsByInstance }));\n                console.trace();\n                console.groupEnd();\n            }\n            components.get(this.instance).change(newProps, options);\n        }\n        /**\n         * Get component lit-html template\n         * @param {} templateProps\n         */\n        html(templateProps = {}) {\n            const component = components.get(this.instance);\n            if (component) {\n                return component.update(templateProps, this.vidoInstance);\n            }\n            return undefined;\n        }\n        _getComponents() {\n            return components;\n        }\n        _getActions() {\n            return actionsByInstance;\n        }\n    };\n}\n\nfunction getActionsCollector(actionsByInstance) {\n    return class ActionsCollector extends Directive {\n        constructor(instance) {\n            super();\n            this.instance = instance;\n        }\n        set(actions, props) {\n            this.actions = actions;\n            this.props = props;\n            // props must be mutable! (do not do this -> {...props})\n            // because we will modify action props with onChange and can reuse existin instance\n            return this;\n        }\n        body(part) {\n            const element = part.committer.element;\n            for (const create of this.actions) {\n                if (typeof create !== 'undefined') {\n                    let exists;\n                    if (actionsByInstance.has(this.instance)) {\n                        for (const action of actionsByInstance.get(this.instance)) {\n                            if (action.componentAction.create === create && action.element === element) {\n                                exists = action;\n                                break;\n                            }\n                        }\n                    }\n                    if (!exists) {\n                        // @ts-ignore\n                        if (typeof element.vido !== 'undefined')\n                            delete element.vido;\n                        const componentAction = {\n                            create,\n                            update() { },\n                            destroy() { }\n                        };\n                        const action = { instance: this.instance, componentAction, element, props: this.props };\n                        let byInstance = [];\n                        if (actionsByInstance.has(this.instance)) {\n                            byInstance = actionsByInstance.get(this.instance);\n                        }\n                        byInstance.push(action);\n                        actionsByInstance.set(this.instance, byInstance);\n                    }\n                    else {\n                        exists.props = this.props;\n                    }\n                }\n            }\n        }\n    };\n}\n\nfunction getInternalComponentMethods(components, actionsByInstance, clone) {\n    return class InternalComponentMethods {\n        constructor(instance, vidoInstance, renderFunction, content) {\n            this.instance = instance;\n            this.vidoInstance = vidoInstance;\n            this.renderFunction = renderFunction;\n            this.content = content;\n        }\n        destroy() {\n            var _a;\n            if (this.vidoInstance.debug) {\n                console.groupCollapsed(`component destroy method fired ${this.instance}`);\n                console.log(clone({\n                    props: this.vidoInstance.props,\n                    components: components.keys(),\n                    destroyable: this.vidoInstance.destroyable,\n                    actionsByInstance\n                }));\n                console.trace();\n                console.groupEnd();\n            }\n            if (typeof ((_a = this.content) === null || _a === void 0 ? void 0 : _a.destroy) === 'function') {\n                this.content.destroy();\n            }\n            for (const d of this.vidoInstance.destroyable) {\n                d();\n            }\n            this.vidoInstance.onChangeFunctions = [];\n            this.vidoInstance.destroyable = [];\n            this.vidoInstance.update();\n        }\n        update(props = {}) {\n            if (this.vidoInstance.debug) {\n                console.groupCollapsed(`component update method fired ${this.instance}`);\n                console.log(clone({ components: components.keys(), actionsByInstance }));\n                console.trace();\n                console.groupEnd();\n            }\n            return this.renderFunction(props);\n        }\n        change(changedProps, options = { leave: false }) {\n            const props = changedProps;\n            if (this.vidoInstance.debug) {\n                console.groupCollapsed(`component change method fired ${this.instance}`);\n                console.log(clone({\n                    props,\n                    components: components.keys(),\n                    onChangeFunctions: this.vidoInstance.onChangeFunctions,\n                    changedProps,\n                    actionsByInstance\n                }));\n                console.trace();\n                console.groupEnd();\n            }\n            for (const fn of this.vidoInstance.onChangeFunctions) {\n                fn(changedProps, options);\n            }\n        }\n    };\n}\n\n/**\n * Schedule - a throttle function that uses requestAnimationFrame to limit the rate at which a function is called.\n *\n * @param {function} fn\n * @returns {function}\n */\nfunction schedule(fn) {\n    let frameId = 0;\n    function wrapperFn(argument) {\n        if (frameId) {\n            return;\n        }\n        function executeFrame() {\n            frameId = 0;\n            fn.apply(undefined, [argument]);\n        }\n        frameId = requestAnimationFrame(executeFrame);\n    }\n    return wrapperFn;\n}\n/**\n * Is object - helper function to determine if specified variable is an object\n *\n * @param {any} item\n * @returns {boolean}\n */\nfunction isObject(item) {\n    return item && typeof item === 'object' && !Array.isArray(item);\n}\n/**\n * Merge deep - helper function which will merge objects recursively - creating brand new one - like clone\n *\n * @param {object} target\n * @params {object} sources\n * @returns {object}\n */\nfunction mergeDeep(target, ...sources) {\n    const source = sources.shift();\n    if (isObject(target) && isObject(source)) {\n        for (const key in source) {\n            if (isObject(source[key])) {\n                if (typeof target[key] === 'undefined') {\n                    target[key] = {};\n                }\n                target[key] = mergeDeep(target[key], source[key]);\n            }\n            else if (Array.isArray(source[key])) {\n                target[key] = [];\n                for (let item of source[key]) {\n                    if (isObject(item)) {\n                        target[key].push(mergeDeep({}, item));\n                        continue;\n                    }\n                    target[key].push(item);\n                }\n            }\n            else {\n                target[key] = source[key];\n            }\n        }\n    }\n    if (!sources.length) {\n        return target;\n    }\n    return mergeDeep(target, ...sources);\n}\n/**\n * Clone helper function\n *\n * @param source\n * @returns {object} cloned source\n */\nfunction clone(source) {\n    if (typeof source.actions !== 'undefined') {\n        const actns = source.actions.map((action) => {\n            const result = Object.assign({}, action);\n            const props = Object.assign({}, result.props);\n            delete props.state;\n            delete props.api;\n            delete result.element;\n            result.props = props;\n            return result;\n        });\n        source.actions = actns;\n    }\n    return mergeDeep({}, source);\n}\n\n/* dev imports\nimport { render, html, directive, svg, Part } from '../lit-html';\nimport { asyncAppend } from '../lit-html/directives/async-append';\nimport { asyncReplace } from '../lit-html/directives/async-replace';\nimport { cache } from '../lit-html/directives/cache';\nimport { classMap } from '../lit-html/directives/class-map';\nimport { guard } from '../lit-html/directives/guard';\nimport { ifDefined } from '../lit-html/directives/if-defined';\nimport { repeat } from '../lit-html/directives/repeat';\nimport { unsafeHTML } from '../lit-html/directives/unsafe-html';\nimport { until } from '../lit-html/directives/until';\nimport { Directive } from '../lit-html/lib/directive';\n*/\n/**\n * Vido library\n *\n * @param {any} state - state management for the view (can be anything)\n * @param {any} api - some api's or other globally available services\n * @returns {object} vido instance\n */\nfunction Vido(state, api) {\n    let componentId = 0;\n    const components = new Map();\n    let actionsByInstance = new Map();\n    let app, element;\n    let shouldUpdateCount = 0;\n    const resolved = Promise.resolve();\n    const additionalMethods = {};\n    const ActionsCollector = getActionsCollector(actionsByInstance);\n    class InstanceActionsCollector {\n        constructor(instance) {\n            this.instance = instance;\n        }\n        create(actions, props) {\n            const actionsInstance = new ActionsCollector(this.instance);\n            actionsInstance.set(actions, props);\n            return actionsInstance;\n        }\n    }\n    const PublicComponentMethods = getPublicComponentMethods(components, actionsByInstance, clone);\n    const InternalComponentMethods = getInternalComponentMethods(components, actionsByInstance, clone);\n    class vido {\n        constructor() {\n            this.destroyable = [];\n            this.onChangeFunctions = [];\n            this.debug = false;\n            this.state = state;\n            this.api = api;\n            this.lastProps = {};\n            this.html = html;\n            this.svg = svg;\n            this.directive = directive;\n            this.asyncAppend = asyncAppend;\n            this.asyncReplace = asyncReplace;\n            this.cache = cache;\n            this.classMap = classMap;\n            this.guard = guard;\n            this.ifDefined = ifDefined;\n            this.repeat = repeat;\n            this.unsafeHTML = unsafeHTML;\n            this.until = until;\n            this.schedule = schedule;\n            this.actionsByInstance = (componentActions, props) => { };\n            this.StyleMap = StyleMap;\n            this.Detach = Detach;\n            this.PointerAction = PointerAction;\n            this.Action = Action;\n            this._components = components;\n            this._actions = actionsByInstance;\n            this.reuseComponents = this.reuseComponents.bind(this);\n            this.onDestroy = this.onDestroy.bind(this);\n            this.onChange = this.onChange.bind(this);\n            this.update = this.update.bind(this);\n            for (const name in additionalMethods) {\n                this[name] = additionalMethods[name];\n            }\n        }\n        addMethod(name, body) {\n            additionalMethods[name] = body;\n        }\n        onDestroy(fn) {\n            this.destroyable.push(fn);\n        }\n        onChange(fn) {\n            this.onChangeFunctions.push(fn);\n        }\n        update(callback) {\n            return this.updateTemplate(callback);\n        }\n        /**\n         * Reuse existing components when your data was changed\n         *\n         * @param {array} currentComponents - array of components\n         * @param {array} dataArray  - any data as array for each component\n         * @param {function} getProps - you can pass params to component from array item ( example: item=>({id:item.id}) )\n         * @param {function} component - what kind of components do you want to create?\n         * @param {boolean} leaveTail - leave last elements and do not destroy corresponding components\n         * @returns {array} of components (with updated/destroyed/created ones)\n         */\n        reuseComponents(currentComponents, dataArray, getProps, component, leaveTail = true) {\n            const modified = [];\n            const currentLen = currentComponents.length;\n            const dataLen = dataArray.length;\n            let leave = false;\n            if (leaveTail && (dataArray === undefined || dataArray.length === 0)) {\n                leave = true;\n            }\n            let leaveStartingAt = 0;\n            if (currentLen < dataLen) {\n                let diff = dataLen - currentLen;\n                while (diff) {\n                    const item = dataArray[dataLen - diff];\n                    const newComponent = this.createComponent(component, getProps(item));\n                    currentComponents.push(newComponent);\n                    modified.push(newComponent.instance);\n                    diff--;\n                }\n            }\n            else if (currentLen > dataLen) {\n                let diff = currentLen - dataLen;\n                if (leaveTail) {\n                    leave = true;\n                    leaveStartingAt = currentLen - diff;\n                }\n                while (diff) {\n                    const index = currentLen - diff;\n                    if (!leaveTail) {\n                        modified.push(currentComponents[index].instance);\n                        currentComponents[index].destroy();\n                    }\n                    diff--;\n                }\n                if (!leaveTail) {\n                    currentComponents.length = dataLen;\n                }\n            }\n            let index = 0;\n            for (const component of currentComponents) {\n                const item = dataArray[index];\n                if (!modified.includes(component.instance)) {\n                    component.change(getProps(item), { leave: leave && index >= leaveStartingAt });\n                }\n                index++;\n            }\n        }\n        createComponent(component, props = {}, content = null) {\n            const instance = component.name + ':' + componentId++;\n            let vidoInstance;\n            vidoInstance = new vido();\n            vidoInstance.instance = instance;\n            vidoInstance.name = component.name;\n            vidoInstance.Actions = new InstanceActionsCollector(instance);\n            const publicMethods = new PublicComponentMethods(instance, vidoInstance, props);\n            const internalMethods = new InternalComponentMethods(instance, vidoInstance, component(vidoInstance, props, content), content);\n            components.set(instance, internalMethods);\n            components.get(instance).change(props);\n            if (vidoInstance.debug) {\n                console.groupCollapsed(`component created ${instance}`);\n                console.log(clone({ props, components: components.keys(), actionsByInstance }));\n                console.trace();\n                console.groupEnd();\n            }\n            return publicMethods;\n        }\n        destroyComponent(instance, vidoInstance) {\n            if (vidoInstance.debug) {\n                console.groupCollapsed(`destroying component ${instance}...`);\n                console.log(clone({ components: components.keys(), actionsByInstance }));\n                console.trace();\n                console.groupEnd();\n            }\n            if (actionsByInstance.has(instance)) {\n                for (const action of actionsByInstance.get(instance)) {\n                    if (typeof action.componentAction.destroy === 'function') {\n                        action.componentAction.destroy(action.element, action.props);\n                    }\n                }\n            }\n            actionsByInstance.delete(instance);\n            const component = components.get(instance);\n            component.update();\n            component.destroy();\n            components.delete(instance);\n            if (vidoInstance.debug) {\n                console.groupCollapsed(`component destroyed ${instance}`);\n                console.log(clone({ components: components.keys(), actionsByInstance }));\n                console.trace();\n                console.groupEnd();\n            }\n        }\n        executeActions() {\n            var _a, _b, _c;\n            for (const actions of actionsByInstance.values()) {\n                for (const action of actions) {\n                    if (action.element.vido === undefined) {\n                        const componentAction = action.componentAction;\n                        const create = componentAction.create;\n                        if (typeof create !== 'undefined') {\n                            let result;\n                            if (((_a = create.prototype) === null || _a === void 0 ? void 0 : _a.isAction) !== true &&\n                                create.isAction === undefined &&\n                                ((_b = create.prototype) === null || _b === void 0 ? void 0 : _b.update) === undefined &&\n                                ((_c = create.prototype) === null || _c === void 0 ? void 0 : _c.destroy) === undefined) {\n                                result = create(action.element, action.props);\n                            }\n                            else {\n                                result = new create(action.element, action.props);\n                            }\n                            if (result !== undefined) {\n                                if (typeof result === 'function') {\n                                    componentAction.destroy = result;\n                                }\n                                else {\n                                    if (typeof result.update === 'function') {\n                                        componentAction.update = result.update.bind(result);\n                                    }\n                                    if (typeof result.destroy === 'function') {\n                                        componentAction.destroy = result.destroy.bind(result);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    else {\n                        action.element.vido = action.props;\n                        if (typeof action.componentAction.update === 'function') {\n                            action.componentAction.update(action.element, action.props);\n                        }\n                    }\n                }\n                for (const action of actions) {\n                    action.element.vido = action.props;\n                }\n            }\n        }\n        updateTemplate(callback) {\n            return new Promise((resolve) => {\n                const currentShouldUpdateCount = ++shouldUpdateCount;\n                const self = this;\n                function flush() {\n                    if (currentShouldUpdateCount === shouldUpdateCount) {\n                        shouldUpdateCount = 0;\n                        self.render();\n                        if (typeof callback === 'function')\n                            callback();\n                        resolve();\n                    }\n                }\n                resolved.then(flush);\n            });\n        }\n        createApp(config) {\n            element = config.element;\n            const App = this.createComponent(config.component, config.props);\n            app = App.instance;\n            this.render();\n            return App;\n        }\n        render() {\n            const appComponent = components.get(app);\n            if (appComponent) {\n                render(appComponent.update(), element);\n                this.executeActions();\n            }\n            else if (element) {\n                element.remove();\n            }\n        }\n    }\n    return new vido();\n}\nVido.prototype.lithtml = lithtml;\nVido.prototype.Action = Action;\nVido.prototype.Directive = Directive;\nVido.prototype.schedule = schedule;\nVido.prototype.Detach = Detach;\nVido.prototype.StyleMap = StyleMap;\nVido.prototype.PointerAction = PointerAction;\nVido.prototype.asyncAppend = asyncAppend;\nVido.prototype.asyncReplace = asyncReplace;\nVido.prototype.cache = cache;\nVido.prototype.classMap = classMap;\nVido.prototype.guard = guard;\nVido.prototype.ifDefined = ifDefined;\nVido.prototype.repeat = repeat;\nVido.prototype.unsafeHTML = unsafeHTML;\nVido.prototype.unti = until;\n\n/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser$1 = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser$1 || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser$1 || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser$1) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\n/**\n * Main component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\nfunction Main(vido, props = {}) {\n    const { api, state, onDestroy, Actions, update, createComponent, html, StyleMap, schedule } = vido;\n    const componentName = api.name;\n    // Initialize plugins\n    onDestroy(state.subscribe('config.plugins', plugins => {\n        if (typeof plugins !== 'undefined' && Array.isArray(plugins)) {\n            for (const initializePlugin of plugins) {\n                const destroyPlugin = initializePlugin(vido);\n                if (typeof destroyPlugin === 'function') {\n                    onDestroy(destroyPlugin);\n                }\n                else if (destroyPlugin && destroyPlugin.hasOwnProperty('destroy')) {\n                    destroyPlugin.destroy();\n                }\n            }\n        }\n    }));\n    const componentSubs = [];\n    let ListComponent;\n    componentSubs.push(state.subscribe('config.components.List', value => (ListComponent = value)));\n    let ChartComponent;\n    componentSubs.push(state.subscribe('config.components.Chart', value => (ChartComponent = value)));\n    const List = createComponent(ListComponent);\n    onDestroy(List.destroy);\n    const Chart = createComponent(ChartComponent);\n    onDestroy(Chart.destroy);\n    onDestroy(() => {\n        componentSubs.forEach(unsub => unsub());\n    });\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.Main', value => (wrapper = value)));\n    const componentActions = api.getActions('main');\n    let className, classNameVerticalScroll;\n    const styleMap = new StyleMap({}), verticalScrollStyleMap = new StyleMap({}), verticalScrollAreaStyleMap = new StyleMap({});\n    let verticalScrollBarElement;\n    let rowsHeight = 0;\n    let resizerActive = false;\n    /**\n     * Update class names\n     * @param {object} classNames\n     */\n    const updateClassNames = classNames => {\n        const config = state.get('config');\n        className = api.getClass(componentName, { config });\n        if (resizerActive) {\n            className += ` ${componentName}__list-column-header-resizer--active`;\n        }\n        classNameVerticalScroll = api.getClass('vertical-scroll', { config });\n        update();\n    };\n    onDestroy(state.subscribe('config.classNames', updateClassNames));\n    /**\n     * Height change\n     */\n    function heightChange() {\n        const config = state.get('config');\n        const scrollBarHeight = state.get('_internal.scrollBarHeight');\n        const height = config.height - config.headerHeight - scrollBarHeight;\n        state.update('_internal.height', height);\n        styleMap.style['--height'] = config.height + 'px';\n        verticalScrollStyleMap.style.height = height + 'px';\n        verticalScrollStyleMap.style.width = scrollBarHeight + 'px';\n        verticalScrollStyleMap.style['margin-top'] = config.headerHeight + 'px';\n        update();\n    }\n    onDestroy(state.subscribeAll(['config.height', 'config.headerHeight', '_internal.scrollBarHeight'], heightChange));\n    /**\n     * Resizer active change\n     * @param {boolean} active\n     */\n    function resizerActiveChange(active) {\n        resizerActive = active;\n        className = api.getClass(api.name);\n        if (resizerActive) {\n            className += ` ${api.name}__list-column-header-resizer--active`;\n        }\n        update();\n    }\n    onDestroy(state.subscribe('_internal.list.columns.resizer.active', resizerActiveChange));\n    /**\n     * Generate tree\n     * @param {object} bulk\n     * @param {object} eventInfo\n     */\n    function generateTree(bulk, eventInfo) {\n        if (state.get('_internal.flatTreeMap').length && eventInfo.type === 'subscribe') {\n            return;\n        }\n        const configRows = state.get('config.list.rows');\n        const rows = [];\n        for (const rowId in configRows) {\n            rows.push(configRows[rowId]);\n        }\n        api.fillEmptyRowValues(rows);\n        const configItems = state.get('config.chart.items');\n        const items = [];\n        for (const itemId in configItems) {\n            items.push(configItems[itemId]);\n        }\n        api.prepareItems(items);\n        const treeMap = api.makeTreeMap(rows, items);\n        state.update('_internal.treeMap', treeMap);\n        const flatTreeMapById = api.getFlatTreeMapById(treeMap);\n        state.update('_internal.flatTreeMapById', flatTreeMapById);\n        const flatTreeMap = api.flattenTreeMap(treeMap);\n        state.update('_internal.flatTreeMap', flatTreeMap);\n        update();\n    }\n    onDestroy(state.subscribeAll(['config.list.rows;', 'config.chart.items;'], generateTree));\n    onDestroy(state.subscribeAll(['config.list.rows.*.parentId', 'config.chart.items.*.rowId'], generateTree, { bulk: true }));\n    function prepareExpanded() {\n        const configRows = state.get('config.list.rows');\n        const rowsWithParentsExpanded = api.getRowsFromIds(api.getRowsWithParentsExpanded(state.get('_internal.flatTreeMap'), state.get('_internal.flatTreeMapById'), configRows), configRows);\n        rowsHeight = api.getRowsHeight(rowsWithParentsExpanded);\n        state.update('_internal.list.rowsHeight', rowsHeight);\n        state.update('_internal.list.rowsWithParentsExpanded', rowsWithParentsExpanded);\n        update();\n    }\n    onDestroy(state.subscribeAll(['config.list.rows.*.expanded', '_internal.treeMap;', 'config.list.rows.*.height'], prepareExpanded, { bulk: true }));\n    /**\n     * Generate visible rows\n     */\n    function generateVisibleRowsAndItems() {\n        const { visibleRows, compensation } = api.getVisibleRowsAndCompensation(state.get('_internal.list.rowsWithParentsExpanded'));\n        const smoothScroll = state.get('config.scroll.smooth');\n        const currentVisibleRows = state.get('_internal.list.visibleRows');\n        let shouldUpdate = true;\n        state.update('config.scroll.compensation.y', smoothScroll ? -compensation : 0);\n        if (visibleRows.length !== currentVisibleRows.length) {\n            shouldUpdate = true;\n        }\n        else if (visibleRows.length) {\n            shouldUpdate = visibleRows.some((row, index) => {\n                if (typeof currentVisibleRows[index] === 'undefined') {\n                    return true;\n                }\n                return row.id !== currentVisibleRows[index].id;\n            });\n        }\n        if (shouldUpdate) {\n            state.update('_internal.list.visibleRows', visibleRows);\n        }\n        const visibleItems = [];\n        for (const row of visibleRows) {\n            for (const item of row._internal.items) {\n                visibleItems.push(item);\n            }\n        }\n        state.update('_internal.chart.visibleItems', visibleItems);\n        update();\n    }\n    onDestroy(state.subscribeAll(['_internal.list.rowsWithParentsExpanded;', 'config.scroll.top', 'config.chart.items'], generateVisibleRowsAndItems, { bulk: true }));\n    let elementScrollTop = 0;\n    function onVisibleRowsChange() {\n        const top = state.get('config.scroll.top');\n        verticalScrollAreaStyleMap.style.width = '1px';\n        verticalScrollAreaStyleMap.style.height = rowsHeight + 'px';\n        if (elementScrollTop !== top && verticalScrollBarElement) {\n            elementScrollTop = top;\n            verticalScrollBarElement.scrollTop = top;\n        }\n        update();\n    }\n    onDestroy(state.subscribe('_internal.list.visibleRows;', onVisibleRowsChange));\n    /**\n     * Generate and add period dates\n     * @param {string} period\n     * @param {object} internalTime\n     */\n    const generatePeriodDates = (period, internalTime) => {\n        const dates = [];\n        let leftGlobal = internalTime.leftGlobal;\n        const timePerPixel = internalTime.timePerPixel;\n        let startOfLeft = api.time\n            .date(leftGlobal)\n            .startOf(period)\n            .valueOf();\n        if (startOfLeft < leftGlobal)\n            startOfLeft = leftGlobal;\n        let sub = leftGlobal - startOfLeft;\n        let subPx = sub / timePerPixel;\n        let leftPx = 0;\n        const diff = Math.ceil(api.time\n            .date(internalTime.rightGlobal)\n            .endOf(period)\n            .diff(api.time.date(leftGlobal).startOf(period), period, true));\n        for (let i = 0; i < diff; i++) {\n            const date = {\n                sub,\n                subPx,\n                leftGlobal,\n                rightGlobal: api.time\n                    .date(leftGlobal)\n                    .endOf(period)\n                    .valueOf(),\n                width: 0,\n                leftPx: 0,\n                rightPx: 0,\n                period\n            };\n            date.width = (date.rightGlobal - date.leftGlobal + sub) / timePerPixel;\n            date.leftPx = leftPx;\n            leftPx += date.width;\n            date.rightPx = leftPx;\n            dates.push(date);\n            leftGlobal = date.rightGlobal + 1;\n            sub = 0;\n            subPx = 0;\n        }\n        return dates;\n    };\n    function triggerLoadedEvent() {\n        if (state.get('_internal.loadedEventTriggered'))\n            return;\n        Promise.resolve().then(() => {\n            const element = state.get('_internal.elements.main');\n            const parent = element.parentNode;\n            const event = new Event('gstc-loaded');\n            element.dispatchEvent(event);\n            parent.dispatchEvent(event);\n        });\n        state.update('_internal.loadedEventTriggered', true);\n    }\n    function limitGlobalAndSetCenter(time) {\n        if (time.leftGlobal < time.finalFrom)\n            time.leftGlobal = time.finalFrom;\n        if (time.rightGlobal > time.finalTo)\n            time.rightGlobal = time.finalTo;\n        time.centerGlobal = time.leftGlobal + Math.round((time.rightGlobal - time.leftGlobal) / 2);\n        return time;\n    }\n    function guessPeriod(time, calendar) {\n        if (!time.zoom)\n            return time;\n        for (const level of calendar.levels) {\n            const formatting = level.formats.find(format => +time.zoom <= +format.zoomTo);\n            if (formatting && level.main) {\n                time.period = formatting.period;\n            }\n        }\n        return time;\n    }\n    function updateLevels(time, calendar) {\n        time.levels = [];\n        let index = 0;\n        for (const level of calendar.levels) {\n            const formatting = level.formats.find(format => +time.zoom <= +format.zoomTo);\n            if (level.main) {\n                time.format = formatting;\n                time.level = index;\n            }\n            if (formatting) {\n                time.levels.push(generatePeriodDates(formatting.period, time));\n            }\n            index++;\n        }\n    }\n    let working = false;\n    function recalculateTimes(reason) {\n        if (working)\n            return;\n        working = true;\n        const configTime = state.get('config.chart.time');\n        const chartWidth = state.get('_internal.chart.dimensions.width');\n        const calendar = state.get('config.chart.calendar');\n        const oldTime = Object.assign({}, state.get('_internal.chart.time'));\n        let time = api.mergeDeep({}, configTime);\n        if ((!time.from || !time.to) && !Object.keys(state.get('config.chart.items')).length) {\n            return;\n        }\n        let mainLevel = calendar.levels.find(level => level.main);\n        if (!mainLevel) {\n            throw new Error('Main calendar level not found (config.chart.calendar.levels).');\n        }\n        if (!time.calculatedZoomMode) {\n            if (time.period !== oldTime.period) {\n                let periodFormat = mainLevel.formats.find(format => format.period === time.period && format.default);\n                if (periodFormat) {\n                    time.zoom = periodFormat.zoomTo;\n                }\n            }\n            guessPeriod(time, calendar);\n        }\n        // If _internal.chart.time (leftGlobal, centerGlobal, rightGlobal, from , to) was changed\n        // then we need to apply those values - no recalculation is needed (values form plugins etc)\n        const justApply = ['leftGlobal', 'centerGlobal', 'rightGlobal', 'from', 'to'].includes(reason.name);\n        if (justApply) {\n            time = Object.assign(Object.assign({}, time), { leftGlobal: configTime.leftGlobal, centerGlobal: configTime.centerGlobal, rightGlobal: configTime.rightGlobal, from: configTime.from, to: configTime.to });\n        }\n        let scrollLeft = 0;\n        // source of everything = time.timePerPixel\n        if (time.calculatedZoomMode && chartWidth) {\n            time.finalFrom = time.from;\n            time.finalTo = time.to;\n            time.totalViewDurationMs = api.time.date(time.finalTo).diff(time.finalFrom, 'milliseconds');\n            time.timePerPixel = time.totalViewDurationMs / chartWidth;\n            time.zoom = Math.log(time.timePerPixel) / Math.log(2);\n            guessPeriod(time, calendar);\n            time.totalViewDurationPx = Math.round(time.totalViewDurationMs / time.timePerPixel);\n            time.leftGlobal = time.from;\n            time.rightGlobal = time.to;\n        }\n        else {\n            time.timePerPixel = Math.pow(2, time.zoom);\n            time = api.time.recalculateFromTo(time);\n            time.totalViewDurationMs = api.time.date(time.finalTo).diff(time.finalFrom, 'milliseconds');\n            time.totalViewDurationPx = Math.round(time.totalViewDurationMs / time.timePerPixel);\n            scrollLeft = state.get('config.scroll.left');\n        }\n        if (!justApply && !time.calculatedZoomMode) {\n            // If time.zoom (or time.period) has been changed\n            // then we need to recalculate basing on time.centerGlobal\n            // and update scroll left\n            // if not then we need to calculate from scroll left\n            // because change was triggered by scroll\n            if (time.zoom !== oldTime.zoom && oldTime.centerGlobal) {\n                const chartWidthInMs = chartWidth * time.timePerPixel;\n                const halfChartInMs = Math.round(chartWidthInMs / 2);\n                time.leftGlobal = oldTime.centerGlobal - halfChartInMs;\n                time.rightGlobal = time.leftGlobal + chartWidthInMs;\n                scrollLeft = (time.leftGlobal - time.finalFrom) / time.timePerPixel;\n                scrollLeft = api.limitScrollLeft(time.totalViewDurationPx, chartWidth, scrollLeft);\n            }\n            else {\n                time.leftGlobal = scrollLeft * time.timePerPixel + time.finalFrom;\n                time.rightGlobal = time.leftGlobal + chartWidth * time.timePerPixel;\n            }\n        }\n        limitGlobalAndSetCenter(time);\n        time.leftInner = time.leftGlobal - time.finalFrom;\n        time.rightInner = time.rightGlobal - time.finalFrom;\n        time.leftPx = time.leftInner / time.timePerPixel;\n        time.rightPx = time.rightInner / time.timePerPixel;\n        updateLevels(time, calendar);\n        let xCompensation = 0;\n        if (time.levels[time.level] && time.levels[time.level].length !== 0) {\n            xCompensation = time.levels[time.level][0].subPx;\n        }\n        state.update(`_internal.chart.time`, time);\n        state.update('config.scroll.compensation.x', xCompensation);\n        state.update('config.chart.time', configTime => {\n            configTime.zoom = time.zoom;\n            configTime.period = time.format.period;\n            configTime.leftGlobal = time.leftGlobal;\n            configTime.centerGlobal = time.centerGlobal;\n            configTime.rightGlobal = time.rightGlobal;\n            configTime.from = time.from;\n            configTime.to = time.to;\n            configTime.finalFrom = time.finalFrom;\n            configTime.finalTo = time.finalTo;\n            return configTime;\n        });\n        state.update('config.scroll.left', scrollLeft);\n        update().then(() => {\n            if (!state.get('_internal.loaded.time')) {\n                state.update('_internal.loaded.time', true);\n            }\n        });\n        working = false;\n    }\n    const recalculationTriggerCache = {\n        initialized: false,\n        zoom: 0,\n        period: '',\n        scrollLeft: 0,\n        chartWidth: 0,\n        leftGlobal: 0,\n        centerGlobal: 0,\n        rightGlobal: 0,\n        from: 0,\n        to: 0\n    };\n    function recalculationIsNeeded() {\n        const configTime = state.get('config.chart.time');\n        const scrollLeft = state.get('config.scroll.left');\n        const chartWidth = state.get('_internal.chart.dimensions.width');\n        const cache = Object.assign({}, recalculationTriggerCache);\n        recalculationTriggerCache.zoom = configTime.zoom;\n        recalculationTriggerCache.period = configTime.period;\n        recalculationTriggerCache.leftGlobal = configTime.leftGlobal;\n        recalculationTriggerCache.centerGlobal = configTime.centerGlobal;\n        recalculationTriggerCache.rightGlobal = configTime.rightGlobal;\n        recalculationTriggerCache.from = configTime.from;\n        recalculationTriggerCache.to = configTime.to;\n        recalculationTriggerCache.scrollLeft = scrollLeft;\n        recalculationTriggerCache.chartWidth = chartWidth;\n        if (!recalculationTriggerCache.initialized) {\n            recalculationTriggerCache.initialized = true;\n            return { name: 'all' };\n        }\n        if (configTime.zoom !== cache.zoom)\n            return { name: 'zoom', oldValue: cache.zoom, newValue: configTime.zoom };\n        if (configTime.period !== cache.period)\n            return { name: 'period', oldValue: cache.period, newValue: configTime.period };\n        if (configTime.leftGlobal !== cache.leftGlobal)\n            return { name: 'leftGlobal', oldValue: cache.leftGlobal, newValue: configTime.leftGlobal };\n        if (configTime.centerGlobal !== cache.centerGlobal)\n            return { name: 'centerGlobal', oldValue: cache.centerGlobal, newValue: configTime.centerGlobal };\n        if (configTime.rightGlobal !== cache.rightGlobal)\n            return { name: 'rightGlobal', oldValue: cache.rightGlobal, newValue: configTime.rightGlobal };\n        if (configTime.from !== cache.from)\n            return { name: 'from', oldValue: cache.from, newValue: configTime.from };\n        if (configTime.to !== cache.to)\n            return { name: 'to', oldValue: cache.to, newValue: configTime.to };\n        if (scrollLeft !== cache.scrollLeft)\n            return { name: 'scroll', oldValue: cache.scrollLeft, newValue: scrollLeft };\n        if (chartWidth !== cache.chartWidth)\n            return { name: 'chartWidth', oldValue: cache.chartWidth, newValue: chartWidth };\n        return false;\n    }\n    onDestroy(state.subscribeAll(['config.chart.time', 'config.chart.calendar.levels', 'config.scroll.left', '_internal.chart.dimensions.width'], () => {\n        let reason = recalculationIsNeeded();\n        if (reason)\n            recalculateTimes(reason);\n    }, { bulk: true }));\n    // When time.from and time.to is not specified and items are reloaded;\n    // check if item is outside current time scope and extend it if needed\n    onDestroy(state.subscribe('config.chart.items.*.time', items => {\n        recalculateTimes({ name: 'items' });\n    }, { bulk: true }));\n    if (state.get('config.usageStatistics') === true && !localStorage.getItem('gstcus')) {\n        try {\n            fetch('https://gstc-us.neuronet.io/', {\n                method: 'POST',\n                cache: 'force-cache',\n                mode: 'cors',\n                credentials: 'omit',\n                redirect: 'follow',\n                body: JSON.stringify({ location: { href: location.href, host: location.host } })\n            }).catch(e => { });\n            localStorage.setItem('gstcus', 'true');\n        }\n        catch (e) { }\n    }\n    let scrollTop = 0;\n    let propagate = true;\n    onDestroy(state.subscribe('config.scroll.propagate', prpgt => (propagate = prpgt)));\n    /**\n     * Handle scroll Event\n     * @param {MouseEvent} event\n     */\n    function handleEvent(event) {\n        if (!propagate) {\n            event.stopPropagation();\n            event.preventDefault();\n        }\n        if (event.type === 'scroll') {\n            // @ts-ignore\n            const top = event.target.scrollTop;\n            /**\n             * Handle on scroll event\n             * @param {object} scroll\n             * @returns {object} scroll\n             */\n            const handleOnScroll = scroll => {\n                scroll.top = top;\n                scrollTop = scroll.top;\n                const scrollInner = state.get('_internal.elements.vertical-scroll-inner');\n                if (scrollInner) {\n                    const scrollHeight = scrollInner.clientHeight;\n                    scroll.percent.top = scroll.top / scrollHeight;\n                }\n                return scroll;\n            };\n            if (scrollTop !== top)\n                state.update('config.scroll', handleOnScroll, {\n                    only: ['top', 'percent.top']\n                });\n        }\n    }\n    const onScroll = {\n        handleEvent,\n        passive: false,\n        capture: false\n    };\n    const dimensions = { width: 0, height: 0 };\n    let ro;\n    /**\n     * Resize action\n     * @param {Element} element\n     */\n    class ResizeAction {\n        constructor(element) {\n            if (!ro) {\n                ro = new index((entries, observer) => {\n                    const width = element.clientWidth;\n                    const height = element.clientHeight;\n                    if (dimensions.width !== width || dimensions.height !== height) {\n                        dimensions.width = width;\n                        dimensions.height = height;\n                        state.update('_internal.dimensions', dimensions);\n                    }\n                });\n                ro.observe(element);\n                state.update('_internal.elements.main', element);\n            }\n        }\n        update() { }\n        destroy(element) {\n            ro.unobserve(element);\n        }\n    }\n    if (!componentActions.includes(ResizeAction)) {\n        componentActions.push(ResizeAction);\n    }\n    onDestroy(() => {\n        ro.disconnect();\n    });\n    /**\n     * Bind scroll element\n     * @param {HTMLElement} element\n     */\n    function bindScrollElement(element) {\n        if (!verticalScrollBarElement) {\n            verticalScrollBarElement = element;\n            state.update('_internal.elements.vertical-scroll', element);\n        }\n    }\n    onDestroy(state.subscribeAll(['_internal.loaded', '_internal.chart.time.totalViewDurationPx'], () => {\n        if (state.get('_internal.loadedEventTriggered'))\n            return;\n        const loaded = state.get('_internal.loaded');\n        if (loaded.main && loaded.chart && loaded.time && loaded['horizontal-scroll-inner']) {\n            const scroll = state.get('_internal.elements.horizontal-scroll-inner');\n            const width = state.get('_internal.chart.time.totalViewDurationPx');\n            if (scroll && scroll.clientWidth === Math.round(width)) {\n                setTimeout(triggerLoadedEvent, 0);\n            }\n        }\n    }));\n    function LoadedEventAction() {\n        state.update('_internal.loaded.main', true);\n    }\n    if (!componentActions.includes(LoadedEventAction))\n        componentActions.push(LoadedEventAction);\n    /**\n     * Bind scroll inner element\n     * @param {Element} element\n     */\n    function bindScrollInnerElement(element) {\n        if (!state.get('_internal.elements.vertical-scroll-inner'))\n            state.update('_internal.elements.vertical-scroll-inner', element);\n        if (!state.get('_internal.loaded.vertical-scroll-inner'))\n            state.update('_internal.loaded.vertical-scroll-inner', true);\n    }\n    const actionProps = Object.assign(Object.assign({}, props), { api, state });\n    const mainActions = Actions.create(componentActions, actionProps);\n    const verticalScrollActions = Actions.create([bindScrollElement]);\n    const verticalScrollAreaActions = Actions.create([bindScrollInnerElement]);\n    return templateProps => wrapper(html `\n        <div\n          data-info-url=\"https://github.com/neuronetio/gantt-schedule-timeline-calendar\"\n          class=${className}\n          style=${styleMap}\n          @scroll=${onScroll}\n          @wheel=${onScroll}\n          data-actions=${mainActions}\n        >\n          ${List.html()}${Chart.html()}\n          <div\n            class=${classNameVerticalScroll}\n            style=${verticalScrollStyleMap}\n            @scroll=${onScroll}\n            @wheel=${onScroll}\n            data-actions=${verticalScrollActions}\n          >\n            <div style=${verticalScrollAreaStyleMap} data-actions=${verticalScrollAreaActions} />\n          </div>\n        </div>\n      `, { props, vido, templateProps });\n}\n\n/**\n * List component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\nfunction List(vido, props = {}) {\n    const { api, state, onDestroy, Actions, update, reuseComponents, html, schedule, StyleMap, cache } = vido;\n    const componentName = 'list';\n    const componentActions = api.getActions(componentName);\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.List', value => (wrapper = value)));\n    let ListColumnComponent;\n    const listColumnUnsub = state.subscribe('config.components.ListColumn', value => (ListColumnComponent = value));\n    function renderExpanderIcons() {\n        const icons = state.get('config.list.expander.icons');\n        const rendered = {};\n        for (const iconName in icons) {\n            const html = icons[iconName];\n            rendered[iconName] = api.getSVGIconSrc(html);\n        }\n        state.update('_internal.list.expander.icons', rendered);\n    }\n    renderExpanderIcons();\n    function renderToggleIcons() {\n        const toggleIconsSrc = {\n            open: '',\n            close: ''\n        };\n        const icons = state.get('config.list.toggle.icons');\n        for (const iconName in icons) {\n            const html = icons[iconName];\n            toggleIconsSrc[iconName] = api.getSVGIconSrc(html);\n        }\n        state.update('_internal.list.toggle.icons', toggleIconsSrc);\n    }\n    renderToggleIcons();\n    let className;\n    let list, percent;\n    function onListChange() {\n        list = state.get('config.list');\n        percent = list.columns.percent;\n        update();\n    }\n    onDestroy(state.subscribe('config.list', onListChange));\n    onDestroy(state.subscribe('config.classNames', () => {\n        className = api.getClass(componentName, { list });\n        update();\n    }));\n    let listColumns = [];\n    function onListColumnsDataChange(data) {\n        const destroy = reuseComponents(listColumns, Object.values(data), column => ({ columnId: column.id }), ListColumnComponent);\n        update();\n        return destroy;\n    }\n    onDestroy(state.subscribe('config.list.columns.data;', onListColumnsDataChange));\n    const styleMap = new StyleMap({\n        height: '',\n        '--expander-padding-width': '',\n        '--expander-size': ''\n    });\n    onDestroy(state.subscribeAll(['config.height', 'config.list.expander'], bulk => {\n        const expander = state.get('config.list.expander');\n        styleMap.style['height'] = state.get('config.height') + 'px';\n        styleMap.style['--expander-padding-width'] = expander.padding + 'px';\n        styleMap.style['--expander-size'] = expander.size + 'px';\n        update();\n    }));\n    onDestroy(() => {\n        listColumns.forEach(listColumn => listColumn.destroy());\n        listColumnUnsub();\n    });\n    function onScroll(event) {\n        event.stopPropagation();\n        event.preventDefault();\n        if (event.type === 'scroll') {\n            state.update('config.scroll.top', event.target.scrollTop);\n        }\n        else {\n            const wheel = api.normalizeMouseWheelEvent(event);\n            state.update('config.scroll.top', top => {\n                const rowsHeight = state.get('_internal.list.rowsHeight');\n                const internalHeight = state.get('_internal.height');\n                return api.limitScrollTop(rowsHeight, internalHeight, (top += wheel.y * state.get('config.scroll.yMultiplier')));\n            });\n        }\n    }\n    let width;\n    function getWidth(element) {\n        if (!width) {\n            width = element.clientWidth;\n            if (percent === 0) {\n                width = 0;\n            }\n            state.update('_internal.list.width', width);\n        }\n    }\n    class ListAction {\n        constructor(element, data) {\n            data.state.update('_internal.elements.list', element);\n            getWidth(element);\n        }\n        update(element) {\n            return getWidth(element);\n        }\n    }\n    componentActions.push(ListAction);\n    const actions = Actions.create(componentActions, Object.assign(Object.assign({}, props), { api, state }));\n    return templateProps => wrapper(cache(list.columns.percent > 0\n        ? html `\n              <div class=${className} data-actions=${actions} style=${styleMap} @scroll=${onScroll} @wheel=${onScroll}>\n                ${listColumns.map(c => c.html())}\n              </div>\n            `\n        : ''), { vido, props: {}, templateProps });\n}\n\n/**\n * ListColumn component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\n/**\n * Bind element action\n */\nclass BindElementAction {\n    constructor(element, data) {\n        let shouldUpdate = false;\n        let elements = data.state.get('_internal.elements.list-columns');\n        if (typeof elements === 'undefined') {\n            elements = [];\n            shouldUpdate = true;\n        }\n        if (!elements.includes(element)) {\n            elements.push(element);\n            shouldUpdate = true;\n        }\n        if (shouldUpdate)\n            data.state.update('_internal.elements.list-columns', elements);\n    }\n    destroy(element, data) {\n        data.state.update('_internal.elements.list-columns', elements => {\n            return elements.filter(el => el !== element);\n        });\n    }\n}\nfunction ListColumn(vido, props) {\n    const { api, state, onDestroy, onChange, Actions, update, createComponent, reuseComponents, html, StyleMap } = vido;\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.ListColumn', value => (wrapper = value)));\n    const componentsSub = [];\n    let ListColumnRowComponent;\n    componentsSub.push(state.subscribe('config.components.ListColumnRow', value => (ListColumnRowComponent = value)));\n    let ListColumnHeaderComponent;\n    componentsSub.push(state.subscribe('config.components.ListColumnHeader', value => (ListColumnHeaderComponent = value)));\n    const actionProps = Object.assign(Object.assign({}, props), { api, state });\n    const componentName = 'list-column';\n    const rowsComponentName = componentName + '-rows';\n    const componentActions = api.getActions(componentName);\n    const rowsActions = api.getActions(rowsComponentName);\n    let className, classNameContainer, calculatedWidth;\n    const widthStyleMap = new StyleMap({ width: '', '--width': '' });\n    const containerStyleMap = new StyleMap({ width: '', height: '' });\n    const scrollCompensationStyleMap = new StyleMap({ width: '', height: '' });\n    let column, columnPath = `config.list.columns.data.${props.columnId}`;\n    let columnSub = state.subscribe(columnPath, function columnChanged(val) {\n        column = val;\n        update();\n    });\n    let width;\n    function calculateStyle() {\n        const list = state.get('config.list');\n        const compensationY = state.get('config.scroll.compensation.y');\n        calculatedWidth = list.columns.data[column.id].width * list.columns.percent * 0.01;\n        width = calculatedWidth;\n        const height = state.get('_internal.height');\n        widthStyleMap.style.width = width + 'px';\n        widthStyleMap.style['--width'] = width + 'px';\n        containerStyleMap.style.height = height + 'px';\n        scrollCompensationStyleMap.style.height = height + Math.abs(compensationY) + 'px';\n        scrollCompensationStyleMap.style.transform = `translate(0px, ${compensationY}px)`;\n    }\n    let styleSub = state.subscribeAll([\n        'config.list.columns.percent',\n        'config.list.columns.resizer.width',\n        `config.list.columns.data.${column.id}.width`,\n        '_internal.chart.dimensions.width',\n        '_internal.height',\n        'config.scroll.compensation.y',\n        '_internal.list.width'\n    ], calculateStyle, { bulk: true });\n    const ListColumnHeader = createComponent(ListColumnHeaderComponent, { columnId: props.columnId });\n    onDestroy(ListColumnHeader.destroy);\n    onChange(changedProps => {\n        props = changedProps;\n        for (const prop in props) {\n            actionProps[prop] = props[prop];\n        }\n        if (columnSub)\n            columnSub();\n        ListColumnHeader.change({ columnId: props.columnId });\n        columnPath = `config.list.columns.data.${props.columnId}`;\n        columnSub = state.subscribe(columnPath, function columnChanged(val) {\n            column = val;\n            update();\n        });\n        if (styleSub)\n            styleSub();\n        styleSub = state.subscribeAll([\n            'config.list.columns.percent',\n            'config.list.columns.resizer.width',\n            `config.list.columns.data.${column.id}.width`,\n            '_internal.chart.dimensions.width',\n            '_internal.height',\n            'config.scroll.compensation.y',\n            '_internal.list.width'\n        ], calculateStyle, { bulk: true });\n        ListColumnHeader.change(props);\n    });\n    onDestroy(() => {\n        columnSub();\n        styleSub();\n    });\n    onDestroy(state.subscribe('config.classNames', value => {\n        className = api.getClass(componentName);\n        classNameContainer = api.getClass(rowsComponentName);\n        update();\n    }));\n    const visibleRows = [];\n    const visibleRowsChange = val => {\n        const destroy = reuseComponents(visibleRows, val || [], row => row && { columnId: props.columnId, rowId: row.id, width }, ListColumnRowComponent);\n        update();\n        return destroy;\n    };\n    onDestroy(state.subscribe('_internal.list.visibleRows;', visibleRowsChange));\n    onDestroy(() => {\n        visibleRows.forEach(row => row.destroy());\n        componentsSub.forEach(unsub => unsub());\n    });\n    function getRowHtml(row) {\n        return row.html();\n    }\n    componentActions.push(BindElementAction);\n    const headerActions = Actions.create(componentActions, { column, state: state, api: api });\n    const rowActions = Actions.create(rowsActions, { api, state });\n    return templateProps => wrapper(html `\n        <div class=${className} data-actions=${headerActions} style=${widthStyleMap}>\n          ${ListColumnHeader.html()}\n          <div class=${classNameContainer} style=${containerStyleMap} data-actions=${rowActions}>\n            <div class=${classNameContainer + '--scroll-compensation'} style=${scrollCompensationStyleMap}>\n              ${visibleRows.map(getRowHtml)}\n            </div>\n          </div>\n        </div>\n      `, { vido, props, templateProps });\n}\n\n/**\n * ListColumnHeader component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\nfunction ListColumnHeader(vido, props) {\n    const { api, state, onDestroy, onChange, Actions, update, createComponent, html, cache, StyleMap } = vido;\n    const actionProps = Object.assign(Object.assign({}, props), { api, state });\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.ListColumnHeader', value => (wrapper = value)));\n    const componentName = 'list-column-header';\n    const componentActions = api.getActions(componentName);\n    const componentsSubs = [];\n    let ListColumnHeaderResizerComponent;\n    componentsSubs.push(state.subscribe('config.components.ListColumnHeaderResizer', value => (ListColumnHeaderResizerComponent = value)));\n    const ListColumnHeaderResizer = createComponent(ListColumnHeaderResizerComponent, { columnId: props.columnId });\n    let ListColumnRowExpanderComponent;\n    componentsSubs.push(state.subscribe('config.components.ListColumnRowExpander', value => (ListColumnRowExpanderComponent = value)));\n    const ListColumnRowExpander = createComponent(ListColumnRowExpanderComponent, {});\n    onDestroy(() => {\n        ListColumnHeaderResizer.destroy();\n        ListColumnRowExpander.destroy();\n        componentsSubs.forEach(unsub => unsub());\n    });\n    let column;\n    let columnSub = state.subscribe(`config.list.columns.data.${props.columnId}`, val => {\n        column = val;\n        update();\n    });\n    onDestroy(columnSub);\n    onChange(changedProps => {\n        props = changedProps;\n        for (const prop in props) {\n            actionProps[prop] = props[prop];\n        }\n        if (columnSub)\n            columnSub();\n        columnSub = state.subscribe(`config.list.columns.data.${props.columnId}`, val => {\n            column = val;\n            update();\n        });\n    });\n    let className, contentClass;\n    onDestroy(state.subscribe('config.classNames', () => {\n        className = api.getClass(componentName);\n        contentClass = api.getClass(componentName + '-content');\n    }));\n    const styleMap = new StyleMap({\n        height: '',\n        '--height': '',\n        '--paddings-count': ''\n    });\n    onDestroy(state.subscribe('config.headerHeight', () => {\n        const value = state.get('config');\n        styleMap.style['height'] = value.headerHeight + 'px';\n        styleMap.style['--height'] = value.headerHeight + 'px';\n        styleMap.style['--paddings-count'] = '1';\n        update();\n    }));\n    function withExpander() {\n        return html `\n      <div class=${contentClass}>\n        ${ListColumnRowExpander.html()}${ListColumnHeaderResizer.html(column)}\n      </div>\n    `;\n    }\n    function withoutExpander() {\n        return html `\n      <div class=${contentClass}>\n        ${ListColumnHeaderResizer.html(column)}\n      </div>\n    `;\n    }\n    const actions = Actions.create(componentActions, actionProps);\n    return templateProps => wrapper(html `\n        <div class=${className} style=${styleMap} data-actions=${actions}>\n          ${cache(column.expander ? withExpander() : withoutExpander())}\n        </div>\n      `, { vido, props, templateProps });\n}\n\n/**\n * ListColumnHeaderResizer component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\nfunction ListColumnHeaderResizer(vido, props) {\n    const { api, state, onDestroy, update, html, schedule, Actions, PointerAction, cache, StyleMap } = vido;\n    const componentName = 'list-column-header-resizer';\n    const componentActions = api.getActions(componentName);\n    const componentDotsActions = api.getActions(componentName + '-dots');\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.ListColumnHeaderResizer', value => (wrapper = value)));\n    let column;\n    onDestroy(state.subscribe(`config.list.columns.data.${props.columnId}`, val => {\n        column = val;\n        update();\n    }));\n    let className, containerClass, dotsClass, dotClass, calculatedWidth;\n    const dotsStyleMap = new StyleMap({ width: '' });\n    let inRealTime = false;\n    onDestroy(state.subscribe('config.classNames', value => {\n        className = api.getClass(componentName, { column });\n        containerClass = api.getClass(componentName + '-container', { column });\n        dotsClass = api.getClass(componentName + '-dots', { column });\n        dotClass = api.getClass(componentName + '-dots-dot', { column });\n        update();\n    }));\n    onDestroy(state.subscribeAll([\n        `config.list.columns.data.${column.id}.width`,\n        'config.list.columns.percent',\n        'config.list.columns.resizer.width',\n        'config.list.columns.resizer.inRealTime'\n    ], (value, path) => {\n        const list = state.get('config.list');\n        calculatedWidth = column.width * list.columns.percent * 0.01;\n        dotsStyleMap.style['--width'] = list.columns.resizer.width + 'px';\n        inRealTime = list.columns.resizer.inRealTime;\n        state.update('_internal.list.width', calculatedWidth);\n        update();\n    }));\n    let dots = [1, 2, 3, 4, 5, 6, 7, 8];\n    onDestroy(state.subscribe('config.list.columns.resizer.dots', value => {\n        dots = [];\n        for (let i = 0; i < value; i++) {\n            dots.push(i);\n        }\n        update();\n    }));\n    /*\n    let isMoving = false;\n    const lineStyleMap = new StyleMap({\n      '--display': 'none',\n      '--left': left + 'px'\n    });*/\n    let left = calculatedWidth;\n    const columnWidthPath = `config.list.columns.data.${column.id}.width`;\n    const actionProps = {\n        column,\n        api,\n        state,\n        pointerOptions: {\n            axis: 'x',\n            onMove: function onMove({ movementX }) {\n                let minWidth = state.get('config.list.columns.minWidth');\n                if (typeof column.minWidth === 'number') {\n                    minWidth = column.minWidth;\n                }\n                left += movementX;\n                if (left < minWidth) {\n                    left = minWidth;\n                }\n                if (inRealTime) {\n                    state.update(columnWidthPath, left);\n                }\n            }\n        }\n    };\n    componentActions.push(PointerAction);\n    const actions = Actions.create(componentActions, actionProps);\n    const dotsActions = Actions.create(componentDotsActions, actionProps);\n    return templateProps => wrapper(html `\n        <div class=${className} data-actions=${actions}>\n          <div class=${containerClass}>\n            ${cache(column.header.html\n        ? html `\n                    ${column.header.html}\n                  `\n        : column.header.content)}\n          </div>\n          <div class=${dotsClass} style=${dotsStyleMap} data-actions=${dotsActions}>\n            ${dots.map(dot => html `\n                  <div class=${dotClass} />\n                `)}\n          </div>\n        </div>\n      `, { vido, props, templateProps });\n}\n\n/**\n * ListColumnRow component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\n/**\n * Bind element action\n */\nclass BindElementAction$1 {\n    constructor(element, data) {\n        let elements = data.state.get('_internal.elements.list-column-rows');\n        let shouldUpdate = false;\n        if (typeof elements === 'undefined') {\n            shouldUpdate = true;\n            elements = [];\n        }\n        if (!elements.includes(element)) {\n            elements.push(element);\n            shouldUpdate = true;\n        }\n        if (shouldUpdate)\n            data.state.update('_internal.elements.list-column-rows', elements);\n    }\n    destroy(element, data) {\n        data.state.update('_internal.elements.list-column-rows', elements => {\n            return elements.filter(el => el !== element);\n        });\n    }\n}\nfunction ListColumnRow(vido, props) {\n    const { api, state, onDestroy, Detach, Actions, update, html, createComponent, onChange, StyleMap, unsafeHTML, PointerAction } = vido;\n    const actionProps = Object.assign(Object.assign({}, props), { api, state });\n    let shouldDetach = false;\n    const detach = new Detach(() => shouldDetach);\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.ListColumnRow', value => (wrapper = value)));\n    let ListColumnRowExpanderComponent;\n    onDestroy(state.subscribe('config.components.ListColumnRowExpander', value => (ListColumnRowExpanderComponent = value)));\n    let rowPath = `_internal.flatTreeMapById.${props.rowId}`, row = state.get(rowPath);\n    let colPath = `config.list.columns.data.${props.columnId}`, column = state.get(colPath);\n    const styleMap = new StyleMap(column.expander\n        ? {\n            height: '',\n            top: '',\n            '--height': '',\n            '--expander-padding-width': '',\n            '--expander-size': ''\n        }\n        : {\n            height: '',\n            top: '',\n            '--height': ''\n        }, true);\n    let rowSub, colSub;\n    const ListColumnRowExpander = createComponent(ListColumnRowExpanderComponent, { row });\n    const onPropsChange = (changedProps, options) => {\n        if (options.leave || changedProps.rowId === undefined || changedProps.columnId === undefined) {\n            shouldDetach = true;\n            if (rowSub)\n                rowSub();\n            if (colSub)\n                colSub();\n            update();\n            return;\n        }\n        shouldDetach = false;\n        props = changedProps;\n        for (const prop in props) {\n            actionProps[prop] = props[prop];\n        }\n        const rowId = props.rowId;\n        const columnId = props.columnId;\n        if (rowSub)\n            rowSub();\n        if (colSub)\n            colSub();\n        rowPath = `_internal.flatTreeMapById.${rowId}`;\n        colPath = `config.list.columns.data.${columnId}`;\n        rowSub = state.subscribeAll([rowPath, colPath, 'config.list.expander'], bulk => {\n            column = state.get(colPath);\n            row = state.get(rowPath);\n            if (column === undefined || row === undefined) {\n                shouldDetach = true;\n                update();\n                return;\n            }\n            if (column === undefined || row === undefined)\n                return;\n            const expander = state.get('config.list.expander');\n            // @ts-ignore\n            styleMap.setStyle({}); // we must reset style because of user specified styling\n            styleMap.style['height'] = row.height + 'px';\n            styleMap.style['--height'] = row.height + 'px';\n            if (column.expander) {\n                styleMap.style['--expander-padding-width'] = expander.padding * (row._internal.parents.length + 1) + 'px';\n            }\n            for (const parentId of row._internal.parents) {\n                const parent = state.get(`_internal.flatTreeMapById.${parentId}`);\n                if (typeof parent.style === 'object' && parent.style.constructor.name === 'Object') {\n                    if (typeof parent.style.children === 'object') {\n                        const childrenStyle = parent.style.children;\n                        for (const name in childrenStyle) {\n                            styleMap.style[name] = childrenStyle[name];\n                        }\n                    }\n                }\n            }\n            if (typeof row.style === 'object' &&\n                row.style.constructor.name === 'Object' &&\n                typeof row.style.current === 'object') {\n                const rowCurrentStyle = row.style.current;\n                for (const name in rowCurrentStyle) {\n                    styleMap.style[name] = rowCurrentStyle[name];\n                }\n            }\n            update();\n        }, { bulk: true });\n        if (ListColumnRowExpander) {\n            ListColumnRowExpander.change({ row });\n        }\n        colSub = state.subscribe(colPath, val => {\n            column = val;\n            update();\n        });\n    };\n    onChange(onPropsChange);\n    onDestroy(() => {\n        if (ListColumnRowExpander)\n            ListColumnRowExpander.destroy();\n        colSub();\n        rowSub();\n    });\n    const componentName = 'list-column-row';\n    const componentActions = api.getActions(componentName);\n    let className;\n    onDestroy(state.subscribe('config.classNames', value => {\n        className = api.getClass(componentName);\n        update();\n    }));\n    function getHtml() {\n        if (row === undefined)\n            return null;\n        if (typeof column.data === 'function')\n            return unsafeHTML(column.data(row));\n        return unsafeHTML(row[column.data]);\n    }\n    function getText() {\n        if (row === undefined)\n            return null;\n        if (typeof column.data === 'function')\n            return column.data(row);\n        return row[column.data];\n    }\n    if (!componentActions.includes(BindElementAction$1))\n        componentActions.push(BindElementAction$1);\n    actionProps.pointerOptions = {\n        axis: 'x|y',\n        onMove({ event, movementX, movementY }) {\n            event.stopPropagation();\n            event.preventDefault();\n            if (movementX) {\n                state.update('config.list.columns.percent', percent => {\n                    percent += movementX * state.get('config.scroll.xMultiplier');\n                    if (percent < 0)\n                        percent = 0;\n                    if (percent > 100)\n                        percent = 100;\n                    return percent;\n                });\n            }\n            else if (movementY) {\n                state.update('config.scroll.top', top => {\n                    top -= movementY * state.get('config.scroll.yMultiplier');\n                    const rowsHeight = state.get('_internal.list.rowsHeight');\n                    const internalHeight = state.get('_internal.height');\n                    top = api.limitScrollTop(rowsHeight, internalHeight, top);\n                    return top;\n                });\n            }\n        }\n    };\n    componentActions.push(PointerAction);\n    const actions = Actions.create(componentActions, actionProps);\n    return templateProps => wrapper(html `\n        <div detach=${detach} class=${className} style=${styleMap} data-actions=${actions}>\n          ${column.expander ? ListColumnRowExpander.html() : null}\n          <div class=${className + '-content'}>\n            ${column.isHTML ? getHtml() : getText()}\n          </div>\n        </div>\n      `, { vido, props, templateProps });\n}\n\n/**\n * ListColumnRowExpander component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\nfunction ListColumnRowExpander(vido, props) {\n    const { api, state, onDestroy, Actions, update, html, createComponent, onChange } = vido;\n    const componentName = 'list-column-row-expander';\n    const componentActions = api.getActions(componentName);\n    const actionProps = Object.assign(Object.assign({}, props), { api, state });\n    let className;\n    let ListColumnRowExpanderToggleComponent;\n    const toggleUnsub = state.subscribe('config.components.ListColumnRowExpanderToggle', value => (ListColumnRowExpanderToggleComponent = value));\n    const ListColumnRowExpanderToggle = createComponent(ListColumnRowExpanderToggleComponent, props.row ? { row: props.row } : {});\n    onDestroy(() => {\n        ListColumnRowExpanderToggle.destroy();\n        toggleUnsub();\n    });\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.ListColumnRowExpander', value => (wrapper = value)));\n    onDestroy(state.subscribe('config.classNames', value => {\n        className = api.getClass(componentName);\n        update();\n    }));\n    if (props.row) {\n        function onPropsChange(changedProps) {\n            props = changedProps;\n            for (const prop in props) {\n                actionProps[prop] = props[prop];\n            }\n            ListColumnRowExpanderToggle.change(props);\n        }\n        onChange(onPropsChange);\n    }\n    const actions = Actions.create(componentActions, actionProps);\n    return templateProps => wrapper(html `\n        <div class=${className} data-action=${actions}>\n          ${ListColumnRowExpanderToggle.html()}\n        </div>\n      `, { vido, props, templateProps });\n}\n\n/**\n * ListColumnRowExpanderToggle component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\nfunction ListColumnRowExpanderToggle(vido, props) {\n    const { api, state, onDestroy, Actions, update, html, onChange, cache } = vido;\n    const componentName = 'list-column-row-expander-toggle';\n    const actionProps = Object.assign(Object.assign({}, props), { api, state });\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.ListColumnRowExpanderToggle', value => (wrapper = value)));\n    const componentActions = api.getActions(componentName);\n    let className, classNameChild, classNameOpen, classNameClosed;\n    let expanded = false;\n    let iconChild, iconOpen, iconClosed;\n    onDestroy(state.subscribe('config.classNames', value => {\n        className = api.getClass(componentName);\n        classNameChild = className + '-child';\n        classNameOpen = className + '-open';\n        classNameClosed = className + '-closed';\n        update();\n    }));\n    onDestroy(state.subscribe('_internal.list.expander.icons', icons => {\n        if (icons) {\n            iconChild = icons.child;\n            iconOpen = icons.open;\n            iconClosed = icons.closed;\n        }\n        update();\n    }));\n    if (props.row) {\n        function expandedChange(isExpanded) {\n            expanded = isExpanded;\n            update();\n        }\n        let expandedSub;\n        function onPropsChange(changedProps) {\n            var _a, _b;\n            props = changedProps;\n            for (const prop in props) {\n                actionProps[prop] = props[prop];\n            }\n            if (expandedSub)\n                expandedSub();\n            if ((_b = (_a = props) === null || _a === void 0 ? void 0 : _a.row) === null || _b === void 0 ? void 0 : _b.id)\n                expandedSub = state.subscribe(`config.list.rows.${props.row.id}.expanded`, expandedChange);\n        }\n        onChange(onPropsChange);\n        onDestroy(function listToggleDestroy() {\n            if (expandedSub)\n                expandedSub();\n        });\n    }\n    else {\n        function expandedChange(bulk) {\n            for (const rowExpanded of bulk) {\n                if (rowExpanded.value) {\n                    expanded = true;\n                    break;\n                }\n            }\n            update();\n        }\n        onDestroy(state.subscribe('config.list.rows.*.expanded', expandedChange, { bulk: true }));\n    }\n    function toggle() {\n        expanded = !expanded;\n        if (props.row) {\n            state.update(`config.list.rows.${props.row.id}.expanded`, expanded);\n        }\n        else {\n            state.update(`config.list.rows`, rows => {\n                for (const rowId in rows) {\n                    rows[rowId].expanded = expanded;\n                }\n                return rows;\n            }, { only: ['*.expanded'] });\n        }\n    }\n    const getIcon = () => {\n        var _a, _b, _c;\n        if (iconChild) {\n            if (((_c = (_b = (_a = props.row) === null || _a === void 0 ? void 0 : _a._internal) === null || _b === void 0 ? void 0 : _b.children) === null || _c === void 0 ? void 0 : _c.length) === 0) {\n                return html `\n          <img width=\"16\" height=\"16\" class=${classNameChild} src=${iconChild} />\n        `;\n            }\n            return expanded\n                ? html `\n            <img width=\"16\" height=\"16\" class=${classNameOpen} src=${iconOpen} />\n          `\n                : html `\n            <img width=\"16\" height=\"16\" class=${classNameClosed} src=${iconClosed} />\n          `;\n        }\n        return '';\n    };\n    const actions = Actions.create(componentActions, actionProps);\n    return templateProps => wrapper(html `\n        <div class=${className} data-action=${actions} @click=${toggle}>\n          ${cache(getIcon())}\n        </div>\n      `, { vido, props, templateProps });\n}\n\n/**\n * ListToggle component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\nfunction ListToggle(vido, props = {}) {\n    const { html, onDestroy, api, state, update } = vido;\n    const componentName = 'list-toggle';\n    let className;\n    onDestroy(state.subscribe('config.classNames', classNames => {\n        className = api.getClass(componentName);\n    }));\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.ListToggle', ListToggleWrapper => (wrapper = ListToggleWrapper)));\n    let toggleIconsSrc = {\n        open: '',\n        close: ''\n    };\n    onDestroy(state.subscribe('_internal.list.toggle.icons', value => {\n        if (value) {\n            toggleIconsSrc = value;\n            update();\n        }\n    }));\n    let open = true;\n    onDestroy(state.subscribe('config.list.columns.percent', percent => (percent === 0 ? (open = false) : (open = true))));\n    function toggle(ev) {\n        state.update('config.list.columns.percent', percent => {\n            return percent === 0 ? 100 : 0;\n        });\n    }\n    return templateProps => wrapper(html `\n        <div class=${className} @click=${toggle}><img src=${open ? toggleIconsSrc.close : toggleIconsSrc.open} /></div>\n      `, { props, vido, templateProps });\n}\n\n/**\n * Chart component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\nfunction Chart(vido, props = {}) {\n    const { api, state, onDestroy, Actions, update, html, StyleMap, createComponent } = vido;\n    const componentName = 'chart';\n    const ChartCalendarComponent = state.get('config.components.ChartCalendar');\n    const ChartTimelineComponent = state.get('config.components.ChartTimeline');\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.Chart', value => (wrapper = value)));\n    const Calendar = createComponent(ChartCalendarComponent);\n    onDestroy(Calendar.destroy);\n    const Timeline = createComponent(ChartTimelineComponent);\n    onDestroy(Timeline.destroy);\n    let className, classNameScroll, classNameScrollInner, scrollElement, scrollInnerElement;\n    const componentActions = api.getActions(componentName);\n    onDestroy(state.subscribe('config.classNames', value => {\n        className = api.getClass(componentName);\n        classNameScroll = api.getClass('horizontal-scroll');\n        classNameScrollInner = api.getClass('horizontal-scroll-inner');\n        update();\n    }));\n    onDestroy(state.subscribeAll(['_internal.chart.dimensions.width', '_internal.chart.time.totalViewDurationPx'], function horizontalScroll() {\n        if (scrollElement)\n            scrollElement.style.width = state.get('_internal.chart.dimensions.width') + 'px';\n        if (scrollInnerElement)\n            scrollInnerElement.style.width = state.get('_internal.chart.time.totalViewDurationPx') + 'px';\n    }));\n    onDestroy(state.subscribe('config.scroll.left', left => {\n        if (scrollElement) {\n            scrollElement.scrollLeft = left;\n        }\n    }));\n    function onScrollHandler(event) {\n        if (event.type === 'scroll') {\n            // @ts-ignore\n            const left = event.target.scrollLeft;\n            state.update('config.scroll.left', left);\n        }\n    }\n    const onScroll = {\n        handleEvent: onScrollHandler,\n        passive: true,\n        capture: false\n    };\n    function onWheelHandler(event) {\n        if (event.type === 'wheel') {\n            const wheel = api.normalizeMouseWheelEvent(event);\n            const xMultiplier = state.get('config.scroll.xMultiplier');\n            const yMultiplier = state.get('config.scroll.yMultiplier');\n            const currentScrollLeft = state.get('config.scroll.left');\n            const totalViewDurationPx = state.get('_internal.chart.time.totalViewDurationPx');\n            if (event.shiftKey && wheel.y) {\n                const newScrollLeft = api.limitScrollLeft(totalViewDurationPx, chartWidth, currentScrollLeft + wheel.y * xMultiplier);\n                state.update('config.scroll.left', newScrollLeft); // will trigger scrollbar to move which will trigger scroll event\n            }\n            else if (event.ctrlKey && wheel.y) {\n                event.preventDefault();\n                state.update('config.chart.time.zoom', currentZoom => {\n                    if (wheel.y < 0) {\n                        return currentZoom - 1;\n                    }\n                    return currentZoom + 1;\n                });\n            }\n            else if (wheel.x) {\n                const currentScrollLeft = state.get('config.scroll.left');\n                state.update('config.scroll.left', api.limitScrollLeft(totalViewDurationPx, chartWidth, currentScrollLeft + wheel.x * xMultiplier));\n            }\n            else {\n                state.update('config.scroll.top', top => {\n                    const rowsHeight = state.get('_internal.list.rowsHeight');\n                    const internalHeight = state.get('_internal.height');\n                    return api.limitScrollTop(rowsHeight, internalHeight, (top += wheel.y * yMultiplier));\n                });\n            }\n        }\n    }\n    const onWheel = {\n        handleEvent: onWheelHandler,\n        passive: false,\n        capture: false\n    };\n    function bindElement(element) {\n        if (!scrollElement) {\n            scrollElement = element;\n            state.update('_internal.elements.horizontal-scroll', element);\n        }\n    }\n    function bindInnerScroll(element) {\n        scrollInnerElement = element;\n        const old = state.get('_internal.elements.horizontal-scroll-inner');\n        if (old !== element)\n            state.update('_internal.elements.horizontal-scroll-inner', element);\n        if (!state.get('_internal.loaded.horizontal-scroll-inner'))\n            state.update('_internal.loaded.horizontal-scroll-inner', true);\n    }\n    let chartWidth = 0;\n    let ro;\n    componentActions.push(function bindElement(element) {\n        if (!ro) {\n            ro = new index((entries, observer) => {\n                const width = element.clientWidth;\n                const height = element.clientHeight;\n                const innerWidth = width - state.get('_internal.scrollBarHeight');\n                if (chartWidth !== width) {\n                    chartWidth = width;\n                    state.update('_internal.chart.dimensions', { width, innerWidth, height });\n                }\n            });\n            ro.observe(element);\n            state.update('_internal.elements.chart', element);\n            state.update('_internal.loaded.chart', true);\n        }\n    });\n    onDestroy(() => {\n        ro.disconnect();\n    });\n    const actions = Actions.create(componentActions, { api, state });\n    const scrollActions = Actions.create([bindElement]);\n    const scrollAreaActions = Actions.create([bindInnerScroll]);\n    return templateProps => wrapper(html `\n        <div class=${className} data-actions=${actions} @wheel=${onWheel} @scroll=${onScroll}>\n          ${Calendar.html()}${Timeline.html()}\n          <div class=${classNameScroll} data-actions=${scrollActions} @scroll=${onScroll}>\n            <div class=${classNameScrollInner} style=\"height: 1px\" data-actions=${scrollAreaActions} />\n          </div>\n        </div>\n      `, { vido, props: {}, templateProps });\n}\n\n/**\n * ChartCalendar component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\nfunction ChartCalendar(vido, props) {\n    const { api, state, onDestroy, Actions, update, reuseComponents, html, StyleMap } = vido;\n    const componentName = 'chart-calendar';\n    const componentActions = api.getActions(componentName);\n    const actionProps = Object.assign(Object.assign({}, props), { api, state });\n    const ChartCalendarDateComponent = state.get('config.components.ChartCalendarDate');\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.ChartCalendar', value => (wrapper = value)));\n    let className;\n    onDestroy(state.subscribe('config.classNames', value => {\n        className = api.getClass(componentName);\n        update();\n    }));\n    let headerHeight;\n    const styleMap = new StyleMap({ height: '', '--headerHeight': '', 'margin-left': '' });\n    onDestroy(state.subscribe('config.headerHeight', value => {\n        headerHeight = value;\n        styleMap.style['height'] = headerHeight + 'px';\n        styleMap.style['--calendar-height'] = headerHeight + 'px';\n        update();\n    }));\n    onDestroy(state.subscribe('config.scroll.compensation.x', compensation => {\n        styleMap.style['margin-left'] = -compensation + 'px';\n        update();\n    }));\n    const components = [[], []];\n    onDestroy(state.subscribe(`_internal.chart.time.levels`, levels => {\n        let level = 0;\n        for (const dates of levels) {\n            if (!dates.length)\n                continue;\n            let currentDateFormat = 'YYYY-MM-DD HH'; // hour\n            switch (dates[0].period) {\n                case 'day':\n                    currentDateFormat = 'YYYY-MM-DD';\n                    break;\n                case 'week':\n                    currentDateFormat = 'YYYY-MM-ww';\n                    break;\n                case 'month':\n                    currentDateFormat = 'YYYY-MM';\n                    break;\n                case 'year':\n                    currentDateFormat = 'YYYY';\n                    break;\n            }\n            const currentDate = api.time.date().format(currentDateFormat);\n            reuseComponents(components[level], dates, date => date && { level, date, currentDate, currentDateFormat }, ChartCalendarDateComponent);\n            level++;\n        }\n        update();\n    }));\n    onDestroy(() => {\n        components.forEach(level => level.forEach(component => component.destroy()));\n    });\n    componentActions.push(element => {\n        state.update('_internal.elements.chart-calendar', element);\n    });\n    const actions = Actions.create(componentActions, actionProps);\n    return templateProps => wrapper(html `\n        <div class=${className} data-actions=${actions} style=${styleMap}>\n          ${components.map((components, level) => html `\n              <div class=${className + '-dates ' + className + `-dates--level-${level}`}>\n                ${components.map(m => m.html())}\n              </div>\n            `)}\n        </div>\n      `, { props, vido, templateProps });\n}\n\nclass Action$1 {\n    constructor() {\n        this.isAction = true;\n    }\n}\nAction$1.prototype.isAction = true;\n\n/**\n * ChartCalendarDay component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\n/**\n * Save element\n * @param {HTMLElement} element\n * @param {object} data\n */\nclass BindElementAction$2 extends Action$1 {\n    constructor(element, data) {\n        super();\n        data.state.update('_internal.elements.chart-calendar-dates', elements => {\n            if (typeof elements === 'undefined') {\n                elements = [];\n            }\n            if (!elements.includes(element)) {\n                elements.push(element);\n            }\n            return elements;\n        });\n    }\n}\nfunction ChartCalendarDay(vido, props) {\n    const { api, state, onDestroy, Actions, update, onChange, html, StyleMap, Detach } = vido;\n    const componentName = 'chart-calendar-date';\n    const componentActions = api.getActions(componentName);\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.ChartCalendarDate', value => (wrapper = value)));\n    let className;\n    onDestroy(state.subscribe('config.classNames', () => {\n        className = api.getClass(componentName, props);\n    }));\n    let current = '';\n    let time, htmlFormatted;\n    const styleMap = new StyleMap({ width: '', visibility: 'visible' }), scrollStyleMap = new StyleMap({\n        overflow: 'hidden',\n        'text-align': 'left'\n    });\n    let formatClassName = '';\n    function updateDate() {\n        if (!props)\n            return;\n        const cache = state.get('_internal.cache.calendar');\n        const level = state.get(`config.chart.calendar.levels.${props.level}`);\n        styleMap.style.width = props.date.width + 'px';\n        styleMap.style.visibility = 'visible';\n        scrollStyleMap.style = { overflow: 'hidden', 'text-align': 'left', 'margin-left': props.date.subPx + 8 + 'px' };\n        time = state.get('_internal.chart.time');\n        const cacheKey = `${new Date(props.date.leftGlobal).toISOString()}-${props.date.period}-${props.level}-${time.zoom}`;\n        if (!cache[cacheKey]) {\n            cache[cacheKey] = {};\n        }\n        let timeStart, timeEnd;\n        {\n            timeStart = api.time.date(props.date.leftGlobal);\n            timeEnd = api.time.date(props.date.rightGlobal);\n            cache[cacheKey].timeStart = timeStart;\n            cache[cacheKey].timeEnd = timeEnd;\n        }\n        const formats = level.formats;\n        const formatting = formats.find(formatting => +time.zoom <= +formatting.zoomTo);\n        let format;\n        {\n            format = formatting ? formatting.format({ timeStart, timeEnd, className, vido, props }) : null;\n            cache[cacheKey].format = format;\n        }\n        {\n            if (timeStart.format(props.currentDateFormat) === props.currentDate) {\n                current = ' gstc-current';\n            }\n            else if (timeStart.subtract(1, props.date.period).format(props.currentDateFormat) === props.currentDate) {\n                current = ' gstc-next';\n            }\n            else if (timeStart.add(1, props.date.period).format(props.currentDateFormat) === props.currentDate) {\n                current = ' gstc-previous';\n            }\n            else {\n                current = '';\n            }\n            cache[cacheKey].current = current;\n        }\n        let finalClassName = className + '-content ' + className + `-content--${props.date.period}` + current;\n        if (formatting.className) {\n            finalClassName += ' ' + formatting.className;\n            formatClassName = ' ' + formatting.className;\n        }\n        else {\n            formatClassName = '';\n        }\n        // updating cache state is not necessary because it is object and nobody listen to cache\n        htmlFormatted = html `\n      <div class=${finalClassName}>\n        ${format}\n      </div>\n    `;\n        update();\n    }\n    let shouldDetach = false;\n    const detach = new Detach(() => shouldDetach);\n    let timeSub;\n    const actionProps = { date: props.date, period: props.period, api, state };\n    onChange((changedProps, options) => {\n        if (options.leave) {\n            shouldDetach = true;\n            return update();\n        }\n        shouldDetach = false;\n        props = changedProps;\n        actionProps.date = props.date;\n        actionProps.period = props.period;\n        if (timeSub) {\n            timeSub();\n        }\n        timeSub = state.subscribeAll(['_internal.chart.time', 'config.chart.calendar.levels'], updateDate, {\n            bulk: true\n        });\n    });\n    onDestroy(() => {\n        timeSub();\n    });\n    if (!componentActions.includes(BindElementAction$2))\n        componentActions.push(BindElementAction$2);\n    const actions = Actions.create(componentActions, actionProps);\n    return templateProps => wrapper(html `\n        <div\n          detach=${detach}\n          class=${className +\n        ' ' +\n        className +\n        `--${props.date.period}` +\n        ' ' +\n        className +\n        `--level-${props.level}` +\n        current +\n        formatClassName}\n          style=${styleMap}\n          data-actions=${actions}\n        >\n          ${htmlFormatted}\n        </div>\n      `, { props, vido, templateProps });\n}\n\n/**\n * ChartTimeline component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\nfunction ChartTimeline(vido, props) {\n    const { api, state, onDestroy, Action, Actions, update, html, createComponent, StyleMap } = vido;\n    const componentName = 'chart-timeline';\n    const componentActions = api.getActions(componentName);\n    const actionProps = Object.assign(Object.assign({}, props), { api, state });\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.ChartTimeline', value => (wrapper = value)));\n    const GridComponent = state.get('config.components.ChartTimelineGrid');\n    const ItemsComponent = state.get('config.components.ChartTimelineItems');\n    const ListToggleComponent = state.get('config.components.ListToggle');\n    const Grid = createComponent(GridComponent);\n    onDestroy(Grid.destroy);\n    const Items = createComponent(ItemsComponent);\n    onDestroy(Items.destroy);\n    const ListToggle = createComponent(ListToggleComponent);\n    onDestroy(ListToggle.destroy);\n    let className, classNameInner;\n    onDestroy(state.subscribe('config.classNames', () => {\n        className = api.getClass(componentName);\n        classNameInner = api.getClass(componentName + '-inner');\n        update();\n    }));\n    let showToggle;\n    onDestroy(state.subscribe('config.list.toggle.display', val => (showToggle = val)));\n    const styleMap = new StyleMap({}), innerStyleMap = new StyleMap({});\n    function calculateStyle() {\n        const xCompensation = api.getCompensationX();\n        const yCompensation = api.getCompensationY();\n        const width = state.get('_internal.chart.dimensions.width');\n        const height = state.get('_internal.list.rowsHeight');\n        styleMap.style.height = state.get('_internal.height') + 'px';\n        styleMap.style['--height'] = styleMap.style.height;\n        styleMap.style['--negative-compensation-x'] = xCompensation + 'px';\n        styleMap.style['--compensation-x'] = Math.round(Math.abs(xCompensation)) + 'px';\n        styleMap.style['--negative-compensation-y'] = yCompensation + 'px';\n        styleMap.style['--compensation-y'] = Math.abs(yCompensation) + 'px';\n        if (width) {\n            styleMap.style.width = width + 'px';\n            styleMap.style['--width'] = width + 'px';\n        }\n        else {\n            styleMap.style.width = '0px';\n            styleMap.style['--width'] = '0px';\n        }\n        innerStyleMap.style.height = height + 'px';\n        if (width) {\n            innerStyleMap.style.width = width + xCompensation + 'px';\n        }\n        else {\n            innerStyleMap.style.width = '0px';\n        }\n        //innerStyleMap.style.transform = `translate(-${xCompensation}px, ${yCompensation}px)`;\n        innerStyleMap.style['margin-left'] = -xCompensation + 'px';\n        update();\n    }\n    onDestroy(state.subscribeAll([\n        '_internal.height',\n        '_internal.chart.dimensions.width',\n        '_internal.list.rowsHeight',\n        'config.scroll.compensation',\n        '_internal.chart.time.dates.day'\n    ], calculateStyle));\n    componentActions.push(class BindElementAction extends Action {\n        constructor(element) {\n            super();\n            const old = state.get('_internal.elements.chart-timeline');\n            if (old !== element)\n                state.update('_internal.elements.chart-timeline', element);\n        }\n    });\n    const actions = Actions.create(componentActions, actionProps);\n    return templateProps => wrapper(html `\n        <div class=${className} style=${styleMap} data-actions=${actions} @wheel=${api.onScroll}>\n          <div class=${classNameInner} style=${innerStyleMap}>\n            ${Grid.html()}${Items.html()}${showToggle ? ListToggle.html() : ''}\n          </div>\n        </div>\n      `, { props, vido, templateProps });\n}\n\n/**\n * ChartTimelineGrid component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\n/**\n * Bind element action\n */\nclass BindElementAction$3 {\n    constructor(element, data) {\n        const old = data.state.get('_internal.elements.chart-timeline-grid');\n        if (old !== element)\n            data.state.update('_internal.elements.chart-timeline-grid', element);\n    }\n    destroy(element, data) {\n        data.state.update('_internal.elements', elements => {\n            delete elements['chart-timeline-grid'];\n            return elements;\n        });\n    }\n}\nfunction ChartTimelineGrid(vido, props) {\n    const { api, state, onDestroy, Actions, update, html, reuseComponents, StyleMap } = vido;\n    const componentName = 'chart-timeline-grid';\n    const componentActions = api.getActions(componentName);\n    const actionProps = { api, state };\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.ChartTimelineGrid', value => (wrapper = value)));\n    const GridRowComponent = state.get('config.components.ChartTimelineGridRow');\n    let className;\n    onDestroy(state.subscribe('config.classNames', () => {\n        className = api.getClass(componentName);\n        update();\n    }));\n    let onBlockCreate;\n    onDestroy(state.subscribe('config.chart.grid.block.onCreate', onCreate => (onBlockCreate = onCreate)));\n    const rowsComponents = [];\n    const rowsWithBlocks = [];\n    const formatCache = new Map();\n    const styleMap = new StyleMap({});\n    /**\n     * Generate blocks\n     */\n    function generateBlocks() {\n        const width = state.get('_internal.chart.dimensions.width');\n        const height = state.get('_internal.height');\n        const time = state.get('_internal.chart.time');\n        const periodDates = state.get(`_internal.chart.time.levels.${time.level}`);\n        if (!periodDates || periodDates.length === 0) {\n            state.update('_internal.chart.grid.rowsWithBlocks', []);\n            return;\n        }\n        const visibleRows = state.get('_internal.list.visibleRows');\n        const xCompensation = api.getCompensationX();\n        const yCompensation = api.getCompensationY();\n        styleMap.style.height = height + Math.abs(yCompensation) + 'px';\n        styleMap.style.width = width + xCompensation + 'px';\n        let top = 0;\n        rowsWithBlocks.length = 0;\n        for (const row of visibleRows) {\n            const blocks = [];\n            for (const time of periodDates) {\n                let format;\n                if (formatCache.has(time.leftGlobal)) {\n                    format = formatCache.get(time.leftGlobal);\n                }\n                else {\n                    format = api.time.date(time.leftGlobal).format('YYYY-MM-DD HH:mm');\n                    formatCache.set(time.leftGlobal, format);\n                }\n                const id = row.id + ':' + format;\n                let block = { id, time, row, top };\n                for (const onCreate of onBlockCreate) {\n                    block = onCreate(block);\n                }\n                blocks.push(block);\n            }\n            rowsWithBlocks.push({ row, blocks, top, width });\n            top += row.height;\n        }\n        state.update('_internal.chart.grid.rowsWithBlocks', rowsWithBlocks);\n    }\n    onDestroy(state.subscribeAll([\n        '_internal.list.visibleRows;',\n        `_internal.chart.time.levels`,\n        '_internal.height',\n        '_internal.chart.dimensions.width'\n    ], generateBlocks, {\n        bulk: true\n    }));\n    /**\n     * Generate rows components\n     * @param {array} rowsWithBlocks\n     */\n    function generateRowsComponents(rowsWithBlocks) {\n        reuseComponents(rowsComponents, rowsWithBlocks || [], row => row, GridRowComponent);\n        update();\n    }\n    onDestroy(state.subscribe('_internal.chart.grid.rowsWithBlocks', generateRowsComponents));\n    onDestroy(() => {\n        rowsComponents.forEach(row => row.destroy());\n    });\n    componentActions.push(BindElementAction$3);\n    const actions = Actions.create(componentActions, actionProps);\n    return templateProps => wrapper(html `\n        <div class=${className} data-actions=${actions} style=${styleMap}>\n          ${rowsComponents.map(r => r.html())}\n        </div>\n      `, { props, vido, templateProps });\n}\n\n/**\n * ChartTimelineGridRow component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\n/**\n * Bind element action\n */\nclass BindElementAction$4 {\n    constructor(element, data) {\n        let shouldUpdate = false;\n        let rows = data.state.get('_internal.elements.chart-timeline-grid-rows');\n        if (typeof rows === 'undefined') {\n            rows = [];\n            shouldUpdate = true;\n        }\n        if (!rows.includes(element)) {\n            rows.push(element);\n            shouldUpdate = true;\n        }\n        if (shouldUpdate)\n            data.state.update('_internal.elements.chart-timeline-grid-rows', rows, { only: null });\n    }\n    destroy(element, data) {\n        data.state.update('_internal.elements.chart-timeline-grid-rows', rows => {\n            return rows.filter(el => el !== element);\n        });\n    }\n}\nfunction ChartTimelineGridRow(vido, props) {\n    const { api, state, onDestroy, Detach, Actions, update, html, reuseComponents, onChange, StyleMap } = vido;\n    const componentName = 'chart-timeline-grid-row';\n    const actionProps = Object.assign(Object.assign({}, props), { api,\n        state });\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.ChartTimelineGridRow', value => {\n        wrapper = value;\n        update();\n    }));\n    const GridBlockComponent = state.get('config.components.ChartTimelineGridRowBlock');\n    const componentActions = api.getActions(componentName);\n    let className;\n    onDestroy(state.subscribe('config.classNames', () => {\n        className = api.getClass(componentName);\n    }));\n    const styleMap = new StyleMap({\n        width: props.width + 'px',\n        height: props.row.height + 'px',\n        overflow: 'hidden'\n    }, true);\n    let shouldDetach = false;\n    const detach = new Detach(() => shouldDetach);\n    const rowsBlocksComponents = [];\n    onChange(function onPropsChange(changedProps, options) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n        if (options.leave || changedProps.row === undefined) {\n            shouldDetach = true;\n            reuseComponents(rowsBlocksComponents, [], block => block, GridBlockComponent);\n            update();\n            return;\n        }\n        shouldDetach = false;\n        props = changedProps;\n        reuseComponents(rowsBlocksComponents, props.blocks, block => block, GridBlockComponent);\n        styleMap.setStyle({});\n        styleMap.style.height = props.row.height + 'px';\n        styleMap.style.width = props.width + 'px';\n        const rows = state.get('config.list.rows');\n        for (const parentId of props.row._internal.parents) {\n            const parent = rows[parentId];\n            const childrenStyle = (_d = (_c = (_b = (_a = parent) === null || _a === void 0 ? void 0 : _a.style) === null || _b === void 0 ? void 0 : _b.grid) === null || _c === void 0 ? void 0 : _c.row) === null || _d === void 0 ? void 0 : _d.children;\n            if (childrenStyle)\n                for (const name in childrenStyle) {\n                    styleMap.style[name] = childrenStyle[name];\n                }\n        }\n        const currentStyle = (_j = (_h = (_g = (_f = (_e = props) === null || _e === void 0 ? void 0 : _e.row) === null || _f === void 0 ? void 0 : _f.style) === null || _g === void 0 ? void 0 : _g.grid) === null || _h === void 0 ? void 0 : _h.row) === null || _j === void 0 ? void 0 : _j.current;\n        if (currentStyle)\n            for (const name in currentStyle) {\n                styleMap.style[name] = currentStyle[name];\n            }\n        for (const prop in props) {\n            actionProps[prop] = props[prop];\n        }\n        update();\n    });\n    onDestroy(function destroy() {\n        rowsBlocksComponents.forEach(rowBlock => rowBlock.destroy());\n    });\n    if (componentActions.indexOf(BindElementAction$4) === -1) {\n        componentActions.push(BindElementAction$4);\n    }\n    const actions = Actions.create(componentActions, actionProps);\n    return templateProps => {\n        return wrapper(html `\n        <div detach=${detach} class=${className} data-actions=${actions} style=${styleMap}>\n          ${rowsBlocksComponents.map(r => r.html())}\n        </div>\n      `, { vido, props, templateProps });\n    };\n}\n\n/**\n * ChartTimelineGridRowBlock component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\n/**\n * Bind element action\n * @param {Element} element\n * @param {any} data\n * @returns {object} with update and destroy\n */\nclass BindElementAction$5 {\n    constructor(element, data) {\n        let shouldUpdate = false;\n        let blocks = data.state.get('_internal.elements.chart-timeline-grid-row-blocks');\n        if (typeof blocks === 'undefined') {\n            blocks = [];\n            shouldUpdate = true;\n        }\n        if (!blocks.includes(element)) {\n            blocks.push(element);\n            shouldUpdate = true;\n        }\n        if (shouldUpdate)\n            data.state.update('_internal.elements.chart-timeline-grid-row-blocks', blocks, { only: null });\n    }\n    destroy(element, data) {\n        data.state.update('_internal.elements.chart-timeline-grid-row-blocks', blocks => {\n            return blocks.filter(el => el !== element);\n        }, { only: [''] });\n    }\n}\nconst ChartTimelineGridRowBlock = (vido, props) => {\n    const { api, state, onDestroy, Detach, Actions, update, html, onChange, StyleMap } = vido;\n    const componentName = 'chart-timeline-grid-row-block';\n    const actionProps = Object.assign(Object.assign({}, props), { api,\n        state });\n    let shouldDetach = false;\n    const detach = new Detach(() => shouldDetach);\n    const componentActions = api.getActions(componentName);\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.ChartTimelineGridRowBlock', value => {\n        wrapper = value;\n        update();\n    }));\n    let className;\n    function updateClassName(time) {\n        const currentTime = api.time\n            .date()\n            .startOf(time.period)\n            .valueOf();\n        className = api.getClass(componentName);\n        if (time.leftGlobal === currentTime) {\n            className += ' current';\n        }\n    }\n    updateClassName(props.time);\n    const styleMap = new StyleMap({ width: '', height: '' });\n    /**\n     * On props change\n     * @param {any} changedProps\n     */\n    function onPropsChange(changedProps, options) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o;\n        if (options.leave || changedProps.row === undefined) {\n            shouldDetach = true;\n            return update();\n        }\n        shouldDetach = false;\n        props = changedProps;\n        for (const prop in props) {\n            actionProps[prop] = props[prop];\n        }\n        updateClassName(props.time);\n        styleMap.setStyle({});\n        styleMap.style.width = (((_b = (_a = props) === null || _a === void 0 ? void 0 : _a.time) === null || _b === void 0 ? void 0 : _b.width) || 0) + 'px';\n        styleMap.style.height = (((_d = (_c = props) === null || _c === void 0 ? void 0 : _c.row) === null || _d === void 0 ? void 0 : _d.height) || 0) + 'px';\n        const rows = state.get('config.list.rows');\n        for (const parentId of props.row._internal.parents) {\n            const parent = rows[parentId];\n            const childrenStyle = (_h = (_g = (_f = (_e = parent) === null || _e === void 0 ? void 0 : _e.style) === null || _f === void 0 ? void 0 : _f.grid) === null || _g === void 0 ? void 0 : _g.block) === null || _h === void 0 ? void 0 : _h.children;\n            if (childrenStyle)\n                styleMap.setStyle(Object.assign(Object.assign({}, styleMap.style), childrenStyle));\n        }\n        const currentStyle = (_o = (_m = (_l = (_k = (_j = props) === null || _j === void 0 ? void 0 : _j.row) === null || _k === void 0 ? void 0 : _k.style) === null || _l === void 0 ? void 0 : _l.grid) === null || _m === void 0 ? void 0 : _m.block) === null || _o === void 0 ? void 0 : _o.current;\n        if (currentStyle)\n            styleMap.setStyle(Object.assign(Object.assign({}, styleMap.style), currentStyle));\n        update();\n    }\n    onChange(onPropsChange);\n    componentActions.push(BindElementAction$5);\n    const actions = Actions.create(componentActions, actionProps);\n    return templateProps => {\n        return wrapper(html `\n        <div detach=${detach} class=${className} data-actions=${actions} style=${styleMap}></div>\n      `, { props, vido, templateProps });\n    };\n};\n\n/**\n * ChartTimelineItems component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\nfunction ChartTimelineItems(vido, props = {}) {\n    const { api, state, onDestroy, Actions, update, html, reuseComponents, StyleMap } = vido;\n    const componentName = 'chart-timeline-items';\n    const componentActions = api.getActions(componentName);\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.ChartTimelineItems', value => (wrapper = value)));\n    let ItemsRowComponent;\n    onDestroy(state.subscribe('config.components.ChartTimelineItemsRow', value => (ItemsRowComponent = value)));\n    let className;\n    onDestroy(state.subscribe('config.classNames', () => {\n        className = api.getClass(componentName);\n        update();\n    }));\n    const styleMap = new StyleMap({}, true);\n    function calculateStyle() {\n        const width = state.get('_internal.chart.dimensions.width');\n        const height = state.get('_internal.height');\n        const yCompensation = api.getCompensationY();\n        const xCompensation = api.getCompensationX();\n        styleMap.style.width = width + xCompensation + 'px';\n        styleMap.style.height = height + Math.abs(yCompensation) + 'px';\n    }\n    onDestroy(state.subscribeAll([\n        '_internal.height',\n        '_internal.chart.dimensions.width',\n        'config.scroll.compensation',\n        '_internal.chart.time.dates.day'\n    ], calculateStyle));\n    const rowsComponents = [];\n    function createRowComponents() {\n        const visibleRows = state.get('_internal.list.visibleRows');\n        reuseComponents(rowsComponents, visibleRows || [], row => ({ row }), ItemsRowComponent);\n        update();\n    }\n    onDestroy(state.subscribeAll(['_internal.list.visibleRows;', 'config.chart.items'], createRowComponents));\n    onDestroy(() => {\n        rowsComponents.forEach(row => row.destroy());\n    });\n    const actions = Actions.create(componentActions, { api, state });\n    return templateProps => wrapper(html `\n        <div class=${className} style=${styleMap} data-actions=${actions}>\n          ${rowsComponents.map(r => r.html())}\n        </div>\n      `, { props, vido, templateProps });\n}\n\n/**\n * ChartTimelineItemsRow component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\n/**\n * Bind element action\n * @param {Element} element\n * @param {any} data\n */\nclass BindElementAction$6 {\n    constructor(element, data) {\n        let shouldUpdate = false;\n        let rows = data.state.get('_internal.elements.chart-timeline-items-rows');\n        if (typeof rows === 'undefined') {\n            rows = [];\n            shouldUpdate = true;\n        }\n        if (!rows.includes(element)) {\n            rows.push(element);\n            shouldUpdate = true;\n        }\n        if (shouldUpdate)\n            data.state.update('_internal.elements.chart-timeline-items-rows', rows, { only: null });\n    }\n    destroy(element, data) {\n        data.state.update('_internal.elements.chart-timeline-items-rows', rows => {\n            return rows.filter(el => el !== element);\n        });\n    }\n}\nconst ChartTimelineItemsRow = (vido, props) => {\n    const { api, state, onDestroy, Detach, Actions, update, html, onChange, reuseComponents, StyleMap } = vido;\n    const actionProps = Object.assign(Object.assign({}, props), { api, state });\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.ChartTimelineItemsRow', value => (wrapper = value)));\n    let ItemComponent;\n    onDestroy(state.subscribe('config.components.ChartTimelineItemsRowItem', value => (ItemComponent = value)));\n    let itemsPath = `_internal.flatTreeMapById.${props.row.id}._internal.items`;\n    let rowSub, itemsSub;\n    const itemComponents = [], styleMap = new StyleMap({ width: '', height: '' }, true);\n    let shouldDetach = false;\n    const detach = new Detach(() => shouldDetach);\n    const updateDom = () => {\n        const chart = state.get('_internal.chart');\n        shouldDetach = false;\n        const xCompensation = api.getCompensationX();\n        styleMap.style.width = chart.dimensions.width + xCompensation + 'px';\n        if (!props) {\n            shouldDetach = true;\n            return;\n        }\n        styleMap.style.height = props.row.height + 'px';\n        styleMap.style['--row-height'] = props.row.height + 'px';\n    };\n    function updateRow(row) {\n        itemsPath = `_internal.flatTreeMapById.${row.id}._internal.items`;\n        if (typeof rowSub === 'function') {\n            rowSub();\n        }\n        if (typeof itemsSub === 'function') {\n            itemsSub();\n        }\n        rowSub = state.subscribe('_internal.chart', value => {\n            if (value === undefined) {\n                shouldDetach = true;\n                return update();\n            }\n            updateDom();\n            update();\n        });\n        itemsSub = state.subscribe(itemsPath, value => {\n            if (value === undefined) {\n                shouldDetach = true;\n                reuseComponents(itemComponents, [], item => ({ row, item }), ItemComponent);\n                return update();\n            }\n            reuseComponents(itemComponents, value, item => ({ row, item }), ItemComponent);\n            updateDom();\n            update();\n        });\n    }\n    /**\n     * On props change\n     * @param {any} changedProps\n     */\n    onChange((changedProps, options) => {\n        if (options.leave || changedProps.row === undefined) {\n            shouldDetach = true;\n            return update();\n        }\n        props = changedProps;\n        for (const prop in props) {\n            actionProps[prop] = props[prop];\n        }\n        updateRow(props.row);\n    });\n    onDestroy(() => {\n        itemsSub();\n        rowSub();\n        itemComponents.forEach(item => item.destroy());\n    });\n    const componentName = 'chart-timeline-items-row';\n    const componentActions = api.getActions(componentName);\n    let className;\n    onDestroy(state.subscribe('config.classNames', () => {\n        className = api.getClass(componentName, props);\n        update();\n    }));\n    componentActions.push(BindElementAction$6);\n    const actions = Actions.create(componentActions, actionProps);\n    return templateProps => {\n        return wrapper(html `\n        <div detach=${detach} class=${className} data-actions=${actions} style=${styleMap}>\n          ${itemComponents.map(i => i.html())}\n        </div>\n      `, { props, vido, templateProps });\n    };\n};\n\n/**\n * ChartTimelineItemsRowItem component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\n/**\n * Bind element action\n */\nclass BindElementAction$7 {\n    constructor(element, data) {\n        let shouldUpdate = false;\n        let items = data.state.get('_internal.elements.chart-timeline-items-row-items');\n        if (typeof items === 'undefined') {\n            items = [];\n            shouldUpdate = true;\n        }\n        if (!items.includes(element)) {\n            items.push(element);\n            shouldUpdate = true;\n        }\n        if (shouldUpdate)\n            data.state.update('_internal.elements.chart-timeline-items-row-items', items, { only: null });\n    }\n    destroy(element, data) {\n        data.state.update('_internal.elements.chart-timeline-items-row-items', items => {\n            return items.filter(el => el !== element);\n        });\n    }\n}\nfunction ChartTimelineItemsRowItem(vido, props) {\n    const { api, state, onDestroy, Detach, Actions, update, html, onChange, unsafeHTML, StyleMap } = vido;\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.ChartTimelineItemsRowItem', value => (wrapper = value)));\n    let itemLeftPx = 0, itemWidthPx = 0, leave = false, cutLeft = false, cutRight = false;\n    const styleMap = new StyleMap({ width: '', height: '', left: '' }), leftCutStyleMap = new StyleMap({ 'margin-left': '0px' }), rightCutStyleMap = new StyleMap({ 'margin-right': '0px' }), actionProps = {\n        item: props.item,\n        row: props.row,\n        left: itemLeftPx,\n        width: itemWidthPx,\n        api,\n        state\n    };\n    let shouldDetach = false;\n    function updateItem() {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n        if (leave)\n            return;\n        const time = state.get('_internal.chart.time');\n        itemLeftPx = api.time.globalTimeToViewPixelOffset(props.item.time.start);\n        itemLeftPx = Math.round(itemLeftPx * 10) * 0.1;\n        itemWidthPx = (props.item.time.end - props.item.time.start) / time.timePerPixel;\n        itemWidthPx -= state.get('config.chart.spacing') || 0;\n        if (itemWidthPx) {\n            itemWidthPx = Math.round(itemWidthPx * 10) * 0.1;\n        }\n        if (props.item.time.start < time.leftGlobal) {\n            leftCutStyleMap.style['margin-left'] = (time.leftGlobal - props.item.time.start) / time.timePerPixel + 'px';\n            cutLeft = true;\n        }\n        else {\n            leftCutStyleMap.style['margin-left'] = '0px';\n            cutLeft = false;\n        }\n        if (props.item.time.end > time.rightGlobal) {\n            rightCutStyleMap.style['margin-right'] = (props.item.time.end - time.rightGlobal) / time.timePerPixel + 'px';\n            cutRight = true;\n        }\n        else {\n            cutRight = false;\n            rightCutStyleMap.style['margin-right'] = '0px';\n        }\n        const oldWidth = styleMap.style.width;\n        const oldLeft = styleMap.style.left;\n        const xCompensation = api.getCompensationX();\n        styleMap.setStyle({});\n        const inViewPort = api.isItemInViewport(props.item, time.leftGlobal, time.rightGlobal);\n        shouldDetach = !inViewPort;\n        if (inViewPort) {\n            // update style only when visible to prevent browser's recalculate style\n            styleMap.style.width = itemWidthPx + 'px';\n            styleMap.style.left = itemLeftPx + xCompensation + 'px';\n        }\n        else {\n            styleMap.style.width = oldWidth;\n            styleMap.style.left = oldLeft;\n        }\n        const rows = state.get('config.list.rows');\n        for (const parentId of props.row._internal.parents) {\n            const parent = rows[parentId];\n            const childrenStyle = (_d = (_c = (_b = (_a = parent) === null || _a === void 0 ? void 0 : _a.style) === null || _b === void 0 ? void 0 : _b.items) === null || _c === void 0 ? void 0 : _c.item) === null || _d === void 0 ? void 0 : _d.children;\n            if (childrenStyle)\n                styleMap.setStyle(Object.assign(Object.assign({}, styleMap.style), childrenStyle));\n        }\n        const currentRowItemsStyle = (_j = (_h = (_g = (_f = (_e = props) === null || _e === void 0 ? void 0 : _e.row) === null || _f === void 0 ? void 0 : _f.style) === null || _g === void 0 ? void 0 : _g.items) === null || _h === void 0 ? void 0 : _h.item) === null || _j === void 0 ? void 0 : _j.current;\n        if (currentRowItemsStyle)\n            styleMap.setStyle(Object.assign(Object.assign({}, styleMap.style), currentRowItemsStyle));\n        const currentStyle = (_l = (_k = props) === null || _k === void 0 ? void 0 : _k.item) === null || _l === void 0 ? void 0 : _l.style;\n        if (currentStyle)\n            styleMap.setStyle(Object.assign(Object.assign({}, styleMap.style), currentStyle));\n        actionProps.left = itemLeftPx + xCompensation;\n        actionProps.width = itemWidthPx;\n        update();\n    }\n    const componentName = 'chart-timeline-items-row-item';\n    const cutterName = api.getClass(componentName) + '-cut';\n    const cutterLeft = html `\n    <div class=${cutterName} style=${leftCutStyleMap}>\n      <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"16\" viewBox=\"0 0 18 16\" width=\"16\">\n        <path fill-opacity=\"0.5\" fill=\"#ffffff\" d=\"m5,3l-5,5l5,5l0,-10z\" />\n      </svg>\n    </div>\n  `;\n    const cutterRight = html `\n    <div class=${cutterName} style=${rightCutStyleMap}>\n      <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"16\" viewBox=\"0 0 4 16\" width=\"16\">\n        <path transform=\"rotate(-180 2.5,8) \" fill-opacity=\"0.5\" fill=\"#ffffff\" d=\"m5,3l-5,5l5,5l0,-10z\" />\n      </svg>\n    </div>\n  `;\n    function onPropsChange(changedProps, options) {\n        if (options.leave || changedProps.row === undefined || changedProps.item === undefined) {\n            leave = true;\n            shouldDetach = true;\n            return update();\n        }\n        else {\n            shouldDetach = false;\n            leave = false;\n        }\n        props = changedProps;\n        actionProps.item = props.item;\n        actionProps.row = props.row;\n        updateItem();\n    }\n    onChange(onPropsChange);\n    const componentActions = api.getActions(componentName);\n    let className, labelClassName;\n    onDestroy(state.subscribe('config.classNames', () => {\n        className = api.getClass(componentName, props);\n        labelClassName = api.getClass(componentName + '-label', props);\n        update();\n    }));\n    onDestroy(state.subscribeAll(['_internal.chart.time', 'config.scroll.compensation.x'], updateItem));\n    componentActions.push(BindElementAction$7);\n    const actions = Actions.create(componentActions, actionProps);\n    const detach = new Detach(() => shouldDetach);\n    return templateProps => {\n        return wrapper(html `\n        <div detach=${detach} class=${className} data-actions=${actions} style=${styleMap}>\n          ${cutLeft ? cutterLeft : ''}\n          <div class=${labelClassName}>\n            ${props.item.isHtml ? unsafeHTML(props.item.label) : props.item.label}\n          </div>\n          ${cutRight ? cutterRight : ''}\n        </div>\n      `, { vido, props, templateProps });\n    };\n}\n\n/**\n * Gantt-Schedule-Timeline-Calendar\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0\n */\nconst actionNames = [\n    'main',\n    'list',\n    'list-column',\n    'list-column-header',\n    'list-column-header-resizer',\n    'list-column-header-resizer-dots',\n    'list-column-row',\n    'list-column-row-expander',\n    'list-column-row-expander-toggle',\n    'list-toggle',\n    'chart',\n    'chart-calendar',\n    'chart-calendar-date',\n    'chart-timeline',\n    'chart-timeline-grid',\n    'chart-timeline-grid-row',\n    'chart-timeline-grid-row-block',\n    'chart-timeline-items',\n    'chart-timeline-items-row',\n    'chart-timeline-items-row-item'\n];\nfunction generateEmptyActions() {\n    const actions = {};\n    actionNames.forEach(name => (actions[name] = []));\n    return actions;\n}\nfunction generateEmptySlots() {\n    const slots = {};\n    actionNames.forEach(name => {\n        slots[name] = { before: [], after: [] };\n    });\n    return slots;\n}\n// default configuration\nfunction defaultConfig() {\n    const actions = generateEmptyActions();\n    const slots = generateEmptySlots();\n    return {\n        plugins: [],\n        plugin: {},\n        height: 822,\n        headerHeight: 72,\n        components: {\n            Main,\n            List,\n            ListColumn,\n            ListColumnHeader,\n            ListColumnHeaderResizer,\n            ListColumnRow,\n            ListColumnRowExpander,\n            ListColumnRowExpanderToggle,\n            ListToggle,\n            Chart,\n            ChartCalendar,\n            ChartCalendarDate: ChartCalendarDay,\n            ChartTimeline,\n            ChartTimelineGrid,\n            ChartTimelineGridRow,\n            ChartTimelineGridRowBlock,\n            ChartTimelineItems,\n            ChartTimelineItemsRow,\n            ChartTimelineItemsRowItem\n        },\n        wrappers: {\n            Main(input) {\n                return input;\n            },\n            List(input) {\n                return input;\n            },\n            ListColumn(input) {\n                return input;\n            },\n            ListColumnHeader(input) {\n                return input;\n            },\n            ListColumnHeaderResizer(input) {\n                return input;\n            },\n            ListColumnRow(input) {\n                return input;\n            },\n            ListColumnRowExpander(input) {\n                return input;\n            },\n            ListColumnRowExpanderToggle(input) {\n                return input;\n            },\n            ListToggle(input) {\n                return input;\n            },\n            Chart(input) {\n                return input;\n            },\n            ChartCalendar(input) {\n                return input;\n            },\n            ChartCalendarDate(input) {\n                return input;\n            },\n            ChartTimeline(input) {\n                return input;\n            },\n            ChartTimelineGrid(input) {\n                return input;\n            },\n            ChartTimelineGridRow(input) {\n                return input;\n            },\n            ChartTimelineGridRowBlock(input) {\n                return input;\n            },\n            ChartTimelineItems(input) {\n                return input;\n            },\n            ChartTimelineItemsRow(input) {\n                return input;\n            },\n            ChartTimelineItemsRowItem(input) {\n                return input;\n            }\n        },\n        list: {\n            rows: {},\n            rowHeight: 40,\n            columns: {\n                percent: 100,\n                resizer: {\n                    width: 10,\n                    inRealTime: true,\n                    dots: 6\n                },\n                minWidth: 50,\n                data: {}\n            },\n            expander: {\n                padding: 18,\n                size: 20,\n                icon: {\n                    width: 16,\n                    height: 16\n                },\n                icons: {\n                    child: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><ellipse ry=\"4\" rx=\"4\" id=\"svg_1\" cy=\"12\" cx=\"12\" fill=\"#000000B0\"/></svg>',\n                    open: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z\"/><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/></svg>',\n                    closed: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z\"/><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/></svg>'\n                }\n            },\n            toggle: {\n                display: true,\n                icons: {\n                    open: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path stroke=\"null\" d=\"m16.406954,16.012672l4.00393,-4.012673l-4.00393,-4.012673l1.232651,-1.232651l5.245324,5.245324l-5.245324,5.245324l-1.232651,-1.232651z\"/><path stroke=\"null\" d=\"m-0.343497,12.97734zm1.620144,0l11.341011,0l0,-1.954681l-11.341011,0l0,1.954681zm0,3.909362l11.341011,0l0,-1.954681l-11.341011,0l0,1.954681zm0,-9.773404l0,1.95468l11.341011,0l0,-1.95468l-11.341011,0z\"/></svg>`,\n                    close: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path transform=\"rotate(-180 4.392796516418457,12) \" stroke=\"null\" d=\"m1.153809,16.012672l4.00393,-4.012673l-4.00393,-4.012673l1.232651,-1.232651l5.245324,5.245324l-5.245324,5.245324l-1.232651,-1.232651z\"/><path stroke=\"null\" d=\"m9.773297,12.97734zm1.620144,0l11.341011,0l0,-1.954681l-11.341011,0l0,1.954681zm0,3.909362l11.341011,0l0,-1.954681l-11.341011,0l0,1.954681zm0,-9.773404l0,1.95468l11.341011,0l0,-1.95468l-11.341011,0z\"/></svg>`\n                }\n            }\n        },\n        scroll: {\n            propagate: true,\n            smooth: false,\n            top: 0,\n            left: 0,\n            xMultiplier: 3,\n            yMultiplier: 3,\n            percent: {\n                top: 0,\n                left: 0\n            },\n            compensation: {\n                x: 0,\n                y: 0\n            }\n        },\n        chart: {\n            time: {\n                period: 'day',\n                from: 0,\n                to: 0,\n                finalFrom: 0,\n                finalTo: 0,\n                zoom: 21,\n                leftGlobal: 0,\n                centerGlobal: 0,\n                rightGlobal: 0,\n                levels: [],\n                calculatedZoomMode: false\n            },\n            calendar: {\n                expand: true,\n                levels: [\n                    {\n                        formats: [\n                            {\n                                zoomTo: 17,\n                                period: 'day',\n                                className: 'gstc-date-medium gstc-date-left',\n                                format({ timeStart }) {\n                                    return timeStart.format('DD MMMM YYYY (dddd)');\n                                }\n                            },\n                            {\n                                zoomTo: 23,\n                                period: 'month',\n                                format({ timeStart }) {\n                                    return timeStart.format('MMMM YYYY');\n                                }\n                            },\n                            {\n                                zoomTo: 24,\n                                period: 'month',\n                                format({ timeStart, className, vido }) {\n                                    return timeStart.format(\"MMMM 'YY\");\n                                }\n                            },\n                            {\n                                zoomTo: 25,\n                                period: 'month',\n                                format({ timeStart }) {\n                                    return timeStart.format('MMM YYYY');\n                                }\n                            },\n                            {\n                                zoomTo: 27,\n                                period: 'year',\n                                format({ timeStart }) {\n                                    return timeStart.format('YYYY');\n                                }\n                            },\n                            {\n                                zoomTo: 100,\n                                period: 'year',\n                                default: true,\n                                format() {\n                                    return null;\n                                }\n                            }\n                        ]\n                    },\n                    {\n                        main: true,\n                        formats: [\n                            {\n                                zoomTo: 16,\n                                period: 'hour',\n                                format({ timeStart }) {\n                                    return timeStart.format('HH:mm');\n                                }\n                            },\n                            {\n                                zoomTo: 17,\n                                period: 'hour',\n                                default: true,\n                                format({ timeStart }) {\n                                    return timeStart.format('HH');\n                                }\n                            },\n                            {\n                                zoomTo: 19,\n                                period: 'day',\n                                className: 'gstc-date-medium',\n                                format({ timeStart, className, vido }) {\n                                    return vido.html `<span class=\"${className}-content gstc-date-bold\">${timeStart.format('DD')}</span> <span class=\"${className}-content gstc-date-thin\">${timeStart.format('dddd')}</span>`;\n                                }\n                            },\n                            {\n                                zoomTo: 20,\n                                period: 'day',\n                                default: true,\n                                format({ timeStart, vido, className }) {\n                                    return vido.html `<div class=\"${className}-content gstc-date-top\">${timeStart.format('DD')}</div><div class=\"${className}-content gstc-date-small\">${timeStart.format('dddd')}</div>`;\n                                }\n                            },\n                            {\n                                zoomTo: 21,\n                                period: 'day',\n                                format({ timeStart, vido, className }) {\n                                    return vido.html `<div class=\"${className}-content gstc-date-top\">${timeStart.format('DD')}</div><div class=\"${className}-content gstc-date-small\">${timeStart.format('ddd')}</div>`;\n                                }\n                            },\n                            {\n                                zoomTo: 22,\n                                period: 'day',\n                                className: 'gstc-date-vertical',\n                                format({ timeStart, className, vido }) {\n                                    return vido.html `<div class=\"${className}-content gstc-date-top\">${timeStart.format('DD')}</div><div class=\"${className}-content gstc-date-extra-small\">${timeStart.format('ddd')}</div>`;\n                                }\n                            },\n                            {\n                                zoomTo: 23,\n                                period: 'week',\n                                default: true,\n                                format({ timeStart, timeEnd, className, vido }) {\n                                    return vido.html `<div class=\"${className}-content gstc-date-top\">${timeStart.format('DD')} - ${timeEnd.format('DD')}</div><div class=\"${className}-content gstc-date-small gstc-date-thin\">${timeStart.format('ddd')} - ${timeEnd.format('dd')}</div>`;\n                                }\n                            },\n                            {\n                                zoomTo: 25,\n                                period: 'week',\n                                className: 'gstc-date-vertical',\n                                format({ timeStart, timeEnd, className, vido }) {\n                                    return vido.html `<div class=\"${className}-content gstc-date-top gstc-date-small gstc-date-normal\">${timeStart.format('DD')}</div><div class=\"gstc-dash gstc-date-small\">-</div><div class=\"${className}-content gstc-date-small gstc-date-normal\">${timeEnd.format('DD')}</div>`;\n                                }\n                            },\n                            {\n                                zoomTo: 26,\n                                period: 'month',\n                                default: true,\n                                className: 'gstc-date-month-level-1',\n                                format({ timeStart, vido, className }) {\n                                    return vido.html `<div class=\"${className}-content gstc-date-top\">${timeStart.format('MMM')}</div><div class=\"${className}-content gstc-date-small gstc-date-bottom\">${timeStart.format('MM')}</div>`;\n                                }\n                            },\n                            {\n                                zoomTo: 27,\n                                period: 'month',\n                                className: 'gstc-date-vertical',\n                                format({ timeStart, className, vido }) {\n                                    return vido.html `<div class=\"${className}-content gstc-date-top\">${timeStart.format('MM')}</div><div class=\"${className}-content gstc-date-extra-small\">${timeStart.format('MMM')}</div>`;\n                                }\n                            },\n                            {\n                                zoomTo: 28,\n                                period: 'year',\n                                default: true,\n                                className: 'gstc-date-big',\n                                format({ timeStart }) {\n                                    return timeStart.format('YYYY');\n                                }\n                            },\n                            {\n                                zoomTo: 29,\n                                period: 'year',\n                                className: 'gstc-date-medium',\n                                format({ timeStart }) {\n                                    return timeStart.format('YYYY');\n                                }\n                            },\n                            {\n                                zoomTo: 30,\n                                period: 'year',\n                                className: 'gstc-date-medium',\n                                format({ timeStart }) {\n                                    return timeStart.format('YY');\n                                }\n                            },\n                            {\n                                zoomTo: 100,\n                                period: 'year',\n                                default: true,\n                                format() {\n                                    return null;\n                                }\n                            }\n                        ]\n                    }\n                ]\n            },\n            grid: {\n                block: {\n                    onCreate: []\n                }\n            },\n            items: {},\n            spacing: 1\n        },\n        slots,\n        classNames: {},\n        actions,\n        locale: {\n            name: 'en',\n            weekdays: 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),\n            weekdaysShort: 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),\n            weekdaysMin: 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),\n            months: 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),\n            monthsShort: 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),\n            weekStart: 1,\n            relativeTime: {\n                future: 'in %s',\n                past: '%s ago',\n                s: 'a few seconds',\n                m: 'a minute',\n                mm: '%d minutes',\n                h: 'an hour',\n                hh: '%d hours',\n                d: 'a day',\n                dd: '%d days',\n                M: 'a month',\n                MM: '%d months',\n                y: 'a year',\n                yy: '%d years'\n            },\n            formats: {\n                LT: 'HH:mm',\n                LTS: 'HH:mm:ss',\n                L: 'DD/MM/YYYY',\n                LL: 'D MMMM YYYY',\n                LLL: 'D MMMM YYYY HH:mm',\n                LLLL: 'dddd, D MMMM YYYY HH:mm'\n            },\n            ordinal: (n) => {\n                const s = ['th', 'st', 'nd', 'rd'];\n                const v = n % 100;\n                return `[${n}${s[(v - 20) % 10] || s[v] || s[0]}]`;\n            }\n        },\n        utcMode: false,\n        usageStatistics: true\n    };\n}\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar dayjs_min = createCommonjsModule(function (module, exports) {\n!function(t,n){module.exports=n();}(commonjsGlobal,function(){var t=\"millisecond\",n=\"second\",e=\"minute\",r=\"hour\",i=\"day\",s=\"week\",u=\"month\",o=\"quarter\",a=\"year\",h=/^(\\d{4})-?(\\d{1,2})-?(\\d{0,2})[^0-9]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?.?(\\d{1,3})?$/,f=/\\[([^\\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=function(t,n,e){var r=String(t);return !r||r.length>=n?t:\"\"+Array(n+1-r.length).join(e)+t},d={s:c,z:function(t){var n=-t.utcOffset(),e=Math.abs(n),r=Math.floor(e/60),i=e%60;return (n<=0?\"+\":\"-\")+c(r,2,\"0\")+\":\"+c(i,2,\"0\")},m:function(t,n){var e=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(e,u),i=n-r<0,s=t.clone().add(e+(i?-1:1),u);return Number(-(e+(n-r)/(i?r-s:s-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(h){return {M:u,y:a,w:s,d:i,D:\"date\",h:r,m:e,s:n,ms:t,Q:o}[h]||String(h||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},$={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\")},l=\"en\",m={};m[l]=$;var y=function(t){return t instanceof v},M=function(t,n,e){var r;if(!t)return l;if(\"string\"==typeof t)m[t]&&(r=t),n&&(m[t]=n,r=t);else{var i=t.name;m[i]=t,r=i;}return !e&&r&&(l=r),r||!e&&l},g=function(t,n,e){if(y(t))return t.clone();var r=n?\"string\"==typeof n?{format:n,pl:e}:n:{};return r.date=t,new v(r)},D=d;D.l=M,D.i=y,D.w=function(t,n){return g(t,{locale:n.$L,utc:n.$u,$offset:n.$offset})};var v=function(){function c(t){this.$L=this.$L||M(t.locale,null,!0),this.parse(t);}var d=c.prototype;return d.parse=function(t){this.$d=function(t){var n=t.date,e=t.utc;if(null===n)return new Date(NaN);if(D.u(n))return new Date;if(n instanceof Date)return new Date(n);if(\"string\"==typeof n&&!/Z$/i.test(n)){var r=n.match(h);if(r)return e?new Date(Date.UTC(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)):new Date(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)}return new Date(n)}(t),this.init();},d.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds();},d.$utils=function(){return D},d.isValid=function(){return !(\"Invalid Date\"===this.$d.toString())},d.isSame=function(t,n){var e=g(t);return this.startOf(n)<=e&&e<=this.endOf(n)},d.isAfter=function(t,n){return g(t)<this.startOf(n)},d.isBefore=function(t,n){return this.endOf(n)<g(t)},d.$g=function(t,n,e){return D.u(t)?this[n]:this.set(e,t)},d.year=function(t){return this.$g(t,\"$y\",a)},d.month=function(t){return this.$g(t,\"$M\",u)},d.day=function(t){return this.$g(t,\"$W\",i)},d.date=function(t){return this.$g(t,\"$D\",\"date\")},d.hour=function(t){return this.$g(t,\"$H\",r)},d.minute=function(t){return this.$g(t,\"$m\",e)},d.second=function(t){return this.$g(t,\"$s\",n)},d.millisecond=function(n){return this.$g(n,\"$ms\",t)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(t,o){var h=this,f=!!D.u(o)||o,c=D.p(t),d=function(t,n){var e=D.w(h.$u?Date.UTC(h.$y,n,t):new Date(h.$y,n,t),h);return f?e:e.endOf(i)},$=function(t,n){return D.w(h.toDate()[t].apply(h.toDate(),(f?[0,0,0,0]:[23,59,59,999]).slice(n)),h)},l=this.$W,m=this.$M,y=this.$D,M=\"set\"+(this.$u?\"UTC\":\"\");switch(c){case a:return f?d(1,0):d(31,11);case u:return f?d(1,m):d(0,m+1);case s:var g=this.$locale().weekStart||0,v=(l<g?l+7:l)-g;return d(f?y-v:y+(6-v),m);case i:case\"date\":return $(M+\"Hours\",0);case r:return $(M+\"Minutes\",1);case e:return $(M+\"Seconds\",2);case n:return $(M+\"Milliseconds\",3);default:return this.clone()}},d.endOf=function(t){return this.startOf(t,!1)},d.$set=function(s,o){var h,f=D.p(s),c=\"set\"+(this.$u?\"UTC\":\"\"),d=(h={},h[i]=c+\"Date\",h.date=c+\"Date\",h[u]=c+\"Month\",h[a]=c+\"FullYear\",h[r]=c+\"Hours\",h[e]=c+\"Minutes\",h[n]=c+\"Seconds\",h[t]=c+\"Milliseconds\",h)[f],$=f===i?this.$D+(o-this.$W):o;if(f===u||f===a){var l=this.clone().set(\"date\",1);l.$d[d]($),l.init(),this.$d=l.set(\"date\",Math.min(this.$D,l.daysInMonth())).toDate();}else d&&this.$d[d]($);return this.init(),this},d.set=function(t,n){return this.clone().$set(t,n)},d.get=function(t){return this[D.p(t)]()},d.add=function(t,o){var h,f=this;t=Number(t);var c=D.p(o),d=function(n){var e=g(f);return D.w(e.date(e.date()+Math.round(n*t)),f)};if(c===u)return this.set(u,this.$M+t);if(c===a)return this.set(a,this.$y+t);if(c===i)return d(1);if(c===s)return d(7);var $=(h={},h[e]=6e4,h[r]=36e5,h[n]=1e3,h)[c]||1,l=this.$d.getTime()+t*$;return D.w(l,this)},d.subtract=function(t,n){return this.add(-1*t,n)},d.format=function(t){var n=this;if(!this.isValid())return \"Invalid Date\";var e=t||\"YYYY-MM-DDTHH:mm:ssZ\",r=D.z(this),i=this.$locale(),s=this.$H,u=this.$m,o=this.$M,a=i.weekdays,h=i.months,c=function(t,r,i,s){return t&&(t[r]||t(n,e))||i[r].substr(0,s)},d=function(t){return D.s(s%12||12,t,\"0\")},$=i.meridiem||function(t,n,e){var r=t<12?\"AM\":\"PM\";return e?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:D.s(o+1,2,\"0\"),MMM:c(i.monthsShort,o,h,3),MMMM:h[o]||h(this,e),D:this.$D,DD:D.s(this.$D,2,\"0\"),d:String(this.$W),dd:c(i.weekdaysMin,this.$W,a,2),ddd:c(i.weekdaysShort,this.$W,a,3),dddd:a[this.$W],H:String(s),HH:D.s(s,2,\"0\"),h:d(1),hh:d(2),a:$(s,u,!0),A:$(s,u,!1),m:String(u),mm:D.s(u,2,\"0\"),s:String(this.$s),ss:D.s(this.$s,2,\"0\"),SSS:D.s(this.$ms,3,\"0\"),Z:r};return e.replace(f,function(t,n){return n||l[t]||r.replace(\":\",\"\")})},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(t,h,f){var c,d=D.p(h),$=g(t),l=6e4*($.utcOffset()-this.utcOffset()),m=this-$,y=D.m(this,$);return y=(c={},c[a]=y/12,c[u]=y,c[o]=y/3,c[s]=(m-l)/6048e5,c[i]=(m-l)/864e5,c[r]=m/36e5,c[e]=m/6e4,c[n]=m/1e3,c)[d]||m,f?y:D.a(y)},d.daysInMonth=function(){return this.endOf(u).$D},d.$locale=function(){return m[this.$L]},d.locale=function(t,n){if(!t)return this.$L;var e=this.clone(),r=M(t,n,!0);return r&&(e.$L=r),e},d.clone=function(){return D.w(this.$d,this)},d.toDate=function(){return new Date(this.valueOf())},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},c}();return g.prototype=v.prototype,g.extend=function(t,n){return t(n,v,g),g},g.locale=M,g.isDayjs=y,g.unix=function(t){return g(1e3*t)},g.en=m[l],g.Ls=m,g});\n});\n\nvar utc = createCommonjsModule(function (module, exports) {\n!function(t,i){module.exports=i();}(commonjsGlobal,function(){return function(t,i,e){var s=(new Date).getTimezoneOffset(),n=i.prototype;e.utc=function(t,e){return new i({date:t,utc:!0,format:e})},n.utc=function(){return e(this.toDate(),{locale:this.$L,utc:!0})},n.local=function(){return e(this.toDate(),{locale:this.$L,utc:!1})};var u=n.parse;n.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),u.call(this,t);};var o=n.init;n.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds();}else o.call(this);};var f=n.utcOffset;n.utcOffset=function(t){var i=this.$utils().u;if(i(t))return this.$u?0:i(this.$offset)?f.call(this):this.$offset;var e,n=Math.abs(t)<=16?60*t:t;return 0!==t?(e=this.local().add(n+s,\"minute\")).$offset=n:e=this.utc(),e};var r=n.format;n.format=function(t){var i=t||(this.$u?\"YYYY-MM-DDTHH:mm:ss[Z]\":\"\");return r.call(this,i)},n.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+s;return this.$d.valueOf()-6e4*t},n.isUTC=function(){return !!this.$u},n.toISOString=function(){return this.toDate().toISOString()},n.toString=function(){return this.toDate().toUTCString()};}});\n});\n\nvar advancedFormat = createCommonjsModule(function (module, exports) {\n!function(e,t){module.exports=t();}(commonjsGlobal,function(){return function(e,t,r){var n=t.prototype,o=n.format;r.en.ordinal=function(e){var t=[\"th\",\"st\",\"nd\",\"rd\"],r=e%100;return \"[\"+e+(t[(r-20)%10]||t[r]||t[0])+\"]\"},n.format=function(e){var t=this,r=this.$locale(),n=this.$utils(),a=(e||\"YYYY-MM-DDTHH:mm:ssZ\").replace(/\\[([^\\]]+)]|Q|wo|ww|w|gggg|Do|X|x|k{1,2}|S/g,function(e){switch(e){case\"Q\":return Math.ceil((t.$M+1)/3);case\"Do\":return r.ordinal(t.$D);case\"gggg\":return t.weekYear();case\"wo\":return r.ordinal(t.week(),\"W\");case\"w\":case\"ww\":return n.s(t.week(),\"w\"===e?1:2,\"0\");case\"k\":case\"kk\":return n.s(String(0===t.$H?24:t.$H),\"k\"===e?1:2,\"0\");case\"X\":return Math.floor(t.$d.getTime()/1e3);case\"x\":return t.$d.getTime();default:return e}});return o.bind(this)(a)};}});\n});\n\nvar weekOfYear = createCommonjsModule(function (module, exports) {\n!function(e,t){module.exports=t();}(commonjsGlobal,function(){var e=\"week\",t=\"year\";return function(i,n){var r=n.prototype;r.week=function(i){if(void 0===i&&(i=null),null!==i)return this.add(7*(i-this.week()),\"day\");var n=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var r=this.startOf(t).add(1,t).date(n),f=this.endOf(e);if(r.isBefore(f))return 1}var s=this.startOf(t).date(n).startOf(e).subtract(1,\"millisecond\"),a=this.diff(s,e,!0);return a<0?this.startOf(\"week\").week():Math.ceil(a)},r.weeks=function(e){return void 0===e&&(e=null),this.week(e)};}});\n});\n\n/**\n * Gantt-Schedule-Timeline-Calendar\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0\n */\ndayjs_min.extend(advancedFormat);\ndayjs_min.extend(weekOfYear);\nclass TimeApi {\n    constructor(state) {\n        this.utcMode = false;\n        this.state = state;\n        this.locale = state.get('config.locale');\n        this.utcMode = state.get('config.utcMode');\n        if (this.utcMode) {\n            dayjs_min.extend(utc);\n        }\n        // @ts-ignore\n        dayjs_min.locale(this.locale, null, true);\n    }\n    date(time) {\n        const _dayjs = this.utcMode ? dayjs_min.utc : dayjs_min;\n        return time ? _dayjs(time).locale(this.locale.name) : _dayjs().locale(this.locale.name);\n    }\n    addAdditionalSpace(time) {\n        if (time.additionalSpaces && time.additionalSpaces[time.period]) {\n            const add = time.additionalSpaces[time.period];\n            if (add.before) {\n                time.finalFrom = this.date(time.from)\n                    .subtract(add.before, add.period)\n                    .valueOf();\n            }\n            if (add.after) {\n                time.finalTo = this.date(time.to)\n                    .add(add.after, add.period)\n                    .valueOf();\n            }\n        }\n        return time;\n    }\n    recalculateFromTo(time) {\n        const period = time.period;\n        time = Object.assign({}, time);\n        time.from = +time.from;\n        time.to = +time.to;\n        let from = Number.MAX_SAFE_INTEGER, to = 0;\n        const items = this.state.get('config.chart.items');\n        if (Object.keys(items).length === 0) {\n            return time;\n        }\n        if (time.from === 0 || time.to === 0) {\n            for (const itemId in items) {\n                const item = items[itemId];\n                if (item.time.start < from && item.time.start) {\n                    from = item.time.start;\n                }\n                if (item.time.end > to) {\n                    to = item.time.end;\n                }\n            }\n            if (time.from === 0) {\n                time.from = this.date(from)\n                    .startOf(period)\n                    .valueOf();\n            }\n            if (time.to === 0) {\n                time.to = this.date(to)\n                    .endOf(period)\n                    .valueOf();\n            }\n        }\n        time.finalFrom = time.from;\n        time.finalTo = time.to;\n        time = this.addAdditionalSpace(time);\n        return time;\n    }\n    getCenter(time) {\n        return time.leftGlobal + (time.rightGlobal - time.leftGlobal) / 2;\n    }\n    timeToPixelOffset(milliseconds) {\n        const timePerPixel = this.state.get('_internal.chart.time.timePerPixel') || 1;\n        return milliseconds / timePerPixel;\n    }\n    globalTimeToViewPixelOffset(milliseconds, withCompensation = false) {\n        const time = this.state.get('_internal.chart.time');\n        let xCompensation = this.state.get('config.scroll.compensation.x') || 0;\n        const viewPixelOffset = (milliseconds - time.leftGlobal) / time.timePerPixel;\n        if (withCompensation)\n            return viewPixelOffset + xCompensation;\n        return viewPixelOffset;\n    }\n}\n\n// forked from https://github.com/joonhocho/superwild\nfunction Matcher(pattern, wchar = '*') {\n    this.wchar = wchar;\n    this.pattern = pattern;\n    this.segments = [];\n    this.starCount = 0;\n    this.minLength = 0;\n    this.maxLength = 0;\n    this.segStartIndex = 0;\n    for (let i = 0, len = pattern.length; i < len; i += 1) {\n        const char = pattern[i];\n        if (char === wchar) {\n            this.starCount += 1;\n            if (i > this.segStartIndex) {\n                this.segments.push(pattern.substring(this.segStartIndex, i));\n            }\n            this.segments.push(char);\n            this.segStartIndex = i + 1;\n        }\n    }\n    if (this.segStartIndex < pattern.length) {\n        this.segments.push(pattern.substring(this.segStartIndex));\n    }\n    if (this.starCount) {\n        this.minLength = pattern.length - this.starCount;\n        this.maxLength = Infinity;\n    }\n    else {\n        this.maxLength = this.minLength = pattern.length;\n    }\n}\nMatcher.prototype.match = function match(match) {\n    if (this.pattern === this.wchar) {\n        return true;\n    }\n    if (this.segments.length === 0) {\n        return this.pattern === match;\n    }\n    const { length } = match;\n    if (length < this.minLength || length > this.maxLength) {\n        return false;\n    }\n    let segLeftIndex = 0;\n    let segRightIndex = this.segments.length - 1;\n    let rightPos = match.length - 1;\n    let rightIsStar = false;\n    while (true) {\n        const segment = this.segments[segRightIndex];\n        segRightIndex -= 1;\n        if (segment === this.wchar) {\n            rightIsStar = true;\n        }\n        else {\n            const lastIndex = rightPos + 1 - segment.length;\n            const index = match.lastIndexOf(segment, lastIndex);\n            if (index === -1 || index > lastIndex) {\n                return false;\n            }\n            if (rightIsStar) {\n                rightPos = index - 1;\n                rightIsStar = false;\n            }\n            else {\n                if (index !== lastIndex) {\n                    return false;\n                }\n                rightPos -= segment.length;\n            }\n        }\n        if (segLeftIndex > segRightIndex) {\n            break;\n        }\n    }\n    return true;\n};\n\nfunction WildcardObject(obj, delimeter, wildcard) {\n    this.obj = obj;\n    this.delimeter = delimeter;\n    this.wildcard = wildcard;\n}\nWildcardObject.prototype.simpleMatch = function simpleMatch(first, second) {\n    if (first === second)\n        return true;\n    if (first === this.wildcard)\n        return true;\n    const index = first.indexOf(this.wildcard);\n    if (index > -1) {\n        const end = first.substr(index + 1);\n        if (index === 0 || second.substring(0, index) === first.substring(0, index)) {\n            const len = end.length;\n            if (len > 0) {\n                return second.substr(-len) === end;\n            }\n            return true;\n        }\n    }\n    return false;\n};\nWildcardObject.prototype.match = function match(first, second) {\n    return (first === second ||\n        first === this.wildcard ||\n        second === this.wildcard ||\n        this.simpleMatch(first, second) ||\n        new Matcher(first).match(second));\n};\nWildcardObject.prototype.handleArray = function handleArray(wildcard, currentArr, partIndex, path, result = {}) {\n    let nextPartIndex = wildcard.indexOf(this.delimeter, partIndex);\n    let end = false;\n    if (nextPartIndex === -1) {\n        end = true;\n        nextPartIndex = wildcard.length;\n    }\n    const currentWildcardPath = wildcard.substring(partIndex, nextPartIndex);\n    let index = 0;\n    for (const item of currentArr) {\n        const key = index.toString();\n        const currentPath = path === '' ? key : path + this.delimeter + index;\n        if (currentWildcardPath === this.wildcard ||\n            currentWildcardPath === key ||\n            this.simpleMatch(currentWildcardPath, key)) {\n            end ? (result[currentPath] = item) : this.goFurther(wildcard, item, nextPartIndex + 1, currentPath, result);\n        }\n        index++;\n    }\n    return result;\n};\nWildcardObject.prototype.handleObject = function handleObject(wildcard, currentObj, partIndex, path, result = {}) {\n    let nextPartIndex = wildcard.indexOf(this.delimeter, partIndex);\n    let end = false;\n    if (nextPartIndex === -1) {\n        end = true;\n        nextPartIndex = wildcard.length;\n    }\n    const currentWildcardPath = wildcard.substring(partIndex, nextPartIndex);\n    for (let key in currentObj) {\n        key = key.toString();\n        const currentPath = path === '' ? key : path + this.delimeter + key;\n        if (currentWildcardPath === this.wildcard ||\n            currentWildcardPath === key ||\n            this.simpleMatch(currentWildcardPath, key)) {\n            end\n                ? (result[currentPath] = currentObj[key])\n                : this.goFurther(wildcard, currentObj[key], nextPartIndex + 1, currentPath, result);\n        }\n    }\n    return result;\n};\nWildcardObject.prototype.goFurther = function goFurther(wildcard, currentObj, partIndex, currentPath, result = {}) {\n    if (Array.isArray(currentObj)) {\n        return this.handleArray(wildcard, currentObj, partIndex, currentPath, result);\n    }\n    return this.handleObject(wildcard, currentObj, partIndex, currentPath, result);\n};\nWildcardObject.prototype.get = function get(wildcard) {\n    return this.goFurther(wildcard, this.obj, 0, '');\n};\n\nclass ObjectPath {\n    static get(path, obj, copiedPath = null) {\n        if (copiedPath === null) {\n            copiedPath = path.slice();\n        }\n        if (copiedPath.length === 0 || typeof obj === \"undefined\") {\n            return obj;\n        }\n        const currentPath = copiedPath.shift();\n        if (!obj.hasOwnProperty(currentPath)) {\n            return undefined;\n        }\n        if (copiedPath.length === 0) {\n            return obj[currentPath];\n        }\n        return ObjectPath.get(path, obj[currentPath], copiedPath);\n    }\n    static set(path, newValue, obj, copiedPath = null) {\n        if (copiedPath === null) {\n            copiedPath = path.slice();\n        }\n        if (copiedPath.length === 0) {\n            for (const key in obj) {\n                delete obj[key];\n            }\n            for (const key in newValue) {\n                obj[key] = newValue[key];\n            }\n            return;\n        }\n        const currentPath = copiedPath.shift();\n        if (copiedPath.length === 0) {\n            obj[currentPath] = newValue;\n            return;\n        }\n        if (!obj) {\n            obj = {};\n        }\n        if (!obj.hasOwnProperty(currentPath)) {\n            obj[currentPath] = {};\n        }\n        ObjectPath.set(path, newValue, obj[currentPath], copiedPath);\n    }\n}\n\nfunction log(message, info) {\n    console.debug(message, info);\n}\nconst defaultOptions$1 = {\n    delimeter: `.`,\n    notRecursive: `;`,\n    param: `:`,\n    wildcard: `*`,\n    log\n};\nconst defaultListenerOptions = {\n    bulk: false,\n    debug: false,\n    source: \"\",\n    data: undefined\n};\nconst defaultUpdateOptions = {\n    only: [],\n    source: \"\",\n    debug: false,\n    data: undefined,\n    updateAfter: false\n};\nclass DeepState {\n    constructor(data = {}, options = defaultOptions$1) {\n        this.listeners = new Map();\n        this.waitingListeners = new Map();\n        this.data = data;\n        this.options = Object.assign(Object.assign({}, defaultOptions$1), options);\n        this.id = 0;\n        this.pathGet = ObjectPath.get;\n        this.pathSet = ObjectPath.set;\n        this.scan = new WildcardObject(this.data, this.options.delimeter, this.options.wildcard);\n    }\n    getListeners() {\n        return this.listeners;\n    }\n    destroy() {\n        this.data = undefined;\n        this.listeners = new Map();\n    }\n    match(first, second) {\n        if (first === second)\n            return true;\n        if (first === this.options.wildcard || second === this.options.wildcard)\n            return true;\n        return this.scan.match(first, second);\n    }\n    getIndicesOf(searchStr, str) {\n        const searchStrLen = searchStr.length;\n        if (searchStrLen == 0) {\n            return [];\n        }\n        let startIndex = 0, index, indices = [];\n        while ((index = str.indexOf(searchStr, startIndex)) > -1) {\n            indices.push(index);\n            startIndex = index + searchStrLen;\n        }\n        return indices;\n    }\n    getIndicesCount(searchStr, str) {\n        const searchStrLen = searchStr.length;\n        if (searchStrLen == 0) {\n            return 0;\n        }\n        let startIndex = 0, index, indices = 0;\n        while ((index = str.indexOf(searchStr, startIndex)) > -1) {\n            indices++;\n            startIndex = index + searchStrLen;\n        }\n        return indices;\n    }\n    cutPath(longer, shorter) {\n        longer = this.cleanNotRecursivePath(longer);\n        shorter = this.cleanNotRecursivePath(shorter);\n        const shorterPartsLen = this.getIndicesCount(this.options.delimeter, shorter);\n        const longerParts = this.getIndicesOf(this.options.delimeter, longer);\n        return longer.substr(0, longerParts[shorterPartsLen]);\n    }\n    trimPath(path) {\n        path = this.cleanNotRecursivePath(path);\n        if (path.charAt(0) === this.options.delimeter) {\n            return path.substr(1);\n        }\n        return path;\n    }\n    split(path) {\n        return path === \"\" ? [] : path.split(this.options.delimeter);\n    }\n    isWildcard(path) {\n        return path.includes(this.options.wildcard);\n    }\n    isNotRecursive(path) {\n        return path.endsWith(this.options.notRecursive);\n    }\n    cleanNotRecursivePath(path) {\n        return this.isNotRecursive(path) ? path.substring(0, path.length - 1) : path;\n    }\n    hasParams(path) {\n        return path.includes(this.options.param);\n    }\n    getParamsInfo(path) {\n        let paramsInfo = { replaced: \"\", original: path, params: {} };\n        let partIndex = 0;\n        let fullReplaced = [];\n        for (const part of this.split(path)) {\n            paramsInfo.params[partIndex] = {\n                original: part,\n                replaced: \"\",\n                name: \"\"\n            };\n            const reg = new RegExp(`\\\\${this.options.param}([^\\\\${this.options.delimeter}\\\\${this.options.param}]+)`, \"g\");\n            let param = reg.exec(part);\n            if (param) {\n                paramsInfo.params[partIndex].name = param[1];\n            }\n            else {\n                delete paramsInfo.params[partIndex];\n                fullReplaced.push(part);\n                partIndex++;\n                continue;\n            }\n            reg.lastIndex = 0;\n            paramsInfo.params[partIndex].replaced = part.replace(reg, this.options.wildcard);\n            fullReplaced.push(paramsInfo.params[partIndex].replaced);\n            partIndex++;\n        }\n        paramsInfo.replaced = fullReplaced.join(this.options.delimeter);\n        return paramsInfo;\n    }\n    getParams(paramsInfo, path) {\n        if (!paramsInfo) {\n            return undefined;\n        }\n        const split = this.split(path);\n        const result = {};\n        for (const partIndex in paramsInfo.params) {\n            const param = paramsInfo.params[partIndex];\n            result[param.name] = split[partIndex];\n        }\n        return result;\n    }\n    waitForAll(userPaths, fn) {\n        const paths = {};\n        for (let path of userPaths) {\n            paths[path] = { dirty: false };\n            if (this.hasParams(path)) {\n                paths[path].paramsInfo = this.getParamsInfo(path);\n            }\n            paths[path].isWildcard = this.isWildcard(path);\n            paths[path].isRecursive = !this.isNotRecursive(path);\n        }\n        this.waitingListeners.set(userPaths, { fn, paths });\n        fn(paths);\n        return function unsubscribe() {\n            this.waitingListeners.delete(userPaths);\n        };\n    }\n    executeWaitingListeners(updatePath) {\n        for (const waitingListener of this.waitingListeners.values()) {\n            const { fn, paths } = waitingListener;\n            let dirty = 0;\n            let all = 0;\n            for (let path in paths) {\n                const pathInfo = paths[path];\n                let match = false;\n                if (pathInfo.isRecursive)\n                    updatePath = this.cutPath(updatePath, path);\n                if (pathInfo.isWildcard && this.match(path, updatePath))\n                    match = true;\n                if (updatePath === path)\n                    match = true;\n                if (match) {\n                    pathInfo.dirty = true;\n                }\n                if (pathInfo.dirty) {\n                    dirty++;\n                }\n                all++;\n            }\n            if (dirty === all) {\n                fn(paths);\n            }\n        }\n    }\n    subscribeAll(userPaths, fn, options = defaultListenerOptions) {\n        let unsubscribers = [];\n        for (const userPath of userPaths) {\n            unsubscribers.push(this.subscribe(userPath, fn, options));\n        }\n        return function unsubscribe() {\n            for (const unsubscribe of unsubscribers) {\n                unsubscribe();\n            }\n        };\n    }\n    getCleanListenersCollection(values = {}) {\n        return Object.assign({ listeners: new Map(), isRecursive: false, isWildcard: false, hasParams: false, match: undefined, paramsInfo: undefined, path: undefined, count: 0 }, values);\n    }\n    getCleanListener(fn, options = defaultListenerOptions) {\n        return {\n            fn,\n            options: Object.assign(Object.assign({}, defaultListenerOptions), options)\n        };\n    }\n    getListenerCollectionMatch(listenerPath, isRecursive, isWildcard) {\n        listenerPath = this.cleanNotRecursivePath(listenerPath);\n        const self = this;\n        return function listenerCollectionMatch(path) {\n            if (isRecursive)\n                path = self.cutPath(path, listenerPath);\n            if (isWildcard && self.match(listenerPath, path))\n                return true;\n            return listenerPath === path;\n        };\n    }\n    getListenersCollection(listenerPath, listener) {\n        if (this.listeners.has(listenerPath)) {\n            let listenersCollection = this.listeners.get(listenerPath);\n            listenersCollection.listeners.set(++this.id, listener);\n            return listenersCollection;\n        }\n        let collCfg = {\n            isRecursive: true,\n            isWildcard: false,\n            hasParams: false,\n            paramsInfo: undefined,\n            originalPath: listenerPath,\n            path: listenerPath\n        };\n        if (this.hasParams(collCfg.path)) {\n            collCfg.paramsInfo = this.getParamsInfo(collCfg.path);\n            collCfg.path = collCfg.paramsInfo.replaced;\n            collCfg.hasParams = true;\n        }\n        collCfg.isWildcard = this.isWildcard(collCfg.path);\n        if (this.isNotRecursive(collCfg.path)) {\n            collCfg.isRecursive = false;\n        }\n        let listenersCollection = this.getCleanListenersCollection(Object.assign(Object.assign({}, collCfg), { match: this.getListenerCollectionMatch(collCfg.path, collCfg.isRecursive, collCfg.isWildcard) }));\n        this.id++;\n        listenersCollection.listeners.set(this.id, listener);\n        this.listeners.set(collCfg.path, listenersCollection);\n        return listenersCollection;\n    }\n    subscribe(listenerPath, fn, options = defaultListenerOptions, type = \"subscribe\") {\n        let listener = this.getCleanListener(fn, options);\n        const listenersCollection = this.getListenersCollection(listenerPath, listener);\n        listenersCollection.count++;\n        listenerPath = listenersCollection.path;\n        if (!listenersCollection.isWildcard) {\n            fn(this.pathGet(this.split(this.cleanNotRecursivePath(listenerPath)), this.data), {\n                type,\n                listener,\n                listenersCollection,\n                path: {\n                    listener: listenerPath,\n                    update: undefined,\n                    resolved: this.cleanNotRecursivePath(listenerPath)\n                },\n                params: this.getParams(listenersCollection.paramsInfo, listenerPath),\n                options\n            });\n        }\n        else {\n            const paths = this.scan.get(this.cleanNotRecursivePath(listenerPath));\n            if (options.bulk) {\n                const bulkValue = [];\n                for (const path in paths) {\n                    bulkValue.push({\n                        path,\n                        params: this.getParams(listenersCollection.paramsInfo, path),\n                        value: paths[path]\n                    });\n                }\n                fn(bulkValue, {\n                    type,\n                    listener,\n                    listenersCollection,\n                    path: {\n                        listener: listenerPath,\n                        update: undefined,\n                        resolved: undefined\n                    },\n                    options,\n                    params: undefined\n                });\n            }\n            else {\n                for (const path in paths) {\n                    fn(paths[path], {\n                        type,\n                        listener,\n                        listenersCollection,\n                        path: {\n                            listener: listenerPath,\n                            update: undefined,\n                            resolved: this.cleanNotRecursivePath(path)\n                        },\n                        params: this.getParams(listenersCollection.paramsInfo, path),\n                        options\n                    });\n                }\n            }\n        }\n        this.debugSubscribe(listener, listenersCollection, listenerPath);\n        return this.unsubscribe(listenerPath, this.id);\n    }\n    unsubscribe(path, id) {\n        const listeners = this.listeners;\n        const listenersCollection = listeners.get(path);\n        return function unsub() {\n            listenersCollection.listeners.delete(id);\n            listenersCollection.count--;\n            if (listenersCollection.count === 0) {\n                listeners.delete(path);\n            }\n        };\n    }\n    same(newValue, oldValue) {\n        return (([\"number\", \"string\", \"undefined\", \"boolean\"].includes(typeof newValue) || newValue === null) &&\n            oldValue === newValue);\n    }\n    notifyListeners(listeners, exclude = [], returnNotified = true) {\n        const alreadyNotified = [];\n        for (const path in listeners) {\n            let { single, bulk } = listeners[path];\n            for (const singleListener of single) {\n                if (exclude.includes(singleListener))\n                    continue;\n                const time = this.debugTime(singleListener);\n                singleListener.listener.fn(singleListener.value(), singleListener.eventInfo);\n                if (returnNotified)\n                    alreadyNotified.push(singleListener);\n                this.debugListener(time, singleListener);\n            }\n            for (const bulkListener of bulk) {\n                if (exclude.includes(bulkListener))\n                    continue;\n                const time = this.debugTime(bulkListener);\n                const bulkValue = [];\n                for (const bulk of bulkListener.value) {\n                    bulkValue.push(Object.assign(Object.assign({}, bulk), { value: bulk.value() }));\n                }\n                bulkListener.listener.fn(bulkValue, bulkListener.eventInfo);\n                if (returnNotified)\n                    alreadyNotified.push(bulkListener);\n                this.debugListener(time, bulkListener);\n            }\n        }\n        return alreadyNotified;\n    }\n    getSubscribedListeners(updatePath, newValue, options, type = \"update\", originalPath = null) {\n        options = Object.assign(Object.assign({}, defaultUpdateOptions), options);\n        const listeners = {};\n        for (let [listenerPath, listenersCollection] of this.listeners) {\n            listeners[listenerPath] = { single: [], bulk: [], bulkData: [] };\n            if (listenersCollection.match(updatePath)) {\n                const params = listenersCollection.paramsInfo\n                    ? this.getParams(listenersCollection.paramsInfo, updatePath)\n                    : undefined;\n                const value = listenersCollection.isRecursive || listenersCollection.isWildcard\n                    ? () => this.get(this.cutPath(updatePath, listenerPath))\n                    : () => newValue;\n                const bulkValue = [{ value, path: updatePath, params }];\n                for (const listener of listenersCollection.listeners.values()) {\n                    if (listener.options.bulk) {\n                        listeners[listenerPath].bulk.push({\n                            listener,\n                            listenersCollection,\n                            eventInfo: {\n                                type,\n                                listener,\n                                path: {\n                                    listener: listenerPath,\n                                    update: originalPath ? originalPath : updatePath,\n                                    resolved: undefined\n                                },\n                                params,\n                                options\n                            },\n                            value: bulkValue\n                        });\n                    }\n                    else {\n                        listeners[listenerPath].single.push({\n                            listener,\n                            listenersCollection,\n                            eventInfo: {\n                                type,\n                                listener,\n                                path: {\n                                    listener: listenerPath,\n                                    update: originalPath ? originalPath : updatePath,\n                                    resolved: this.cleanNotRecursivePath(updatePath)\n                                },\n                                params,\n                                options\n                            },\n                            value\n                        });\n                    }\n                }\n            }\n        }\n        return listeners;\n    }\n    notifySubscribedListeners(updatePath, newValue, options, type = \"update\", originalPath = null) {\n        return this.notifyListeners(this.getSubscribedListeners(updatePath, newValue, options, type, originalPath));\n    }\n    getNestedListeners(updatePath, newValue, options, type = \"update\", originalPath = null) {\n        const listeners = {};\n        for (let [listenerPath, listenersCollection] of this.listeners) {\n            listeners[listenerPath] = { single: [], bulk: [] };\n            const currentCuttedPath = this.cutPath(listenerPath, updatePath);\n            if (this.match(currentCuttedPath, updatePath)) {\n                const restPath = this.trimPath(listenerPath.substr(currentCuttedPath.length));\n                const values = new WildcardObject(newValue, this.options.delimeter, this.options.wildcard).get(restPath);\n                const params = listenersCollection.paramsInfo\n                    ? this.getParams(listenersCollection.paramsInfo, updatePath)\n                    : undefined;\n                const bulk = [];\n                const bulkListeners = {};\n                for (const currentRestPath in values) {\n                    const value = () => values[currentRestPath];\n                    const fullPath = [updatePath, currentRestPath].join(this.options.delimeter);\n                    for (const [listenerId, listener] of listenersCollection.listeners) {\n                        const eventInfo = {\n                            type,\n                            listener,\n                            listenersCollection,\n                            path: {\n                                listener: listenerPath,\n                                update: originalPath ? originalPath : updatePath,\n                                resolved: this.cleanNotRecursivePath(fullPath)\n                            },\n                            params,\n                            options\n                        };\n                        if (listener.options.bulk) {\n                            bulk.push({ value, path: fullPath, params });\n                            bulkListeners[listenerId] = listener;\n                        }\n                        else {\n                            listeners[listenerPath].single.push({\n                                listener,\n                                listenersCollection,\n                                eventInfo,\n                                value\n                            });\n                        }\n                    }\n                }\n                for (const listenerId in bulkListeners) {\n                    const listener = bulkListeners[listenerId];\n                    const eventInfo = {\n                        type,\n                        listener,\n                        listenersCollection,\n                        path: {\n                            listener: listenerPath,\n                            update: updatePath,\n                            resolved: undefined\n                        },\n                        options,\n                        params\n                    };\n                    listeners[listenerPath].bulk.push({\n                        listener,\n                        listenersCollection,\n                        eventInfo,\n                        value: bulk\n                    });\n                }\n            }\n        }\n        return listeners;\n    }\n    notifyNestedListeners(updatePath, newValue, options, type = \"update\", alreadyNotified, originalPath = null) {\n        return this.notifyListeners(this.getNestedListeners(updatePath, newValue, options, type, originalPath), alreadyNotified, false);\n    }\n    getNotifyOnlyListeners(updatePath, newValue, options, type = \"update\", originalPath = null) {\n        const listeners = {};\n        if (typeof options.only !== \"object\" ||\n            !Array.isArray(options.only) ||\n            typeof options.only[0] === \"undefined\" ||\n            !this.canBeNested(newValue)) {\n            return listeners;\n        }\n        for (const notifyPath of options.only) {\n            const wildcardScan = new WildcardObject(newValue, this.options.delimeter, this.options.wildcard).get(notifyPath);\n            listeners[notifyPath] = { bulk: [], single: [] };\n            for (const wildcardPath in wildcardScan) {\n                const fullPath = updatePath + this.options.delimeter + wildcardPath;\n                for (const [listenerPath, listenersCollection] of this.listeners) {\n                    const params = listenersCollection.paramsInfo\n                        ? this.getParams(listenersCollection.paramsInfo, fullPath)\n                        : undefined;\n                    if (this.match(listenerPath, fullPath)) {\n                        const value = () => wildcardScan[wildcardPath];\n                        const bulkValue = [{ value, path: fullPath, params }];\n                        for (const listener of listenersCollection.listeners.values()) {\n                            const eventInfo = {\n                                type,\n                                listener,\n                                listenersCollection,\n                                path: {\n                                    listener: listenerPath,\n                                    update: originalPath ? originalPath : updatePath,\n                                    resolved: this.cleanNotRecursivePath(fullPath)\n                                },\n                                params,\n                                options\n                            };\n                            if (listener.options.bulk) {\n                                if (!listeners[notifyPath].bulk.some(bulkListener => bulkListener.listener === listener)) {\n                                    listeners[notifyPath].bulk.push({\n                                        listener,\n                                        listenersCollection,\n                                        eventInfo,\n                                        value: bulkValue\n                                    });\n                                }\n                            }\n                            else {\n                                listeners[notifyPath].single.push({\n                                    listener,\n                                    listenersCollection,\n                                    eventInfo,\n                                    value\n                                });\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        return listeners;\n    }\n    notifyOnly(updatePath, newValue, options, type = \"update\", originalPath = \"\") {\n        return (typeof this.notifyListeners(this.getNotifyOnlyListeners(updatePath, newValue, options, type, originalPath))[0] !==\n            \"undefined\");\n    }\n    canBeNested(newValue) {\n        return typeof newValue === \"object\" && newValue !== null;\n    }\n    getUpdateValues(oldValue, split, fn) {\n        if (typeof oldValue === \"object\" && oldValue !== null) {\n            Array.isArray(oldValue) ? (oldValue = oldValue.slice()) : (oldValue = Object.assign({}, oldValue));\n        }\n        let newValue = fn;\n        if (typeof fn === \"function\") {\n            newValue = fn(this.pathGet(split, this.data));\n        }\n        return { newValue, oldValue };\n    }\n    wildcardUpdate(updatePath, fn, options = defaultUpdateOptions) {\n        options = Object.assign(Object.assign({}, defaultUpdateOptions), options);\n        const scanned = this.scan.get(updatePath);\n        const bulk = {};\n        for (const path in scanned) {\n            const split = this.split(path);\n            const { oldValue, newValue } = this.getUpdateValues(scanned[path], split, fn);\n            if (!this.same(newValue, oldValue))\n                bulk[path] = newValue;\n        }\n        const groupedListenersPack = [];\n        const waitingPaths = [];\n        for (const path in bulk) {\n            const newValue = bulk[path];\n            if (options.only.length) {\n                groupedListenersPack.push(this.getNotifyOnlyListeners(path, newValue, options, \"update\", updatePath));\n            }\n            else {\n                groupedListenersPack.push(this.getSubscribedListeners(path, newValue, options, \"update\", updatePath));\n                this.canBeNested(newValue) &&\n                    groupedListenersPack.push(this.getNestedListeners(path, newValue, options, \"update\", updatePath));\n            }\n            options.debug && this.options.log(\"Wildcard update\", { path, newValue });\n            this.pathSet(this.split(path), newValue, this.data);\n            waitingPaths.push(path);\n        }\n        let alreadyNotified = [];\n        for (const groupedListeners of groupedListenersPack) {\n            alreadyNotified = [...alreadyNotified, ...this.notifyListeners(groupedListeners, alreadyNotified)];\n        }\n        for (const path of waitingPaths) {\n            this.executeWaitingListeners(path);\n        }\n    }\n    update(updatePath, fn, options = defaultUpdateOptions) {\n        if (this.isWildcard(updatePath)) {\n            return this.wildcardUpdate(updatePath, fn, options);\n        }\n        const split = this.split(updatePath);\n        const { oldValue, newValue } = this.getUpdateValues(this.pathGet(split, this.data), split, fn);\n        if (options.debug) {\n            this.options.log(`Updating ${updatePath} ${options.source ? `from ${options.source}` : \"\"}`, {\n                oldValue,\n                newValue\n            });\n        }\n        if (this.same(newValue, oldValue)) {\n            return newValue;\n        }\n        if (!options.updateAfter) {\n            this.pathSet(split, newValue, this.data);\n        }\n        options = Object.assign(Object.assign({}, defaultUpdateOptions), options);\n        if (options.only === null) {\n            return newValue;\n        }\n        if (options.only.length) {\n            this.notifyOnly(updatePath, newValue, options);\n            this.executeWaitingListeners(updatePath);\n            return newValue;\n        }\n        const alreadyNotified = this.notifySubscribedListeners(updatePath, newValue, options);\n        if (this.canBeNested(newValue)) {\n            this.notifyNestedListeners(updatePath, newValue, options, \"update\", alreadyNotified);\n        }\n        this.executeWaitingListeners(updatePath);\n        if (options.updateAfter) {\n            this.pathSet(split, newValue, this.data);\n        }\n        return newValue;\n    }\n    get(userPath = undefined) {\n        if (typeof userPath === \"undefined\" || userPath === \"\") {\n            return this.data;\n        }\n        return this.pathGet(this.split(userPath), this.data);\n    }\n    debugSubscribe(listener, listenersCollection, listenerPath) {\n        if (listener.options.debug) {\n            this.options.log(\"listener subscribed\", {\n                listenerPath,\n                listener,\n                listenersCollection\n            });\n        }\n    }\n    debugListener(time, groupedListener) {\n        if (groupedListener.eventInfo.options.debug || groupedListener.listener.options.debug) {\n            this.options.log(\"Listener fired\", {\n                time: Date.now() - time,\n                info: groupedListener\n            });\n        }\n    }\n    debugTime(groupedListener) {\n        return groupedListener.listener.options.debug || groupedListener.eventInfo.options.debug ? Date.now() : 0;\n    }\n}\n\n/**\n * Schedule - a throttle function that uses requestAnimationFrame to limit the rate at which a function is called.\n *\n * @param {function} fn\n * @returns {function}\n */\n/**\n * Is object - helper function to determine if specified variable is an object\n *\n * @param {any} item\n * @returns {boolean}\n */\nfunction isObject$1(item) {\n    return item && typeof item === 'object' && !Array.isArray(item);\n}\n/**\n * Merge deep - helper function which will merge objects recursively - creating brand new one - like clone\n *\n * @param {object} target\n * @params {object} sources\n * @returns {object}\n */\nfunction mergeDeep$1(target, ...sources) {\n    const source = sources.shift();\n    if (isObject$1(target) && isObject$1(source)) {\n        for (const key in source) {\n            if (isObject$1(source[key])) {\n                if (typeof target[key] === 'undefined') {\n                    target[key] = {};\n                }\n                target[key] = mergeDeep$1(target[key], source[key]);\n            }\n            else if (Array.isArray(source[key])) {\n                target[key] = [];\n                for (let item of source[key]) {\n                    if (isObject$1(item)) {\n                        target[key].push(mergeDeep$1({}, item));\n                        continue;\n                    }\n                    target[key].push(item);\n                }\n            }\n            else {\n                target[key] = source[key];\n            }\n        }\n    }\n    if (!sources.length) {\n        return target;\n    }\n    return mergeDeep$1(target, ...sources);\n}\n\n/**\n * Api functions\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0\n */\nconst lib = 'gantt-schedule-timeline-calendar';\nfunction mergeActions(userConfig, defaultConfig) {\n    const defaultConfigActions = mergeDeep$1({}, defaultConfig.actions);\n    const userActions = mergeDeep$1({}, userConfig.actions);\n    let allActionNames = [...Object.keys(defaultConfigActions), ...Object.keys(userActions)];\n    allActionNames = allActionNames.filter(i => allActionNames.includes(i));\n    const actions = {};\n    for (const actionName of allActionNames) {\n        actions[actionName] = [];\n        if (typeof defaultConfigActions[actionName] !== 'undefined' && Array.isArray(defaultConfigActions[actionName])) {\n            actions[actionName] = [...defaultConfigActions[actionName]];\n        }\n        if (typeof userActions[actionName] !== 'undefined' && Array.isArray(userActions[actionName])) {\n            actions[actionName] = [...actions[actionName], ...userActions[actionName]];\n        }\n    }\n    delete userConfig.actions;\n    delete defaultConfig.actions;\n    return actions;\n}\nfunction stateFromConfig(userConfig) {\n    const defaultConfig$1 = defaultConfig();\n    const actions = mergeActions(userConfig, defaultConfig$1);\n    const state = { config: mergeDeep$1({}, defaultConfig$1, userConfig) };\n    state.config.actions = actions;\n    // @ts-ignore\n    return (this.state = new DeepState(state, { delimeter: '.' }));\n}\nconst publicApi = {\n    name: lib,\n    stateFromConfig,\n    mergeDeep: mergeDeep$1,\n    date(time) {\n        return time ? dayjs_min(time) : dayjs_min();\n    },\n    setPeriod(period) {\n        this.state.update('config.chart.time.period', period);\n        return this.state.get('config.chart.time.zoom');\n    },\n    dayjs: dayjs_min\n};\nfunction getInternalApi(state) {\n    let $state = state.get();\n    let unsubscribes = [];\n    const iconsCache = {};\n    const api = {\n        name: lib,\n        debug: false,\n        setVido(Vido) {\n        },\n        log(...args) {\n            if (this.debug) {\n                console.log.call(console, ...args);\n            }\n        },\n        mergeDeep: mergeDeep$1,\n        getClass(name) {\n            let simple = `${lib}__${name}`;\n            if (name === this.name) {\n                simple = this.name;\n            }\n            return simple;\n        },\n        allActions: [],\n        getActions(name) {\n            if (!this.allActions.includes(name))\n                this.allActions.push(name);\n            let actions = state.get('config.actions.' + name);\n            if (typeof actions === 'undefined') {\n                actions = [];\n            }\n            return actions.slice();\n        },\n        isItemInViewport(item, left, right) {\n            return ((item.time.start >= left && item.time.start < right) ||\n                (item.time.end >= left && item.time.end < right) ||\n                (item.time.start <= left && item.time.end >= right));\n        },\n        prepareItems(items) {\n            for (const item of items) {\n                item.time.start = +item.time.start;\n                item.time.end = +item.time.end;\n                item.id = String(item.id);\n            }\n            return items;\n        },\n        fillEmptyRowValues(rows) {\n            let top = 0;\n            for (const rowId in rows) {\n                const row = rows[rowId];\n                row._internal = {\n                    parents: [],\n                    children: [],\n                    items: []\n                };\n                if (typeof row.height !== 'number') {\n                    row.height = $state.config.list.rowHeight;\n                }\n                if (typeof row.expanded !== 'boolean') {\n                    row.expanded = false;\n                }\n                row.top = top;\n                top += row.height;\n            }\n            return rows;\n        },\n        generateParents(rows, parentName = 'parentId') {\n            const parents = {};\n            for (const row of rows) {\n                const parentId = row[parentName] !== undefined && row[parentName] !== null ? row[parentName] : '';\n                if (parents[parentId] === undefined) {\n                    parents[parentId] = {};\n                }\n                parents[parentId][row.id] = row;\n            }\n            return parents;\n        },\n        fastTree(rowParents, node, parents = []) {\n            const children = rowParents[node.id];\n            node._internal.parents = parents;\n            if (typeof children === 'undefined') {\n                node._internal.children = [];\n                return node;\n            }\n            if (node.id !== '') {\n                parents = [...parents, node.id];\n            }\n            node._internal.children = Object.values(children);\n            for (const childrenId in children) {\n                const child = children[childrenId];\n                this.fastTree(rowParents, child, parents);\n            }\n            return node;\n        },\n        makeTreeMap(rows, items) {\n            const itemParents = this.generateParents(items, 'rowId');\n            for (const row of rows) {\n                row._internal.items = itemParents[row.id] !== undefined ? Object.values(itemParents[row.id]) : [];\n            }\n            const rowParents = this.generateParents(rows);\n            const tree = { id: '', _internal: { children: [], parents: [], items: [] } };\n            return this.fastTree(rowParents, tree);\n        },\n        getFlatTreeMapById(treeMap, flatTreeMapById = {}) {\n            for (const child of treeMap._internal.children) {\n                flatTreeMapById[child.id] = child;\n                this.getFlatTreeMapById(child, flatTreeMapById);\n            }\n            return flatTreeMapById;\n        },\n        flattenTreeMap(treeMap, rows = []) {\n            for (const child of treeMap._internal.children) {\n                rows.push(child.id);\n                this.flattenTreeMap(child, rows);\n            }\n            return rows;\n        },\n        getRowsFromMap(flatTreeMap, rows) {\n            return flatTreeMap.map(node => rows[node.id]);\n        },\n        getRowsFromIds(ids, rows) {\n            const result = [];\n            for (const id of ids) {\n                result.push(rows[id]);\n            }\n            return result;\n        },\n        getRowsWithParentsExpanded(flatTreeMap, flatTreeMapById, rows) {\n            if (!flatTreeMap ||\n                !flatTreeMapById ||\n                !rows ||\n                flatTreeMap.length === 0 ||\n                flatTreeMapById.length === 0 ||\n                Object.keys(rows).length === 0) {\n                return [];\n            }\n            const rowsWithParentsExpanded = [];\n            next: for (const rowId of flatTreeMap) {\n                for (const parentId of flatTreeMapById[rowId]._internal.parents) {\n                    const parent = rows[parentId];\n                    if (!parent || !parent.expanded) {\n                        continue next;\n                    }\n                }\n                rowsWithParentsExpanded.push(rowId);\n            }\n            return rowsWithParentsExpanded;\n        },\n        getRowsHeight(rows) {\n            let height = 0;\n            for (const row of rows) {\n                if (row)\n                    height += row.height;\n            }\n            return height;\n        },\n        /**\n         * Get visible rows - get rows that are inside current viewport (height)\n         *\n         * @param {array} rowsWithParentsExpanded rows that have parent expanded- they are visible\n         */\n        getVisibleRowsAndCompensation(rowsWithParentsExpanded) {\n            const visibleRows = [];\n            let currentRowsOffset = 0;\n            let rowOffset = 0;\n            const scrollTop = state.get('config.scroll.top');\n            const height = state.get('_internal.height');\n            let chartViewBottom = 0;\n            let compensation = 0;\n            for (const row of rowsWithParentsExpanded) {\n                if (row === undefined)\n                    continue;\n                chartViewBottom = scrollTop + height;\n                if (currentRowsOffset + row.height >= scrollTop && currentRowsOffset <= chartViewBottom) {\n                    row.top = rowOffset;\n                    compensation = row.top + scrollTop - currentRowsOffset;\n                    rowOffset += row.height;\n                    visibleRows.push(row);\n                }\n                currentRowsOffset += row.height;\n                if (currentRowsOffset >= chartViewBottom) {\n                    break;\n                }\n            }\n            return { visibleRows, compensation };\n        },\n        /**\n         * Normalize mouse wheel event to get proper scroll metrics\n         *\n         * @param {Event} event mouse wheel event\n         */\n        normalizeMouseWheelEvent(event) {\n            // @ts-ignore\n            let x = event.deltaX || 0;\n            // @ts-ignore\n            let y = event.deltaY || 0;\n            // @ts-ignore\n            let z = event.deltaZ || 0;\n            // @ts-ignore\n            const mode = event.deltaMode;\n            const lineHeight = state.get('config.list.rowHeight');\n            let scale = 1;\n            switch (mode) {\n                case 1:\n                    if (lineHeight) {\n                        scale = lineHeight;\n                    }\n                    break;\n                case 2:\n                    // @ts-ignore\n                    scale = window.height;\n                    break;\n            }\n            x *= scale;\n            y *= scale;\n            z *= scale;\n            return { x, y, z, event };\n        },\n        normalizePointerEvent(event) {\n            const result = { x: 0, y: 0, pageX: 0, pageY: 0, clientX: 0, clientY: 0, screenX: 0, screenY: 0 };\n            switch (event.type) {\n                case 'wheel':\n                    const wheel = this.normalizeMouseWheelEvent(event);\n                    result.x = wheel.x;\n                    result.y = wheel.y;\n                    result.pageX = result.x;\n                    result.pageY = result.y;\n                    result.screenX = result.x;\n                    result.screenY = result.y;\n                    result.clientX = result.x;\n                    result.clientY = result.y;\n                    break;\n                case 'touchstart':\n                case 'touchmove':\n                case 'touchend':\n                case 'touchcancel':\n                    result.x = event.changedTouches[0].screenX;\n                    result.y = event.changedTouches[0].screenY;\n                    result.pageX = event.changedTouches[0].pageX;\n                    result.pageY = event.changedTouches[0].pageY;\n                    result.screenX = event.changedTouches[0].screenX;\n                    result.screenY = event.changedTouches[0].screenY;\n                    result.clientX = event.changedTouches[0].clientX;\n                    result.clientY = event.changedTouches[0].clientY;\n                    break;\n                default:\n                    result.x = event.x;\n                    result.y = event.y;\n                    result.pageX = event.pageX;\n                    result.pageY = event.pageY;\n                    result.screenX = event.screenX;\n                    result.screenY = event.screenY;\n                    result.clientX = event.clientX;\n                    result.clientY = event.clientY;\n                    break;\n            }\n            return result;\n        },\n        limitScrollLeft(totalViewDurationPx, chartWidth, scrollLeft) {\n            const width = totalViewDurationPx - chartWidth;\n            if (scrollLeft < 0) {\n                scrollLeft = 0;\n            }\n            else if (scrollLeft > width) {\n                scrollLeft = width;\n            }\n            return Math.round(scrollLeft);\n        },\n        limitScrollTop(rowsHeight, internalHeight, scrollTop) {\n            const height = rowsHeight - internalHeight;\n            if (scrollTop < 0) {\n                scrollTop = 0;\n            }\n            else if (scrollTop > height) {\n                scrollTop = height;\n            }\n            return Math.round(scrollTop);\n        },\n        time: new TimeApi(state),\n        /**\n         * Get scrollbar height - compute it from element\n         *\n         * @returns {number}\n         */\n        getScrollBarHeight(add = 0) {\n            const outer = document.createElement('div');\n            outer.style.visibility = 'hidden';\n            outer.style.height = '100px';\n            document.body.appendChild(outer);\n            const noScroll = outer.offsetHeight;\n            outer.style.msOverflowStyle = 'scrollbar';\n            outer.style.overflow = 'scroll';\n            const inner = document.createElement('div');\n            inner.style.height = '100%';\n            outer.appendChild(inner);\n            const withScroll = inner.offsetHeight;\n            outer.parentNode.removeChild(outer);\n            return noScroll - withScroll + add;\n        },\n        scrollToTime(toTime) {\n            const time = state.get('_internal.chart.time');\n            state.update('config.scroll', scroll => {\n                const chartWidth = state.get('_internal.chart.dimensions.width');\n                const halfTime = (chartWidth / 2) * time.timePerPixel;\n                const leftGlobal = toTime - halfTime - time.finalFrom;\n                scroll.left = this.limitScrollLeft(time.totalViewDurationPx, chartWidth, leftGlobal / time.timePerPixel);\n                return scroll;\n            });\n        },\n        /**\n         * Get grid blocks that are under specified rectangle\n         *\n         * @param {number} x beginging at chart-timeline bounding rect\n         * @param {number} y beginging at chart-timeline bounding rect\n         * @param {number} width\n         * @param {number} height\n         * @returns {array} array of {element, data}\n         */\n        getGridBlocksUnderRect(x, y, width, height) {\n            const main = state.get('_internal.elements.main');\n            if (!main)\n                return [];\n        },\n        getCompensationX() {\n            return state.get('config.scroll.compensation.x') || 0;\n        },\n        getCompensationY() {\n            return state.get('config.scroll.compensation.y') || 0;\n        },\n        getSVGIconSrc(svg) {\n            if (typeof iconsCache[svg] === 'string')\n                return iconsCache[svg];\n            iconsCache[svg] = 'data:image/svg+xml;base64,' + btoa(svg);\n            return iconsCache[svg];\n        },\n        /**\n         * Destroy things to release memory\n         */\n        destroy() {\n            $state = undefined;\n            for (const unsubscribe of unsubscribes) {\n                unsubscribe();\n            }\n            unsubscribes = [];\n            if (api.debug) {\n                // @ts-ignore\n                delete window.state;\n            }\n        }\n    };\n    if (api.debug) {\n        // @ts-ignore\n        window.state = state;\n        // @ts-ignore\n        window.api = api;\n    }\n    return api;\n}\n\n/**\n * Gantt-Schedule-Timeline-Calendar\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0\n */\nfunction GSTC(options) {\n    const state = options.state;\n    const api = getInternalApi(state);\n    const _internal = {\n        components: {\n            Main\n        },\n        scrollBarHeight: api.getScrollBarHeight(2),\n        height: 0,\n        treeMap: {},\n        flatTreeMap: [],\n        flatTreeMapById: {},\n        list: {\n            expandedHeight: 0,\n            visibleRows: [],\n            rows: {},\n            width: 0\n        },\n        dimensions: {\n            width: 0,\n            height: 0\n        },\n        chart: {\n            dimensions: {\n                width: 0,\n                innerWidth: 0\n            },\n            visibleItems: [],\n            time: {\n                levels: [],\n                timePerPixel: 0,\n                firstTaskTime: 0,\n                lastTaskTime: 0,\n                totalViewDurationMs: 0,\n                totalViewDurationPx: 0,\n                leftGlobal: 0,\n                rightGlobal: 0,\n                leftPx: 0,\n                rightPx: 0,\n                leftInner: 0,\n                rightInner: 0,\n                maxWidth: {}\n            }\n        },\n        elements: {},\n        cache: {\n            calendar: {}\n        },\n        loaded: {}\n    };\n    if (typeof options.debug === 'boolean' && options.debug) {\n        // @ts-ignore\n        window.state = state;\n    }\n    state.update('', oldValue => {\n        return {\n            config: oldValue.config,\n            _internal\n        };\n    });\n    // @ts-ignore\n    const vido = Vido(state, api);\n    api.setVido(vido);\n    const app = vido.createApp({ component: Main, props: {}, element: options.element });\n    const internalApi = app.vidoInstance.api;\n    return { state, app, api: internalApi };\n}\nGSTC.api = publicApi;\n\nexport default GSTC;\n//# sourceMappingURL=index.esm.js.map\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"id\":\"calendar\",\"fluid\":\"\",\"tag\":\"section\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"7\"}},[_c('v-row',[_c('v-col',{staticStyle:{\"padding-top\":\"0 !important\",\"padding-bottom\":\"0 !important\"},attrs:{\"cols\":\"6\",\"sm\":\"3\",\"md\":\"3\"}},[_c('v-btn',{staticClass:\"ma-2\",attrs:{\"outlined\":\"\",\"fab\":\"\",\"x-small\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.prevDay}},[_c('v-icon',[_vm._v(\"mdi-arrow-left-bold\")])],1),_c('v-btn',{staticClass:\"ma-2\",attrs:{\"outlined\":\"\",\"fab\":\"\",\"x-small\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.nextDay}},[_c('v-icon',[_vm._v(\"mdi-arrow-right-bold\")])],1)],1),_c('v-col',{staticStyle:{\"padding-top\":\"0 !important\",\"padding-bottom\":\"0 !important\"},attrs:{\"cols\":\"6\",\"sm\":\"3\",\"md\":\"3\"}},[_c('v-menu',{ref:\"dialog\",attrs:{\"close-on-content-click\":false,\"return-value\":_vm.today,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"290px\",\"max-width\":\"290px\"},on:{\"update:returnValue\":function($event){_vm.today=$event},\"update:return-value\":function($event){_vm.today=$event}},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"Текущая дата:\",\"readonly\":\"\",\"prepend-icon\":\"mdi-calendar-blank-multiple\"},model:{value:(_vm.today),callback:function ($$v) {_vm.today=$$v},expression:\"today\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-date-picker',{attrs:{\"no-title\":\"\",\"scrollable\":\"\"},model:{value:(_vm.today),callback:function ($$v) {_vm.today=$$v},expression:\"today\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.changePeriod({period: _vm.period, today: _vm.today}) && _vm.$refs.dialog.save(_vm.today)}}},[_vm._v(\" OK \")])],1)],1)],1),_c('v-col',{staticStyle:{\"padding-top\":\"0 !important\",\"padding-bottom\":\"0 !important\"},attrs:{\"cols\":\"6\",\"sm\":\"3\",\"md\":\"3\"}},[_c('v-select',{attrs:{\"items\":_vm.periods,\"label\":\"Период\"},on:{\"change\":function($event){return _vm.changePeriod({period: _vm.period, today: _vm.today})}},model:{value:(_vm.period),callback:function ($$v) {_vm.period=$$v},expression:\"period\"}})],1)],1)],1),_c('v-col',{staticStyle:{\"padding-top\":\"0 !important\",\"padding-bottom\":\"0 !important\"},attrs:{\"cols\":\"5\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticStyle:{\"font-size\":\"16px\"}},[_vm._v(\"Состояние на сегодня\")])]),_c('v-card-text',{attrs:{\"small\":\"\"}},[_c('v-row',[_c('v-col',{staticStyle:{\"padding-top\":\"0 !important\",\"padding-bottom\":\"0 !important\"}},[_c('span',{staticStyle:{\"font-size\":\"13px\"}},[_vm._v(\"Количество заездов за сегодня: \"+_vm._s(_vm.inToday))]),_vm._v(\" \"),_c('br'),_c('span',{staticStyle:{\"font-size\":\"13px\"}},[_vm._v(\"Количество выездов: \"+_vm._s(_vm.moveOuts))]),_c('br'),_c('span',{staticStyle:{\"font-size\":\"13px\"}},[_vm._v(\"Количество проживающих: \"+_vm._s(_vm.count))]),_c('br'),_c('span',{staticStyle:{\"font-size\":\"13px\"}},[_vm._v(\"Свободно номеров: \"+_vm._s(_vm.freeRooms))]),_c('br')]),_c('v-col',{staticStyle:{\"padding-top\":\"0 !important\",\"padding-bottom\":\"0 !important\"}},[_c('span',{staticStyle:{\"font-size\":\"13px\"}},[_vm._v(\"Занято номеров: \"+_vm._s(_vm.closeRooms))]),_c('br'),_c('span',{staticStyle:{\"font-size\":\"13px\"}},[_vm._v(\"Оплачено: \"+_vm._s(_vm.paids))]),_c('br'),_c('span',{staticStyle:{\"font-size\":\"13px\"}},[_vm._v(\"Не оплачено: \"+_vm._s(_vm.notPaid))]),_c('br')])],1)],1)],1)],1)],1),_c('g-s-t-c',{ref:\"calendar\",attrs:{\"config\":_vm.config}}),_c('v-dialog',{attrs:{\"max-width\":\"800px\",\"transition\":\"dialog-bottom-transition\"},model:{value:(_vm.$store.state.bookingModal),callback:function ($$v) {_vm.$set(_vm.$store.state, \"bookingModal\", $$v)},expression:\"$store.state.bookingModal\"}},[_c('v-card',[_c('question-reserve')],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"1200px\",\"transition\":\"dialog-bottom-transition\"},model:{value:(_vm.$store.state.reserve),callback:function ($$v) {_vm.$set(_vm.$store.state, \"reserve\", $$v)},expression:\"$store.state.reserve\"}},[_c('v-card',[_c('user-profile')],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"1200px\",\"transition\":\"dialog-bottom-transition\"},model:{value:(_vm.$store.state.toBook),callback:function ($$v) {_vm.$set(_vm.$store.state, \"toBook\", $$v)},expression:\"$store.state.toBook\"}},[_c('v-card',[_c('v-card-text',[_c('to-book')],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"350px\",\"transition\":\"dialog-bottom-transition\"},model:{value:(_vm.$store.state.popover),callback:function ($$v) {_vm.$set(_vm.$store.state, \"popover\", $$v)},expression:\"$store.state.popover\"}},[_c('v-card',[_c('v-list',[_c('v-list-item',[_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm.$store.state.label))]),_c('v-list-item-subtitle',[_vm._v(_vm._s(_vm.$store.state.rowLabel))])],1)],1)],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),(_vm.$store.state.status==='reserve')?_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.$store.commit('OPEN_CLOSE_RESERVE', {status: 'pre-booking'})}}},[_vm._v(\"Бронировать\")]):_vm._e(),(_vm.$store.state.status==='booking' || _vm.$store.state.status==='half-booking')?_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.openCloseBook}},[_vm._v(\"Редактировать\")]):_vm._e(),(_vm.$store.state.status==='populate')?_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.$store.commit('OPEN_CLOSE_RESERVE', {status: 'populate'})}}},[_vm._v(\"Редактировать\")]):_vm._e(),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){_vm.$store.state.popover = false}}},[_vm._v(\"Отменить \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"gstc\" ref=\"gstc\"></div>\n</template>\n\n<script>\nimport GSTC from \"gantt-schedule-timeline-calendar\";\nimport \"gantt-schedule-timeline-calendar/dist/style.css\";\n\nlet state, gstc;\n\nexport default {\n  name: \"GSTC\",\n  props: [\"config\", 'test'],\n\n  mounted() {\n    state = GSTC.api.stateFromConfig(this.config);\n    this.$emit(\"state\", state);\n    gstc = GSTC({\n      element: this.$refs.gstc,\n      state\n    });\n    this.$watch(\n      \"config\",\n      config => {\n        state.update(\"config\", current => {\n          if (current !== config) {\n            return GSTC.api.mergeDeep({}, current, config);\n          } else {\n            return current;\n          }\n        });\n      },\n      { deep: true }\n    );\n  },\n  destroyed() {\n    gstc.app.destroy();\n  }\n};\n</script>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"gstc\",staticClass:\"gstc\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../cache-loader/dist/cjs.js??ref--12-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--0-0!../../../vue-loader/lib/index.js??vue-loader-options!./GSTC.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../cache-loader/dist/cjs.js??ref--12-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--0-0!../../../vue-loader/lib/index.js??vue-loader-options!./GSTC.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GSTC.vue?vue&type=template&id=0d094664&\"\nimport script from \"./GSTC.vue?vue&type=script&lang=js&\"\nexport * from \"./GSTC.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"Имя:\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"Телефон:\"},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"12\"}},[_c('v-text-field',{attrs:{\"label\":\"Комментарии\"},model:{value:(_vm.comments),callback:function ($$v) {_vm.comments=$$v},expression:\"comments\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"Метка:\"},model:{value:(_vm.label),callback:function ($$v) {_vm.label=$$v},expression:\"label\"}})],1)],1),_c('v-row',[_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.openCloseToBook}},[_vm._v(\" Подтвердить \")]),_c('v-btn',{attrs:{\"color\":\"danger\"},on:{\"click\":_vm.openCloseToBook}},[_vm._v(\" Отмена \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <v-row>\r\n      <v-col\r\n        cols=\"12\"\r\n        md=\"6\"\r\n      >\r\n        <v-text-field\r\n          v-model=\"name\"\r\n          label=\"Имя:\"\r\n        ></v-text-field>\r\n      </v-col>\r\n      <v-col\r\n        cols=\"12\"\r\n        md=\"6\"\r\n      >\r\n        <v-text-field\r\n          v-model=\"phone\"\r\n          label=\"Телефон:\"\r\n        ></v-text-field>\r\n      </v-col>\r\n      <v-col\r\n        cols=\"12\"\r\n        md=\"12\"\r\n      >\r\n        <v-text-field\r\n          v-model=\"comments\"\r\n          label=\"Комментарии\"\r\n        ></v-text-field>\r\n      </v-col>\r\n      <v-col\r\n        cols=\"12\"\r\n        md=\"6\"\r\n      >\r\n        <v-text-field\r\n          v-model=\"label\"\r\n          label=\"Метка:\"\r\n        ></v-text-field>\r\n      </v-col>\r\n    </v-row>\r\n    <v-row>\r\n      <v-btn\r\n        color=\"primary\"\r\n        @click=\"openCloseToBook\"\r\n      >\r\n        Подтвердить\r\n      </v-btn>\r\n      <v-btn\r\n        color=\"danger\"\r\n        @click=\"openCloseToBook\"\r\n      >\r\n        Отмена\r\n      </v-btn>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n  import { mapMutations } from 'vuex'\r\n  export default {\r\n    name: 'ToBook',\r\n    data () {\r\n      return {\r\n        name: '',\r\n        comments: '',\r\n        label: '',\r\n        phone: '',\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapMutations({\r\n        openCloseToBook: 'OPEN_CLOSE_TO_BOOK',\r\n      }),\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToBook.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToBook.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ToBook.vue?vue&type=template&id=c6c1df84&scoped=true&\"\nimport script from \"./ToBook.vue?vue&type=script&lang=js&\"\nexport * from \"./ToBook.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c6c1df84\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCol,VContainer,VRow,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-row',[_c('v-col',[_vm._v(\" Новое бронирование \")])],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-menu',{ref:\"indatemenu\",attrs:{\"close-on-content-click\":false,\"return-value\":_vm.$store.state.start,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"290px\"},on:{\"update:returnValue\":function($event){return _vm.$set(_vm.$store.state, \"start\", $event)},\"update:return-value\":function($event){return _vm.$set(_vm.$store.state, \"start\", $event)}},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"Заезд*:\",\"readonly\":\"\",\"prepend-icon\":\"mdi-calendar-blank-multiple\"},model:{value:(_vm.$store.state.start),callback:function ($$v) {_vm.$set(_vm.$store.state, \"start\", $$v)},expression:\"$store.state.start\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.menu),callback:function ($$v) {_vm.menu=$$v},expression:\"menu\"}},[_c('v-date-picker',{attrs:{\"no-title\":\"\",\"scrollable\":\"\"},model:{value:(_vm.$store.state.start),callback:function ($$v) {_vm.$set(_vm.$store.state, \"start\", $$v)},expression:\"$store.state.start\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.menu = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.indatemenu.save(_vm.$store.state.start)}}},[_vm._v(\" OK \")])],1)],1)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-menu',{ref:\"outDateMenu\",attrs:{\"close-on-content-click\":false,\"return-value\":_vm.$store.state.end,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"290px\"},on:{\"update:returnValue\":function($event){return _vm.$set(_vm.$store.state, \"end\", $event)},\"update:return-value\":function($event){return _vm.$set(_vm.$store.state, \"end\", $event)}},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"Выезд*:\",\"readonly\":\"\",\"prepend-icon\":\"mdi-calendar-blank-multiple\"},model:{value:(_vm.$store.state.end),callback:function ($$v) {_vm.$set(_vm.$store.state, \"end\", $$v)},expression:\"$store.state.end\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.menu3),callback:function ($$v) {_vm.menu3=$$v},expression:\"menu3\"}},[_c('v-date-picker',{attrs:{\"no-title\":\"\",\"scrollable\":\"\"},model:{value:(_vm.$store.state.end),callback:function ($$v) {_vm.$set(_vm.$store.state, \"end\", $$v)},expression:\"$store.state.end\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.menu3 = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.outDateMenu.save(_vm.$store.state.end)}}},[_vm._v(\" OK \")])],1)],1)],1)],1),(_vm.isReserve)?_c('v-row'):_vm._e(),_c('v-row',[_c('v-col',[_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$store.commit('OPEN_CLOSE_RESERVE', {status: 'pre-reserve'})}}},[_vm._v(\" Резерв \")]),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$store.commit('OPEN_CLOSE_RESERVE', {status: 'pre-booking'})}}},[_vm._v(\" Забронировать \")]),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$store.commit('OPEN_CLOSE_RESERVE', {status: 'repair'})}}},[_vm._v(\" Закрыть на ремонт \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <v-row>\r\n      <v-col>\r\n        Новое бронирование\r\n      </v-col>\r\n    </v-row>\r\n    <v-row>\r\n      <v-col\r\n        cols=\"12\"\r\n        sm=\"6\"\r\n        md=\"4\"\r\n      >\r\n        <v-menu\r\n          ref=\"indatemenu\"\r\n          v-model=\"menu\"\r\n          :close-on-content-click=\"false\"\r\n          :return-value.sync=\"$store.state.start\"\r\n          transition=\"scale-transition\"\r\n          offset-y\r\n          min-width=\"290px\"\r\n        >\r\n          <template v-slot:activator=\"{ on, attrs }\">\r\n            <v-text-field\r\n              v-model=\"$store.state.start\"\r\n              label=\"Заезд*:\"\r\n              readonly\r\n              v-bind=\"attrs\"\r\n              prepend-icon=\"mdi-calendar-blank-multiple\"\r\n              v-on=\"on\"\r\n            />\r\n          </template>\r\n          <v-date-picker\r\n            v-model=\"$store.state.start\"\r\n            no-title\r\n            scrollable\r\n          >\r\n            <v-spacer />\r\n            <v-btn\r\n              text\r\n              color=\"primary\"\r\n              @click=\"menu = false\"\r\n            >\r\n              Cancel\r\n            </v-btn>\r\n            <v-btn\r\n              text\r\n              color=\"primary\"\r\n              @click=\"$refs.indatemenu.save($store.state.start)\"\r\n            >\r\n              OK\r\n            </v-btn>\r\n          </v-date-picker>\r\n        </v-menu>\r\n      </v-col>\r\n\r\n      <v-col\r\n        cols=\"12\"\r\n        sm=\"6\"\r\n        md=\"4\"\r\n      >\r\n        <v-menu\r\n          ref=\"outDateMenu\"\r\n          v-model=\"menu3\"\r\n          :close-on-content-click=\"false\"\r\n          :return-value.sync=\"$store.state.end\"\r\n          transition=\"scale-transition\"\r\n          offset-y\r\n          min-width=\"290px\"\r\n        >\r\n          <template v-slot:activator=\"{ on, attrs }\">\r\n            <v-text-field\r\n              v-model=\"$store.state.end\"\r\n              label=\"Выезд*:\"\r\n              readonly\r\n              v-bind=\"attrs\"\r\n              prepend-icon=\"mdi-calendar-blank-multiple\"\r\n              v-on=\"on\"\r\n            />\r\n          </template>\r\n          <v-date-picker\r\n            v-model=\"$store.state.end\"\r\n            no-title\r\n            scrollable\r\n          >\r\n            <v-spacer />\r\n            <v-btn\r\n              text\r\n              color=\"primary\"\r\n              @click=\"menu3 = false\"\r\n            >\r\n              Cancel\r\n            </v-btn>\r\n            <v-btn\r\n              text\r\n              color=\"primary\"\r\n              @click=\"$refs.outDateMenu.save($store.state.end)\"\r\n            >\r\n              OK\r\n            </v-btn>\r\n          </v-date-picker>\r\n        </v-menu>\r\n      </v-col>\r\n    </v-row>\r\n    <v-row v-if=\"isReserve\">\r\n    </v-row>\r\n    <v-row>\r\n      <v-col>\r\n        <v-btn\r\n          color=\"primary\"\r\n          @click=\"$store.commit('OPEN_CLOSE_RESERVE', {status: 'pre-reserve'})\"\r\n        >\r\n          Резерв\r\n        </v-btn>\r\n        <v-btn\r\n          color=\"primary\"\r\n          @click=\"$store.commit('OPEN_CLOSE_RESERVE', {status: 'pre-booking'})\"\r\n        >\r\n          Забронировать\r\n        </v-btn>\r\n        <v-btn\r\n          color=\"primary\"\r\n          @click=\"$store.commit('OPEN_CLOSE_RESERVE', {status: 'repair'})\"\r\n        >\r\n          Закрыть на ремонт\r\n        </v-btn>\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n  import { mapMutations } from 'vuex'\r\n  export default {\r\n    name: 'QuestionReserve',\r\n    data () {\r\n      return {\r\n        isReserve: false,\r\n        menu: false,\r\n        inDate: '',\r\n        outDate: '',\r\n        menu3: false,\r\n        booking: {\r\n          inDate: new Date().toISOString().substr(0, 10),\r\n          outDate: new Date().toISOString().substr(0, 10),\r\n        },\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapMutations({\r\n        setBookingOpen: 'SET_BOOKING_OPEN',\r\n        setBookingData: 'SET_BOOKING_DATA',\r\n      }),\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionReserve.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionReserve.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QuestionReserve.vue?vue&type=template&id=05885f4a&scoped=true&\"\nimport script from \"./QuestionReserve.vue?vue&type=script&lang=js&\"\nexport * from \"./QuestionReserve.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"05885f4a\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCol,VContainer,VDatePicker,VMenu,VRow,VSpacer,VTextField})\n","<template>\r\n  <v-container\r\n    id=\"calendar\"\r\n    fluid\r\n    tag=\"section\"\r\n  >\r\n    <v-row>\r\n      <v-col\r\n        cols=\"7\"\r\n      >\r\n        <v-row>\r\n          <v-col\r\n            cols=\"6\"\r\n            sm=\"3\"\r\n            md=\"3\"\r\n            style=\"padding-top: 0 !important; padding-bottom: 0 !important;\"\r\n          >\r\n            <v-btn\r\n              class=\"ma-2\"\r\n              outlined\r\n              fab\r\n              x-small\r\n              color=\"primary\"\r\n              @click=\"prevDay\"\r\n            >\r\n              <v-icon>mdi-arrow-left-bold</v-icon>\r\n            </v-btn>\r\n            <v-btn\r\n              class=\"ma-2\"\r\n              outlined\r\n              fab\r\n              x-small\r\n              color=\"primary\"\r\n              @click=\"nextDay\"\r\n            >\r\n              <v-icon>mdi-arrow-right-bold</v-icon>\r\n            </v-btn>\r\n          </v-col>\r\n          <v-col\r\n            cols=\"6\"\r\n            sm=\"3\"\r\n            md=\"3\"\r\n            style=\"padding-top: 0 !important; padding-bottom: 0 !important;\"\r\n          >\r\n            <v-menu\r\n              ref=\"dialog\"\r\n              v-model=\"dialog\"\r\n              :close-on-content-click=\"false\"\r\n              :return-value.sync=\"today\"\r\n              transition=\"scale-transition\"\r\n              offset-y\r\n              min-width=\"290px\"\r\n              max-width=\"290px\"\r\n            >\r\n              <template v-slot:activator=\"{ on, attrs }\">\r\n                <v-text-field\r\n                  v-model=\"today\"\r\n                  label=\"Текущая дата:\"\r\n                  readonly\r\n                  v-bind=\"attrs\"\r\n                  prepend-icon=\"mdi-calendar-blank-multiple\"\r\n                  v-on=\"on\"\r\n                />\r\n              </template>\r\n              <v-date-picker\r\n                v-model=\"today\"\r\n                no-title\r\n                scrollable\r\n              >\r\n                <v-spacer />\r\n                <v-btn\r\n                  text\r\n                  color=\"primary\"\r\n                  @click=\"dialog = false\"\r\n                >\r\n                  Cancel\r\n                </v-btn>\r\n                <v-btn\r\n                  text\r\n                  color=\"primary\"\r\n                  @click=\"changePeriod({period: period, today: today}) && $refs.dialog.save(today)\"\r\n                >\r\n                  OK\r\n                </v-btn>\r\n              </v-date-picker>\r\n            </v-menu>\r\n          </v-col>\r\n          <v-col\r\n            cols=\"6\"\r\n            sm=\"3\"\r\n            md=\"3\"\r\n            style=\"padding-top: 0 !important; padding-bottom: 0 !important;\"\r\n          >\r\n            <v-select\r\n              v-model=\"period\"\r\n              :items=\"periods\"\r\n              label=\"Период\"\r\n              @change=\"changePeriod({period: period, today: today})\"\r\n            />\r\n          </v-col>\r\n        </v-row>\r\n      </v-col>\r\n      <v-col\r\n        cols=\"5\"\r\n        style=\"padding-top: 0 !important; padding-bottom: 0 !important;\"\r\n      >\r\n        <v-card>\r\n          <v-card-title><span style=\"font-size: 16px\">Состояние на сегодня</span></v-card-title>\r\n          <v-card-text\r\n            small\r\n          >\r\n            <v-row>\r\n              <v-col\r\n                style=\"padding-top: 0 !important; padding-bottom: 0 !important;\"\r\n              >\r\n                <span style=\"font-size: 13px\">Количество заездов за сегодня: {{ inToday }}</span> <br>\r\n                <span style=\"font-size: 13px\">Количество выездов: {{ moveOuts }}</span><br>\r\n                <span style=\"font-size: 13px\">Количество проживающих: {{ count }}</span><br>\r\n                <span style=\"font-size: 13px\">Свободно номеров: {{ freeRooms }}</span><br>\r\n              </v-col>\r\n              <v-col\r\n                style=\"padding-top: 0 !important; padding-bottom: 0 !important;\"\r\n              >\r\n                <span style=\"font-size: 13px\">Занято номеров: {{ closeRooms }}</span><br>\r\n                <span style=\"font-size: 13px\">Оплачено: {{ paids }}</span><br>\r\n                <span style=\"font-size: 13px\">Не оплачено: {{ notPaid }}</span><br>\r\n              </v-col>\r\n            </v-row>\r\n          </v-card-text>\r\n        </v-card>\r\n      </v-col>\r\n    </v-row>\r\n    <g-s-t-c\r\n      ref=\"calendar\"\r\n      :config=\"config\"\r\n    />\r\n    <v-dialog\r\n      v-model=\"$store.state.bookingModal\"\r\n      max-width=\"800px\"\r\n      transition=\"dialog-bottom-transition\"\r\n    >\r\n      <v-card>\r\n        <question-reserve />\r\n      </v-card>\r\n    </v-dialog>\r\n    <v-dialog\r\n      v-model=\"$store.state.reserve\"\r\n      max-width=\"1200px\"\r\n      transition=\"dialog-bottom-transition\"\r\n    >\r\n      <v-card>\r\n        <user-profile />\r\n      </v-card>\r\n    </v-dialog>\r\n    <v-dialog\r\n      v-model=\"$store.state.toBook\"\r\n      max-width=\"1200px\"\r\n      transition=\"dialog-bottom-transition\"\r\n    >\r\n      <v-card>\r\n        <v-card-text>\r\n          <to-book />\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-dialog>\r\n    <v-dialog\r\n      v-model=\"$store.state.popover\"\r\n      max-width=\"350px\"\r\n      transition=\"dialog-bottom-transition\"\r\n    >\r\n      <v-card>\r\n        <v-list>\r\n          <v-list-item>\r\n            <v-list-item-content>\r\n              <v-list-item-title>{{$store.state.label}}</v-list-item-title>\r\n              <v-list-item-subtitle>{{$store.state.rowLabel}}</v-list-item-subtitle>\r\n            </v-list-item-content>\r\n          </v-list-item>\r\n        </v-list>\r\n        <v-divider></v-divider>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn\r\n            text\r\n            @click=\"$store.commit('OPEN_CLOSE_RESERVE', {status: 'pre-booking'})\"\r\n            v-if=\"$store.state.status==='reserve'\"\r\n          >Бронировать</v-btn>\r\n          <v-btn\r\n            text\r\n            @click=\"openCloseBook\"\r\n            v-if=\"$store.state.status==='booking' || $store.state.status==='half-booking'\"\r\n          >Редактировать</v-btn>\r\n          <v-btn\r\n            text\r\n            @click=\"$store.commit('OPEN_CLOSE_RESERVE', {status: 'populate'})\"\r\n            v-if=\"$store.state.status==='populate'\"\r\n          >Редактировать</v-btn>\r\n          <v-btn\r\n            color=\"primary\"\r\n            text\r\n            @click=\"$store.state.popover = false\"\r\n          >Отменить </v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n  import GSTC from 'vue-gantt-schedule-timeline-calendar'\r\n  import UserProfile from './pages/UserProfile'\r\n  import ToBook from './components/ToBook'\r\n  import { mapMutations } from 'vuex'\r\n  import QuestionReserve from './components/QuestionReserve'\r\n  export default {\r\n    name: 'App',\r\n    components: {\r\n      QuestionReserve,\r\n      UserProfile,\r\n      ToBook,\r\n      GSTC,\r\n    },\r\n    data () {\r\n      return {\r\n        inToday: 13,\r\n        moveOuts: 12,\r\n        count: 45,\r\n        freeRooms: 12,\r\n        closeRooms: 25,\r\n        paids: 15,\r\n        notPaid: 9,\r\n        popover: false,\r\n        fav: true,\r\n        message: false,\r\n        hints: true,\r\n        period: 30,\r\n        periods: [{ text: '7', value: 7 }, { text: '15', value: 15 }, { text: '30', value: 30 }, { text: '90', value: 90 }],\r\n        dayInZoom: [{ text: '1:1', value: 21 }, { text: '1:2', value: 22 }],\r\n        zoomSize: 20,\r\n        gstc: null,\r\n        dialog: false,\r\n        today: new Date().toISOString().substr(0, 10),\r\n        openModal: false,\r\n        text: '',\r\n      }\r\n    },\r\n\r\n    computed: {\r\n      config: function () {\r\n        if (typeof this.$store.state.config.actions === 'undefined') {\r\n          this.$store.commit('ADD_ACTIONS')\r\n        }\r\n        return this.$store.state.config\r\n      },\r\n    },\r\n    methods: {\r\n      ...mapMutations({\r\n        setBookingOpen: 'SET_BOOKING_OPEN',\r\n        changeCurrentDate: 'CHANGE_CURRENT_DATE',\r\n        setRefs: 'SET_REFS',\r\n        prevDay: 'PREV_DAY',\r\n        nextDay: 'NEXT_DAY',\r\n        changePeriod: 'CHANGE_PERIOD',\r\n        openCloseBook: 'OPEN_CLOSE_BOOK',\r\n      }),\r\n    },\r\n  }\r\n</script>\r\n<style>\r\n  .v-card {\r\n    margin-top: 0 !important;\r\n  }\r\n  .v-card__title {\r\n    line-height: 1rem !important;\r\n  }\r\n  .highlight {\r\n    background-color: #ffff00;\r\n  }\r\n  .gantt-schedule-timeline-calendar__chart-timeline-items-row-item {\r\n    border-radius: 0 !important;\r\n    margin-top: 1px !important;\r\n    height: 37px !important;\r\n    padding: 8px 0 !important;\r\n    border: 1px solid black;\r\n  }\r\n  .gantt-schedule-timeline-calendar__chart-calendar-date--level-0 .gantt-schedule-timeline-calendar__chart-calendar-date-content {\r\n    margin: 7px !important;\r\n  }\r\n  .weekends-highlight {\r\n    background-color: rgba(255, 196, 126, 0.5);\r\n  }\r\n  .gantt-schedule-timeline-calendar__chart-calendar-date--month {\r\n    border-left: 2px solid rgba(107, 107, 107, 0.75) !important;\r\n  }\r\n  .gantt-schedule-timeline-calendar__chart-timeline-grid-row-block, .gantt-schedule-timeline-calendar__list-column-header-content, .gantt-schedule-timeline-calendar__list-column-row, .gantt-schedule-timeline-calendar__chart-calendar-date{\r\n    border-right: 1px solid rgba(107, 107, 107, 0.75) !important;\r\n    border-bottom: 1px solid rgba(107, 107, 107, 0.75) !important;\r\n  }\r\n  .gantt-schedule-timeline-calendar__chart-calendar-date-content.gstc-date-small {\r\n    line-height: 15px !important;\r\n  }\r\n  .gantt-schedule-timeline-calendar__chart-calendar-date-content--day, .gantt-schedule-timeline-calendar__chart-calendar-date-content--week {\r\n    line-height: 15px !important;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Calendar.vue?vue&type=template&id=11ebd12c&\"\nimport script from \"./Calendar.vue?vue&type=script&lang=js&\"\nexport * from \"./Calendar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Calendar.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VContainer,VDatePicker,VDialog,VDivider,VIcon,VList,VListItem,VListItemContent,VListItemSubtitle,VListItemTitle,VMenu,VRow,VSelect,VSpacer,VTextField})\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=style&index=0&lang=css&\"","// Styles\nimport './VOverlay.sass'\n\n// Mixins\nimport Colorable from './../../mixins/colorable'\nimport Themeable from '../../mixins/themeable'\nimport Toggleable from './../../mixins/toggleable'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode } from 'vue'\n\n/* @vue/component */\nexport default mixins(\n  Colorable,\n  Themeable,\n  Toggleable\n).extend({\n  name: 'v-overlay',\n\n  props: {\n    absolute: Boolean,\n    color: {\n      type: String,\n      default: '#212121',\n    },\n    dark: {\n      type: Boolean,\n      default: true,\n    },\n    opacity: {\n      type: [Number, String],\n      default: 0.46,\n    },\n    value: {\n      default: true,\n    },\n    zIndex: {\n      type: [Number, String],\n      default: 5,\n    },\n  },\n\n  computed: {\n    __scrim (): VNode {\n      const data = this.setBackgroundColor(this.color, {\n        staticClass: 'v-overlay__scrim',\n        style: {\n          opacity: this.computedOpacity,\n        },\n      })\n\n      return this.$createElement('div', data)\n    },\n    classes (): object {\n      return {\n        'v-overlay--absolute': this.absolute,\n        'v-overlay--active': this.isActive,\n        ...this.themeClasses,\n      }\n    },\n    computedOpacity (): number {\n      return Number(this.isActive ? this.opacity : 0)\n    },\n    styles (): object {\n      return {\n        zIndex: this.zIndex,\n      }\n    },\n  },\n\n  methods: {\n    genContent () {\n      return this.$createElement('div', {\n        staticClass: 'v-overlay__content',\n      }, this.$slots.default)\n    },\n  },\n\n  render (h): VNode {\n    const children = [this.__scrim]\n\n    if (this.isActive) children.push(this.genContent())\n\n    return h('div', {\n      staticClass: 'v-overlay',\n      class: this.classes,\n      style: this.styles,\n    }, children)\n  },\n})\n","import VOverlay from './VOverlay'\n\nexport { VOverlay }\n\nexport default VOverlay\n","// Components\nimport VOverlay from '../../components/VOverlay'\n\n// Utilities\nimport {\n  keyCodes,\n  addOnceEventListener,\n  addPassiveEventListener,\n  getZIndex,\n} from '../../util/helpers'\n\n// Types\nimport Vue from 'vue'\n\ninterface Toggleable extends Vue {\n  isActive?: boolean\n}\n\ninterface Stackable extends Vue {\n  activeZIndex: number\n}\n\ninterface options {\n  absolute?: boolean\n  $refs: {\n    dialog?: HTMLElement\n    content?: HTMLElement\n  }\n}\n\n/* @vue/component */\nexport default Vue.extend<Vue & Toggleable & Stackable & options>().extend({\n  name: 'overlayable',\n\n  props: {\n    hideOverlay: Boolean,\n    overlayColor: String,\n    overlayOpacity: [Number, String],\n  },\n\n  data () {\n    return {\n      animationFrame: 0,\n      overlay: null as InstanceType<typeof VOverlay> | null,\n    }\n  },\n\n  watch: {\n    hideOverlay (value) {\n      if (!this.isActive) return\n\n      if (value) this.removeOverlay()\n      else this.genOverlay()\n    },\n  },\n\n  beforeDestroy () {\n    this.removeOverlay()\n  },\n\n  methods: {\n    createOverlay () {\n      const overlay = new VOverlay({\n        propsData: {\n          absolute: this.absolute,\n          value: false,\n          color: this.overlayColor,\n          opacity: this.overlayOpacity,\n        },\n      })\n\n      overlay.$mount()\n\n      const parent = this.absolute\n        ? this.$el.parentNode\n        : document.querySelector('[data-app]')\n\n      parent && parent.insertBefore(overlay.$el, parent.firstChild)\n\n      this.overlay = overlay\n    },\n    genOverlay () {\n      this.hideScroll()\n\n      if (this.hideOverlay) return\n\n      if (!this.overlay) this.createOverlay()\n\n      this.animationFrame = requestAnimationFrame(() => {\n        if (!this.overlay) return\n\n        if (this.activeZIndex !== undefined) {\n          this.overlay.zIndex = String(this.activeZIndex - 1)\n        } else if (this.$el) {\n          this.overlay.zIndex = getZIndex(this.$el)\n        }\n\n        this.overlay.value = true\n      })\n\n      return true\n    },\n    /** removeOverlay(false) will not restore the scollbar afterwards */\n    removeOverlay (showScroll = true) {\n      if (this.overlay) {\n        addOnceEventListener(this.overlay.$el, 'transitionend', () => {\n          if (\n            !this.overlay ||\n            !this.overlay.$el ||\n            !this.overlay.$el.parentNode ||\n            this.overlay.value\n          ) return\n\n          this.overlay.$el.parentNode.removeChild(this.overlay.$el)\n          this.overlay.$destroy()\n          this.overlay = null\n        })\n\n        // Cancel animation frame in case\n        // overlay is removed before it\n        // has finished its animation\n        cancelAnimationFrame(this.animationFrame)\n\n        this.overlay.value = false\n      }\n\n      showScroll && this.showScroll()\n    },\n    scrollListener (e: WheelEvent & KeyboardEvent) {\n      if (e.type === 'keydown') {\n        if (\n          ['INPUT', 'TEXTAREA', 'SELECT'].includes((e.target as Element).tagName) ||\n          // https://github.com/vuetifyjs/vuetify/issues/4715\n          (e.target as HTMLElement).isContentEditable\n        ) return\n\n        const up = [keyCodes.up, keyCodes.pageup]\n        const down = [keyCodes.down, keyCodes.pagedown]\n\n        if (up.includes(e.keyCode)) {\n          (e as any).deltaY = -1\n        } else if (down.includes(e.keyCode)) {\n          (e as any).deltaY = 1\n        } else {\n          return\n        }\n      }\n\n      if (e.target === this.overlay ||\n        (e.type !== 'keydown' && e.target === document.body) ||\n        this.checkPath(e)) e.preventDefault()\n    },\n    hasScrollbar (el?: Element) {\n      if (!el || el.nodeType !== Node.ELEMENT_NODE) return false\n\n      const style = window.getComputedStyle(el)\n      return ['auto', 'scroll'].includes(style.overflowY!) && el.scrollHeight > el.clientHeight\n    },\n    shouldScroll (el: Element, delta: number) {\n      if (el.scrollTop === 0 && delta < 0) return true\n      return el.scrollTop + el.clientHeight === el.scrollHeight && delta > 0\n    },\n    isInside (el: Element, parent: Element): boolean {\n      if (el === parent) {\n        return true\n      } else if (el === null || el === document.body) {\n        return false\n      } else {\n        return this.isInside(el.parentNode as Element, parent)\n      }\n    },\n    checkPath (e: WheelEvent) {\n      const path = e.path || this.composedPath(e)\n      const delta = e.deltaY\n\n      if (e.type === 'keydown' && path[0] === document.body) {\n        const dialog = this.$refs.dialog\n        // getSelection returns null in firefox in some edge cases, can be ignored\n        const selected = window.getSelection()!.anchorNode as Element\n        if (dialog && this.hasScrollbar(dialog) && this.isInside(selected, dialog)) {\n          return this.shouldScroll(dialog, delta)\n        }\n        return true\n      }\n\n      for (let index = 0; index < path.length; index++) {\n        const el = path[index]\n\n        if (el === document) return true\n        if (el === document.documentElement) return true\n        if (el === this.$refs.content) return true\n\n        if (this.hasScrollbar(el as Element)) return this.shouldScroll(el as Element, delta)\n      }\n\n      return true\n    },\n    /**\n     * Polyfill for Event.prototype.composedPath\n     */\n    composedPath (e: WheelEvent): EventTarget[] {\n      if (e.composedPath) return e.composedPath()\n\n      const path = []\n      let el = e.target as Element\n\n      while (el) {\n        path.push(el)\n\n        if (el.tagName === 'HTML') {\n          path.push(document)\n          path.push(window)\n\n          return path\n        }\n\n        el = el.parentElement!\n      }\n      return path\n    },\n    hideScroll () {\n      if (this.$vuetify.breakpoint.smAndDown) {\n        document.documentElement!.classList.add('overflow-y-hidden')\n      } else {\n        addPassiveEventListener(window, 'wheel', this.scrollListener as EventHandlerNonNull, { passive: false })\n        window.addEventListener('keydown', this.scrollListener as EventHandlerNonNull)\n      }\n    },\n    showScroll () {\n      document.documentElement!.classList.remove('overflow-y-hidden')\n      window.removeEventListener('wheel', this.scrollListener as EventHandlerNonNull)\n      window.removeEventListener('keydown', this.scrollListener as EventHandlerNonNull)\n    },\n  },\n})\n"],"sourceRoot":""}