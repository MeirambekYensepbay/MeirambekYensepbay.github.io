{"version":3,"sources":["webpack:///./node_modules/gantt-schedule-timeline-calendar/dist/index.esm.js","webpack:///./src/views/dashboard/Calendar.vue?d911","webpack:///node_modules/vue-gantt-schedule-timeline-calendar/src/components/GSTC.vue","webpack:///./node_modules/vue-gantt-schedule-timeline-calendar/src/components/GSTC.vue?e955","webpack:///./node_modules/vue-gantt-schedule-timeline-calendar/src/components/GSTC.vue?a925","webpack:///./node_modules/vue-gantt-schedule-timeline-calendar/src/components/GSTC.vue","webpack:///./src/views/dashboard/components/ToBook.vue?c349","webpack:///src/views/dashboard/components/ToBook.vue","webpack:///./src/views/dashboard/components/ToBook.vue?7f61","webpack:///./src/views/dashboard/components/ToBook.vue","webpack:///./src/views/dashboard/components/QuestionReserve.vue?87e4","webpack:///src/views/dashboard/components/QuestionReserve.vue","webpack:///./src/views/dashboard/components/QuestionReserve.vue?3cc7","webpack:///./src/views/dashboard/components/QuestionReserve.vue","webpack:///src/views/dashboard/Calendar.vue","webpack:///./src/views/dashboard/Calendar.vue?5bba","webpack:///../../../src/components/VDialog/VDialog.ts","webpack:///./src/views/dashboard/Calendar.vue?6d0a","webpack:///./src/views/dashboard/Calendar.vue?7ad7","webpack:///../../../src/components/VOverlay/VOverlay.ts","webpack:///../../../src/components/VOverlay/index.ts","webpack:///../../../src/mixins/overlayable/index.ts"],"names":["directive","f","args","d","isDirective","Directive","this","isClass","_part","o","undefined","isCEPolyfill","window","customElements","polyfillWrapFlushCallback","reparentNodes","container","start","end","before","n","nextSibling","insertBefore","removeNodes","removeChild","noChange","nothing","marker","String","Math","random","slice","nodeMarker","markerRegex","RegExp","boundAttributeSuffix","Template","result","element","parts","nodesToRemove","stack","walker","document","createTreeWalker","content","lastPartIndex","index","partIndex","strings","values","length","node","nextNode","nodeType","hasAttributes","attributes","count","i","endsWith","name","stringForPart","lastAttributeNameRegex","exec","attributeLookupName","toLowerCase","attributeValue","getAttribute","removeAttribute","statics","split","push","type","sanitizer","tagName","currentNode","data","indexOf","parent","parentNode","lastIndex","insert","s","createMarker","match","createTextNode","previousSibling","pop","str","suffix","isTemplatePartActive","part","markerNode","createComment","cloneNode","TemplateInstance","template","processor","options","__parts","setValue","commit","fragment","importNode","nodeIndex","nodeName","textPart","handleTextExpression","insertAfterNode","handleAttributeExpressions","adoptNode","upgrade","policy","convertConstantTemplateStringToTrustedHTML","value","w","trustedTypes","TrustedTypes","createPolicy","createHTML","commentMarker","emptyTemplateNode","createElement","TemplateResult","l","html","isCommentBinding","commentOpen","lastIndexOf","attributeMatch","substr","innerHTML","getHTML","SVGTemplateResult","super","getTemplateElement","svgElement","firstChild","isPrimitive","isIterable","Array","isArray","Symbol","iterator","identityFunction","noopSanitizer","_node","_name","_type","sanitizerFactory","setSanitizerFactory","newSanitizer","Error","emptyTextNode","AttributeCommitter","templatePart","kind","dirty","_createPart","AttributePart","v","text","t","_getValue","setAttribute","committer","body","NodePart","__pendingValue","textSanitizer","startNode","appendChild","endNode","ref","__insert","__commitText","__commitTemplateResult","Node","__commitNode","__commitIterable","clear","renderedValue","textNode","templateFactory","update","instance","_clone","itemParts","itemPart","item","appendIntoPart","insertAfterPart","BooleanAttributePart","PropertyCommitter","single","PropertyPart","eventOptionsSupported","addEventListener","removeEventListener","_e","EventPart","eventName","eventContext","__boundHandleEvent","e","handleEvent","newListener","oldListener","shouldRemoveListener","capture","once","passive","shouldAddListener","__options","getOptions","event","call","DefaultTemplateProcessor","prefix","nodeTemplatePart","defaultTemplateProcessor","templateCache","templateCaches","get","stringsArray","WeakMap","keyString","Map","set","key","join","render","Object","assign","appendInto","isBrowser","svg","lithtml","freeze","__proto__","__asyncValues","asyncIterator","TypeError","m","__values","verb","Promise","resolve","reject","settle","done","then","asyncAppend","mapper","async","e_1","_a","value_1_1","value_1","next","itemStartNode","e_1_1","error","return","__asyncValues$1","asyncReplace","templateCaches$1","cache","previousValue","cachedTemplate","nodes","createDocumentFragment","previousClassesCache","classMap","classInfo","previousClasses","className","Set","classList","forEach","remove","delete","has","add","previousValues","guard","every","from","ifDefined","createAndInsertPart","containerPart","beforePart","beforeNode","newPart","updatePart","insertPartBefore","removePart","generateMap","list","map","partListCache","keyListCache","repeat","items","keyFnOrTemplate","keyFn","oldParts","oldKeys","newParts","newValues","newKeys","newKeyToIndexMap","oldKeyToIndexMap","oldHead","oldTail","newHead","newTail","oldIndex","oldPart","previousValues$1","emptyTemplateNode$1","unsafeHTML","_state","_infinity","until","state","lastRenderedIndex","previousLength","resolvedValue","detached","Detach","ifFn","detach","toRemove","toUpdate","StyleMap","styleInfo","previous","style","prev","removeProperty","includes","setProperty","Action","isAction","prototype","defaultOptions","axis","threshold","pointerEventsExists","PointerEvent","id","PointerAction","moving","initialX","initialY","lastY","lastX","onPointerDown","bind","onPointerMove","onPointerUp","onWheel","pointerOptions","x","deltaX","y","deltaY","z","deltaZ","mode","deltaMode","lineHeight","parseInt","getComputedStyle","target","getPropertyValue","scale","height","normalized","normalizeMouseWheelEvent","pageX","pageY","clientX","clientY","screenX","screenY","wheel","changedTouches","button","normalizePointerEvent","onDown","movementX","movementY","abs","handleX","handleY","onMove","onUp","getPublicComponentMethods","components","actionsByInstance","clone","vidoInstance","props","destroy","change","debug","console","groupCollapsed","log","keys","trace","groupEnd","destroyComponent","updateTemplate","newProps","templateProps","component","getActionsCollector","actions","create","exists","action","componentAction","vido","byInstance","getInternalComponentMethods","renderFunction","destroyable","onChangeFunctions","changedProps","leave","fn","schedule","frameId","wrapperFn","argument","executeFrame","apply","requestAnimationFrame","isObject","mergeDeep","sources","source","shift","actns","api","Vido","componentId","app","shouldUpdateCount","resolved","additionalMethods","ActionsCollector","InstanceActionsCollector","actionsInstance","PublicComponentMethods","InternalComponentMethods","lastProps","componentActions","_components","_actions","reuseComponents","onDestroy","onChange","callback","currentComponents","dataArray","getProps","leaveTail","modified","currentLen","dataLen","leaveStartingAt","diff","newComponent","createComponent","Actions","publicMethods","internalMethods","_b","_c","currentShouldUpdateCount","self","flush","config","App","appComponent","executeActions","unti","MapShim","getIndex","arr","some","entry","class_1","__entries__","defineProperty","enumerable","configurable","entries","splice","ctx","_i","isBrowser$1","global$1","global","Function","requestAnimationFrame$1","setTimeout","Date","now","trailingTimeout","throttle","delay","leadingCall","trailingCall","lastCallTime","resolvePending","proxy","timeoutCallback","timeStamp","REFRESH_DELAY","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","addObserver","observer","connect_","removeObserver","observers","disconnect_","changesDetected","updateObservers_","activeObservers","filter","gatherActive","hasActive","broadcastActive","observe","childList","characterData","subtree","disconnect","propertyName","isReflowProperty","getInstance","instance_","defineConfigurable","writable","getWindowOf","ownerGlobal","ownerDocument","defaultView","emptyRect","createRectInit","toFloat","parseFloat","getBordersSize","styles","positions","arguments","reduce","size","position","getPaddings","paddings","positions_1","getSVGContentRect","bbox","getBBox","width","getHTMLElementContentRect","clientWidth","clientHeight","horizPad","left","right","vertPad","top","bottom","boxSizing","round","isDocumentElement","vertScrollbar","horizScrollbar","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","documentElement","getContentRect","createReadOnlyRect","Constr","DOMRectReadOnly","rect","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","broadcastRect","ResizeObserverEntry","rectInit","contentRect","ResizeObserverSPI","controller","callbackCtx","activeObservations_","observations_","callback_","controller_","callbackCtx_","Element","observations","unobserve","clearActive","_this","observation","ResizeObserver","method","Main","componentName","subscribe","plugins","initializePlugin","destroyPlugin","hasOwnProperty","componentSubs","ListComponent","ChartComponent","List","Chart","wrapper","unsub","getActions","classNameVerticalScroll","styleMap","verticalScrollStyleMap","verticalScrollAreaStyleMap","verticalScrollBarElement","rowsHeight","resizerActive","updateClassNames","classNames","getClass","heightChange","scrollBarHeight","headerHeight","resizerActiveChange","active","generateTree","bulk","eventInfo","configRows","rows","rowId","fillEmptyRowValues","configItems","itemId","prepareItems","treeMap","makeTreeMap","flatTreeMapById","getFlatTreeMapById","flatTreeMap","flattenTreeMap","prepareExpanded","rowsWithParentsExpanded","getRowsFromIds","getRowsWithParentsExpanded","getRowsHeight","generateVisibleRowsAndItems","visibleRows","compensation","getVisibleRowsAndCompensation","smoothScroll","currentVisibleRows","shouldUpdate","row","visibleItems","_internal","subscribeAll","elementScrollTop","onVisibleRowsChange","scrollTop","generatePeriodDates","period","internalTime","dates","leftGlobal","timePerPixel","startOfLeft","time","date","startOf","valueOf","sub","subPx","leftPx","ceil","rightGlobal","endOf","rightPx","triggerLoadedEvent","Event","dispatchEvent","limitGlobalAndSetCenter","finalFrom","finalTo","centerGlobal","guessPeriod","calendar","zoom","level","levels","formatting","formats","find","format","zoomTo","main","updateLevels","working","recalculateTimes","reason","configTime","chartWidth","oldTime","to","mainLevel","calculatedZoomMode","periodFormat","default","justApply","scrollLeft","totalViewDurationMs","totalViewDurationPx","pow","recalculateFromTo","chartWidthInMs","halfChartInMs","limitScrollLeft","leftInner","rightInner","xCompensation","recalculationTriggerCache","initialized","recalculationIsNeeded","oldValue","newValue","localStorage","getItem","fetch","credentials","redirect","JSON","stringify","location","href","host","catch","setItem","propagate","stopPropagation","preventDefault","handleOnScroll","scroll","scrollInner","scrollHeight","percent","only","prpgt","onScroll","dimensions","ro","ResizeAction","bindScrollElement","LoadedEventAction","bindScrollInnerElement","loaded","chart","actionProps","mainActions","verticalScrollActions","verticalScrollAreaActions","ListColumnComponent","listColumnUnsub","renderExpanderIcons","icons","rendered","iconName","getSVGIconSrc","renderToggleIcons","toggleIconsSrc","open","close","onListChange","columns","listColumns","onListColumnsDataChange","column","columnId","internalHeight","limitScrollTop","getWidth","expander","padding","listColumn","ListAction","c","BindElementAction","elements","el","ListColumn","componentsSub","ListColumnRowComponent","ListColumnHeaderComponent","rowsComponentName","rowsActions","classNameContainer","calculatedWidth","widthStyleMap","containerStyleMap","scrollCompensationStyleMap","columnPath","columnSub","val","calculateStyle","compensationY","transform","styleSub","ListColumnHeader","prop","visibleRowsChange","getRowHtml","headerActions","rowActions","componentsSubs","ListColumnHeaderResizerComponent","ListColumnHeaderResizer","ListColumnRowExpanderComponent","ListColumnRowExpander","contentClass","withExpander","withoutExpander","componentDotsActions","containerClass","dotsClass","dotClass","dotsStyleMap","inRealTime","path","resizer","dots","columnWidthPath","minWidth","dotsActions","header","dot","BindElementAction$1","ListColumnRow","shouldDetach","rowPath","colPath","rowSub","colSub","onPropsChange","setStyle","parents","parentId","constructor","children","childrenStyle","current","rowCurrentStyle","getHtml","getText","isHTML","ListColumnRowExpanderToggleComponent","toggleUnsub","ListColumnRowExpanderToggle","classNameChild","classNameOpen","classNameClosed","iconChild","iconOpen","iconClosed","expanded","child","closed","expandedChange","isExpanded","expandedSub","rowExpanded","toggle","getIcon","ListToggle","ListToggleWrapper","ev","ChartCalendarComponent","ChartTimelineComponent","Calendar","Timeline","classNameScroll","classNameScrollInner","scrollElement","scrollInnerElement","onScrollHandler","onWheelHandler","xMultiplier","yMultiplier","currentScrollLeft","shiftKey","newScrollLeft","ctrlKey","currentZoom","bindElement","bindInnerScroll","old","innerWidth","scrollActions","scrollAreaActions","ChartCalendar","ChartCalendarDateComponent","currentDateFormat","currentDate","Action$1","BindElementAction$2","ChartCalendarDay","htmlFormatted","visibility","scrollStyleMap","overflow","formatClassName","updateDate","cacheKey","toISOString","timeStart","timeEnd","subtract","finalClassName","timeSub","ChartTimeline","GridComponent","ItemsComponent","ListToggleComponent","Grid","Items","classNameInner","showToggle","innerStyleMap","getCompensationX","yCompensation","getCompensationY","BindElementAction$3","ChartTimelineGrid","GridRowComponent","onBlockCreate","onCreate","rowsComponents","rowsWithBlocks","formatCache","generateBlocks","periodDates","blocks","block","generateRowsComponents","r","BindElementAction$4","ChartTimelineGridRow","GridBlockComponent","rowsBlocksComponents","_d","_f","_g","_h","_j","grid","currentStyle","rowBlock","BindElementAction$5","ChartTimelineGridRowBlock","updateClassName","currentTime","_k","_l","_m","_o","ChartTimelineItems","ItemsRowComponent","createRowComponents","BindElementAction$6","ChartTimelineItemsRow","ItemComponent","itemsSub","itemsPath","itemComponents","updateDom","updateRow","BindElementAction$7","ChartTimelineItemsRowItem","itemLeftPx","itemWidthPx","cutLeft","cutRight","leftCutStyleMap","rightCutStyleMap","updateItem","globalTimeToViewPixelOffset","oldWidth","oldLeft","inViewPort","isItemInViewport","currentRowItemsStyle","cutterName","cutterLeft","cutterRight","labelClassName","isHtml","label","actionNames","generateEmptyActions","generateEmptySlots","slots","after","defaultConfig","plugin","ChartCalendarDate","wrappers","input","rowHeight","icon","display","smooth","expand","spacing","locale","weekdays","weekdaysShort","weekdaysMin","months","monthsShort","weekStart","relativeTime","future","past","mm","h","hh","dd","M","MM","yy","LT","LTS","L","LL","LLL","LLLL","ordinal","utcMode","usageStatistics","globalThis","createCommonjsModule","module","exports","dayjs_min","commonjsGlobal","u","a","utcOffset","floor","year","month","Number","p","D","ms","Q","replace","$","g","pl","$L","utc","$u","$offset","parse","$d","NaN","test","UTC","init","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","toString","isSame","isAfter","isBefore","$g","day","hour","minute","second","millisecond","unix","getTime","toDate","$locale","$set","min","daysInMonth","meridiem","YY","YYYY","MMM","MMMM","DD","ddd","dddd","H","HH","A","ss","SSS","Z","getTimezoneOffset","toJSON","toUTCString","extend","isDayjs","en","Ls","local","getUTCFullYear","getUTCMonth","getUTCDate","getUTCDay","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","isUTC","advancedFormat","weekYear","week","weekOfYear","yearStart","weeks","TimeApi","_dayjs","additionalSpaces","MAX_SAFE_INTEGER","addAdditionalSpace","milliseconds","withCompensation","viewPixelOffset","Matcher","pattern","wchar","segments","starCount","minLength","maxLength","segStartIndex","len","char","substring","Infinity","WildcardObject","obj","delimeter","wildcard","segLeftIndex","segRightIndex","rightPos","rightIsStar","segment","simpleMatch","first","handleArray","currentArr","nextPartIndex","currentWildcardPath","currentPath","goFurther","handleObject","currentObj","ObjectPath","copiedPath","message","info","defaultOptions$1","notRecursive","param","defaultListenerOptions","defaultUpdateOptions","updateAfter","DeepState","listeners","waitingListeners","pathGet","pathSet","scan","searchStr","searchStrLen","startIndex","indices","longer","shorter","cleanNotRecursivePath","shorterPartsLen","getIndicesCount","longerParts","getIndicesOf","charAt","isNotRecursive","paramsInfo","replaced","original","params","fullReplaced","reg","userPaths","paths","hasParams","getParamsInfo","isWildcard","isRecursive","updatePath","waitingListener","all","pathInfo","cutPath","unsubscribers","userPath","unsubscribe","listenerPath","listener","listenersCollection","collCfg","originalPath","getCleanListenersCollection","getListenerCollectionMatch","getCleanListener","getListenersCollection","bulkValue","getParams","debugSubscribe","exclude","returnNotified","alreadyNotified","singleListener","debugTime","debugListener","bulkListener","bulkData","notifyListeners","getSubscribedListeners","currentCuttedPath","restPath","trimPath","bulkListeners","currentRestPath","fullPath","listenerId","getNestedListeners","canBeNested","notifyPath","wildcardScan","wildcardPath","getNotifyOnlyListeners","scanned","getUpdateValues","same","groupedListenersPack","waitingPaths","groupedListeners","executeWaitingListeners","wildcardUpdate","notifyOnly","notifySubscribedListeners","notifyNestedListeners","groupedListener","isObject$1","mergeDeep$1","lib","mergeActions","userConfig","defaultConfigActions","userActions","allActionNames","actionName","stateFromConfig","defaultConfig$1","publicApi","dayjs","getInternalApi","$state","unsubscribes","iconsCache","simple","allActions","parentName","rowParents","childrenId","fastTree","itemParents","generateParents","tree","ids","currentRowsOffset","rowOffset","chartViewBottom","outer","noScroll","offsetHeight","msOverflowStyle","inner","withScroll","toTime","halfTime","btoa","GSTC","getScrollBarHeight","expandedHeight","firstTaskTime","lastTaskTime","maxWidth","setVido","createApp","internalApi","_vm","$createElement","_self","attrs","staticClass","on","prevDay","_v","nextDay","today","$event","scopedSlots","_u","model","$$v","expression","dialog","changePeriod","$refs","save","periods","search","$store","staticRenderFns","mounted","$emit","gstc","$watch","destroyed","phone","comments","openCloseToBook","VBtn","VCol","VContainer","VRow","VTextField","menu","indatemenu","menu3","outDateMenu","setBookingOpen","VDatePicker","VMenu","VSpacer","baseMixins","mixins","directives","ClickOutside","dark","disabled","fullscreen","light","noClickAnimation","origin","persistent","retainFocus","scrollable","transition","activatedBy","animate","animateTimeout","stackMinZIndex","computed","classes","contentClasses","hasActivator","Boolean","$slots","$scopedSlots","watch","created","$attrs","beforeMount","beforeDestroy","unbind","methods","animateClick","closeConditional","_isDestroyed","contains","overlay","$el","activeZIndex","hideScroll","show","onClickOutside","onKeydown","getOpenDependents","activator","onFocusin","getOpenDependentElements","focusable","querySelectorAll","genContent","showLazyContent","root","class","role","tabindex","keydown","zIndex","genTransition","appear","genInnerContent","handler","include","transformOrigin","attach","VCard","VCardText","VDialog","VIcon","VSelect","absolute","color","opacity","__scrim","setBackgroundColor","computedOpacity","themeClasses","hideOverlay","overlayColor","overlayOpacity","animationFrame","genOverlay","createOverlay","propsData","removeOverlay","showScroll","cancelAnimationFrame","scrollListener","up","down","checkPath","hasScrollbar","shouldScroll","delta","isInside","composedPath","selected","$vuetify","breakpoint"],"mappings":"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","file":"js/chunk-5ccb5910.8f3bf8cf.js","sourcesContent":["/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * Brands a function as a directive factory function so that lit-html will call\n * the function during template rendering, rather than passing as a value.\n *\n * A _directive_ is a function that takes a Part as an argument. It has the\n * signature: `(part: Part) => void`.\n *\n * A directive _factory_ is a function that takes arguments for data and\n * configuration and returns a directive. Users of directive usually refer to\n * the directive factory as the directive. For example, \"The repeat directive\".\n *\n * Usually a template author will invoke a directive factory in their template\n * with relevant arguments, which will then return a directive function.\n *\n * Here's an example of using the `repeat()` directive factory that takes an\n * array and a function to render an item:\n *\n * ```js\n * html`<ul><${repeat(items, (item) => html`<li>${item}</li>`)}</ul>`\n * ```\n *\n * When `repeat` is invoked, it returns a directive function that closes over\n * `items` and the template function. When the outer template is rendered, the\n * return directive function is called with the Part for the expression.\n * `repeat` then performs it's custom logic to render multiple items.\n *\n * @param f The directive factory function. Must be a function that returns a\n * function of the signature `(part: Part) => void`. The returned function will\n * be called with the part object.\n *\n * @example\n *\n * import {directive, html} from 'lit-html';\n *\n * const immutable = directive((v) => (part) => {\n *   if (part.value !== v) {\n *     part.setValue(v)\n *   }\n * });\n */\nconst directive = (f) => ((...args) => {\n    const d = f(...args);\n    // tslint:disable-next-line:no-any\n    d.isDirective = true;\n    return d;\n});\nclass Directive {\n    constructor() {\n        this.isDirective = true;\n        this.isClass = true;\n    }\n    body(_part) {\n        // body of the directive\n    }\n}\nconst isDirective = (o) => {\n    return o !== undefined && o !== null &&\n        // tslint:disable-next-line:no-any\n        typeof o.isDirective === 'boolean';\n};\n\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * True if the custom elements polyfill is in use.\n */\nconst isCEPolyfill = typeof window !== 'undefined' ?\n    window.customElements != null &&\n        window.customElements\n            .polyfillWrapFlushCallback !== undefined :\n    false;\n/**\n * Reparents nodes, starting from `start` (inclusive) to `end` (exclusive),\n * into another container (could be the same container), before `before`. If\n * `before` is null, it appends the nodes to the container.\n */\nconst reparentNodes = (container, start, end = null, before = null) => {\n    while (start !== end) {\n        const n = start.nextSibling;\n        container.insertBefore(start, before);\n        start = n;\n    }\n};\n/**\n * Removes nodes, starting from `start` (inclusive) to `end` (exclusive), from\n * `container`.\n */\nconst removeNodes = (container, start, end = null) => {\n    while (start !== end) {\n        const n = start.nextSibling;\n        container.removeChild(start);\n        start = n;\n    }\n};\n\n/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * A sentinel value that signals that a value was handled by a directive and\n * should not be written to the DOM.\n */\nconst noChange = {};\n/**\n * A sentinel value that signals a NodePart to fully clear its content.\n */\nconst nothing = {};\n\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * An expression marker with embedded unique key to avoid collision with\n * possible text in templates.\n */\nconst marker = `{{lit-${String(Math.random()).slice(2)}}}`;\n/**\n * An expression marker used text-positions, multi-binding attributes, and\n * attributes with markup-like text values.\n */\nconst nodeMarker = `<!--${marker}-->`;\nconst markerRegex = new RegExp(`${marker}|${nodeMarker}`);\n/**\n * Suffix appended to all bound attribute names.\n */\nconst boundAttributeSuffix = '$lit$';\n/**\n * An updatable Template that tracks the location of dynamic parts.\n */\nclass Template {\n    constructor(result, element) {\n        this.parts = [];\n        this.element = element;\n        const nodesToRemove = [];\n        const stack = [];\n        // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n        const walker = document.createTreeWalker(element.content, 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */, null, false);\n        // Keeps track of the last index associated with a part. We try to delete\n        // unnecessary nodes, but we never want to associate two different parts\n        // to the same index. They must have a constant node between.\n        let lastPartIndex = 0;\n        let index = -1;\n        let partIndex = 0;\n        const { strings, values: { length } } = result;\n        while (partIndex < length) {\n            const node = walker.nextNode();\n            if (node === null) {\n                // We've exhausted the content inside a nested template element.\n                // Because we still have parts (the outer for-loop), we know:\n                // - There is a template in the stack\n                // - The walker will find a nextNode outside the template\n                walker.currentNode = stack.pop();\n                continue;\n            }\n            index++;\n            if (node.nodeType === 1 /* Node.ELEMENT_NODE */) {\n                if (node.hasAttributes()) {\n                    const attributes = node.attributes;\n                    const { length } = attributes;\n                    // Per\n                    // https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap,\n                    // attributes are not guaranteed to be returned in document order.\n                    // In particular, Edge/IE can return them out of order, so we cannot\n                    // assume a correspondence between part index and attribute index.\n                    let count = 0;\n                    for (let i = 0; i < length; i++) {\n                        if (endsWith(attributes[i].name, boundAttributeSuffix)) {\n                            count++;\n                        }\n                    }\n                    while (count-- > 0) {\n                        // Get the template literal section leading up to the first\n                        // expression in this attribute\n                        const stringForPart = strings[partIndex];\n                        // Find the attribute name\n                        const name = lastAttributeNameRegex.exec(stringForPart)[2];\n                        // Find the corresponding attribute\n                        // All bound attributes have had a suffix added in\n                        // TemplateResult#getHTML to opt out of special attribute\n                        // handling. To look up the attribute value we also need to add\n                        // the suffix.\n                        const attributeLookupName = name.toLowerCase() + boundAttributeSuffix;\n                        const attributeValue = node.getAttribute(attributeLookupName);\n                        node.removeAttribute(attributeLookupName);\n                        const statics = attributeValue.split(markerRegex);\n                        this.parts.push({\n                            type: 'attribute',\n                            index,\n                            name,\n                            strings: statics,\n                            sanitizer: undefined\n                        });\n                        partIndex += statics.length - 1;\n                    }\n                }\n                if (node.tagName === 'TEMPLATE') {\n                    stack.push(node);\n                    walker.currentNode = node.content;\n                }\n            }\n            else if (node.nodeType === 3 /* Node.TEXT_NODE */) {\n                const data = node.data;\n                if (data.indexOf(marker) >= 0) {\n                    const parent = node.parentNode;\n                    const strings = data.split(markerRegex);\n                    const lastIndex = strings.length - 1;\n                    // Generate a new text node for each literal section\n                    // These nodes are also used as the markers for node parts\n                    for (let i = 0; i < lastIndex; i++) {\n                        let insert;\n                        let s = strings[i];\n                        if (s === '') {\n                            insert = createMarker();\n                        }\n                        else {\n                            const match = lastAttributeNameRegex.exec(s);\n                            if (match !== null && endsWith(match[2], boundAttributeSuffix)) {\n                                s = s.slice(0, match.index) + match[1] +\n                                    match[2].slice(0, -boundAttributeSuffix.length) + match[3];\n                            }\n                            insert = document.createTextNode(s);\n                        }\n                        parent.insertBefore(insert, node);\n                        this.parts.push({ type: 'node', index: ++index });\n                    }\n                    // If there's no text, we must insert a comment to mark our place.\n                    // Else, we can trust it will stick around after cloning.\n                    if (strings[lastIndex] === '') {\n                        parent.insertBefore(createMarker(), node);\n                        nodesToRemove.push(node);\n                    }\n                    else {\n                        node.data = strings[lastIndex];\n                    }\n                    // We have a part for each match found\n                    partIndex += lastIndex;\n                }\n            }\n            else if (node.nodeType === 8 /* Node.COMMENT_NODE */) {\n                if (node.data === marker) {\n                    const parent = node.parentNode;\n                    // Add a new marker node to be the startNode of the Part if any of\n                    // the following are true:\n                    //  * We don't have a previousSibling\n                    //  * The previousSibling is already the start of a previous part\n                    if (node.previousSibling === null || index === lastPartIndex) {\n                        index++;\n                        parent.insertBefore(createMarker(), node);\n                    }\n                    lastPartIndex = index;\n                    this.parts.push({ type: 'node', index });\n                    // If we don't have a nextSibling, keep this node so we have an end.\n                    // Else, we can remove it to save future costs.\n                    if (node.nextSibling === null) {\n                        node.data = '';\n                    }\n                    else {\n                        nodesToRemove.push(node);\n                        index--;\n                    }\n                    partIndex++;\n                }\n                else {\n                    let i = -1;\n                    while ((i = node.data.indexOf(marker, i + 1)) !== -1) {\n                        // Comment node has a binding marker inside, make an inactive part\n                        // The binding won't work, but subsequent bindings will\n                        // TODO (justinfagnani): consider whether it's even worth it to\n                        // make bindings in comments work\n                        this.parts.push({ type: 'node', index: -1 });\n                        partIndex++;\n                    }\n                }\n            }\n        }\n        // Remove text binding nodes after the walk to not disturb the TreeWalker\n        for (const n of nodesToRemove) {\n            n.parentNode.removeChild(n);\n        }\n    }\n}\nconst endsWith = (str, suffix) => {\n    const index = str.length - suffix.length;\n    return index >= 0 && str.slice(index) === suffix;\n};\nconst isTemplatePartActive = (part) => part.index !== -1;\n/**\n * Used to clone existing node instead of each time creating new one which is\n * slower\n */\nconst markerNode = document.createComment('');\n// Allows `document.createComment('')` to be renamed for a\n// small manual size-savings.\nconst createMarker = () => markerNode.cloneNode();\n/**\n * This regex extracts the attribute name preceding an attribute-position\n * expression. It does this by matching the syntax allowed for attributes\n * against the string literal directly preceding the expression, assuming that\n * the expression is in an attribute-value position.\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#elements-attributes\n *\n * \" \\x09\\x0a\\x0c\\x0d\" are HTML space characters:\n * https://www.w3.org/TR/html5/infrastructure.html#space-characters\n *\n * \"\\0-\\x1F\\x7F-\\x9F\" are Unicode control characters, which includes every\n * space character except \" \".\n *\n * So an attribute is:\n *  * The name: any character except a control character, space character, ('),\n *    (\"), \">\", \"=\", or \"/\"\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nconst lastAttributeNameRegex = \n// eslint-disable-next-line no-control-regex\n/([ \\x09\\x0a\\x0c\\x0d])([^\\0-\\x1F\\x7F-\\x9F \"'>=/]+)([ \\x09\\x0a\\x0c\\x0d]*=[ \\x09\\x0a\\x0c\\x0d]*(?:[^ \\x09\\x0a\\x0c\\x0d\"'`<>=]*|\"[^\"]*|'[^']*))$/;\n\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * An instance of a `Template` that can be attached to the DOM and updated\n * with new values.\n */\nclass TemplateInstance {\n    constructor(template, processor, options) {\n        this.__parts = [];\n        this.template = template;\n        this.processor = processor;\n        this.options = options;\n    }\n    update(values) {\n        let i = 0;\n        for (const part of this.__parts) {\n            if (part !== undefined) {\n                part.setValue(values[i]);\n            }\n            i++;\n        }\n        for (const part of this.__parts) {\n            if (part !== undefined) {\n                part.commit();\n            }\n        }\n    }\n    _clone() {\n        // There are a number of steps in the lifecycle of a template instance's\n        // DOM fragment:\n        //  1. Clone - create the instance fragment\n        //  2. Adopt - adopt into the main document\n        //  3. Process - find part markers and create parts\n        //  4. Upgrade - upgrade custom elements\n        //  5. Update - set node, attribute, property, etc., values\n        //  6. Connect - connect to the document. Optional and outside of this\n        //     method.\n        //\n        // We have a few constraints on the ordering of these steps:\n        //  * We need to upgrade before updating, so that property values will pass\n        //    through any property setters.\n        //  * We would like to process before upgrading so that we're sure that the\n        //    cloned fragment is inert and not disturbed by self-modifying DOM.\n        //  * We want custom elements to upgrade even in disconnected fragments.\n        //\n        // Given these constraints, with full custom elements support we would\n        // prefer the order: Clone, Process, Adopt, Upgrade, Update, Connect\n        //\n        // But Safari does not implement CustomElementRegistry#upgrade, so we\n        // can not implement that order and still have upgrade-before-update and\n        // upgrade disconnected fragments. So we instead sacrifice the\n        // process-before-upgrade constraint, since in Custom Elements v1 elements\n        // must not modify their light DOM in the constructor. We still have issues\n        // when co-existing with CEv0 elements like Polymer 1, and with polyfills\n        // that don't strictly adhere to the no-modification rule because shadow\n        // DOM, which may be created in the constructor, is emulated by being placed\n        // in the light DOM.\n        //\n        // The resulting order is on native is: Clone, Adopt, Upgrade, Process,\n        // Update, Connect. document.importNode() performs Clone, Adopt, and Upgrade\n        // in one step.\n        //\n        // The Custom Elements v1 polyfill supports upgrade(), so the order when\n        // polyfilled is the more ideal: Clone, Process, Adopt, Upgrade, Update,\n        // Connect.\n        const fragment = isCEPolyfill ?\n            this.template.element.content.cloneNode(true) :\n            document.importNode(this.template.element.content, true);\n        const stack = [];\n        const parts = this.template.parts;\n        // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n        const walker = document.createTreeWalker(fragment, 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */, null, false);\n        let partIndex = 0;\n        let nodeIndex = 0;\n        let part;\n        let node = walker.nextNode();\n        // Loop through all the nodes and parts of a template\n        while (partIndex < parts.length) {\n            part = parts[partIndex];\n            if (!isTemplatePartActive(part)) {\n                this.__parts.push(undefined);\n                partIndex++;\n                continue;\n            }\n            // Progress the tree walker until we find our next part's node.\n            // Note that multiple parts may share the same node (attribute parts\n            // on a single element), so this loop may not run at all.\n            while (nodeIndex < part.index) {\n                nodeIndex++;\n                if (node.nodeName === 'TEMPLATE') {\n                    stack.push(node);\n                    walker.currentNode = node.content;\n                }\n                if ((node = walker.nextNode()) === null) {\n                    // We've exhausted the content inside a nested template element.\n                    // Because we still have parts (the outer for-loop), we know:\n                    // - There is a template in the stack\n                    // - The walker will find a nextNode outside the template\n                    walker.currentNode = stack.pop();\n                    node = walker.nextNode();\n                }\n            }\n            // We've arrived at our part's node.\n            if (part.type === 'node') {\n                const textPart = this.processor.handleTextExpression(this.options, part);\n                textPart.insertAfterNode(node.previousSibling);\n                this.__parts.push(textPart);\n            }\n            else {\n                this.__parts.push(...this.processor.handleAttributeExpressions(node, part.name, part.strings, this.options, part));\n            }\n            partIndex++;\n        }\n        if (isCEPolyfill) {\n            document.adoptNode(fragment);\n            customElements.upgrade(fragment);\n        }\n        return fragment;\n    }\n}\n\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nlet policy;\n/**\n * Turns the value to trusted HTML. If the application uses Trusted Types the\n * value is transformed into TrustedHTML, which can be assigned to execution\n * sink. If the application doesn't use Trusted Types, the return value is the\n * same as the argument.\n */\nfunction convertConstantTemplateStringToTrustedHTML(value) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const w = window;\n    // TrustedTypes have been renamed to trustedTypes\n    // (https://github.com/WICG/trusted-types/issues/177)\n    const trustedTypes = (w.trustedTypes || w.TrustedTypes);\n    if (trustedTypes && !policy) {\n        policy = trustedTypes.createPolicy('lit-html', { createHTML: (s) => s });\n    }\n    return policy ? policy.createHTML(value) : value;\n}\nconst commentMarker = ` ${marker} `;\n/**\n * Used to clone existing node instead of each time creating new one which is\n * slower\n */\nconst emptyTemplateNode = document.createElement('template');\n/**\n * The return type of `html`, which holds a Template and the values from\n * interpolated expressions.\n */\nclass TemplateResult {\n    constructor(strings, values, type, processor) {\n        this.strings = strings;\n        this.values = values;\n        this.type = type;\n        this.processor = processor;\n    }\n    /**\n     * Returns a string of HTML used to create a `<template>` element.\n     */\n    getHTML() {\n        const l = this.strings.length - 1;\n        let html = '';\n        let isCommentBinding = false;\n        for (let i = 0; i < l; i++) {\n            const s = this.strings[i];\n            // For each binding we want to determine the kind of marker to insert\n            // into the template source before it's parsed by the browser's HTML\n            // parser. The marker type is based on whether the expression is in an\n            // attribute, text, or comment position.\n            //   * For node-position bindings we insert a comment with the marker\n            //     sentinel as its text content, like <!--{{lit-guid}}-->.\n            //   * For attribute bindings we insert just the marker sentinel for the\n            //     first binding, so that we support unquoted attribute bindings.\n            //     Subsequent bindings can use a comment marker because multi-binding\n            //     attributes must be quoted.\n            //   * For comment bindings we insert just the marker sentinel so we don't\n            //     close the comment.\n            //\n            // The following code scans the template source, but is *not* an HTML\n            // parser. We don't need to track the tree structure of the HTML, only\n            // whether a binding is inside a comment, and if not, if it appears to be\n            // the first binding in an attribute.\n            const commentOpen = s.lastIndexOf('<!--');\n            // We're in comment position if we have a comment open with no following\n            // comment close. Because <-- can appear in an attribute value there can\n            // be false positives.\n            isCommentBinding = (commentOpen > -1 || isCommentBinding) &&\n                s.indexOf('-->', commentOpen + 1) === -1;\n            // Check to see if we have an attribute-like sequence preceding the\n            // expression. This can match \"name=value\" like structures in text,\n            // comments, and attribute values, so there can be false-positives.\n            const attributeMatch = lastAttributeNameRegex.exec(s);\n            if (attributeMatch === null) {\n                // We're only in this branch if we don't have a attribute-like\n                // preceding sequence. For comments, this guards against unusual\n                // attribute values like <div foo=\"<!--${'bar'}\">. Cases like\n                // <!-- foo=${'bar'}--> are handled correctly in the attribute branch\n                // below.\n                html += s + (isCommentBinding ? commentMarker : nodeMarker);\n            }\n            else {\n                // For attributes we use just a marker sentinel, and also append a\n                // $lit$ suffix to the name to opt-out of attribute-specific parsing\n                // that IE and Edge do for style and certain SVG attributes.\n                html += s.substr(0, attributeMatch.index) + attributeMatch[1] +\n                    attributeMatch[2] + boundAttributeSuffix + attributeMatch[3] +\n                    marker;\n            }\n        }\n        html += this.strings[l];\n        return html;\n    }\n    getTemplateElement() {\n        const template = emptyTemplateNode.cloneNode();\n        // this is secure because `this.strings` is a TemplateStringsArray.\n        // TODO: validate this when\n        // https://github.com/tc39/proposal-array-is-template-object is implemented.\n        template.innerHTML =\n            convertConstantTemplateStringToTrustedHTML(this.getHTML());\n        return template;\n    }\n}\n/**\n * A TemplateResult for SVG fragments.\n *\n * This class wraps HTML in an `<svg>` tag in order to parse its contents in the\n * SVG namespace, then modifies the template to remove the `<svg>` tag so that\n * clones only container the original fragment.\n */\nclass SVGTemplateResult extends TemplateResult {\n    getHTML() {\n        return `<svg>${super.getHTML()}</svg>`;\n    }\n    getTemplateElement() {\n        const template = super.getTemplateElement();\n        const content = template.content;\n        const svgElement = content.firstChild;\n        content.removeChild(svgElement);\n        reparentNodes(content, svgElement.firstChild);\n        return template;\n    }\n}\n\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nconst isPrimitive = (value) => {\n    return (value === null ||\n        !(typeof value === 'object' || typeof value === 'function'));\n};\nconst isIterable = (value) => {\n    return Array.isArray(value) ||\n        // tslint:disable-next-line: no-any\n        !!(value && value[Symbol.iterator]);\n};\nconst identityFunction = (value) => value;\nconst noopSanitizer = (_node, _name, _type) => identityFunction;\n/**\n * A global callback used to get a sanitizer for a given field.\n */\nlet sanitizerFactory = noopSanitizer;\n/** Sets the global sanitizer factory. */\nconst setSanitizerFactory = (newSanitizer) => {\n    if (sanitizerFactory !== noopSanitizer) {\n        throw new Error(`Attempted to overwrite existing lit-html security policy.` +\n            ` setSanitizeDOMValueFactory should be called at most once.`);\n    }\n    sanitizerFactory = newSanitizer;\n};\n/**\n * Used to clone text node instead of each time creating new one which is slower\n */\nconst emptyTextNode = document.createTextNode('');\n/**\n * Writes attribute values to the DOM for a group of AttributeParts bound to a\n * single attribute. The value is only set once even if there are multiple parts\n * for an attribute.\n */\nclass AttributeCommitter {\n    constructor(element, name, strings, \n    // Next breaking change, consider making this param required.\n    templatePart, kind = 'attribute') {\n        this.dirty = true;\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n        this.parts = [];\n        let sanitizer = templatePart && templatePart.sanitizer;\n        if (sanitizer === undefined) {\n            sanitizer = sanitizerFactory(element, name, kind);\n            if (templatePart !== undefined) {\n                templatePart.sanitizer = sanitizer;\n            }\n        }\n        this.sanitizer = sanitizer;\n        for (let i = 0; i < strings.length - 1; i++) {\n            this.parts[i] = this._createPart();\n        }\n    }\n    /**\n     * Creates a single part. Override this to create a differnt type of part.\n     */\n    _createPart() {\n        return new AttributePart(this);\n    }\n    _getValue() {\n        const strings = this.strings;\n        const parts = this.parts;\n        const l = strings.length - 1;\n        // If we're assigning an attribute via syntax like:\n        //    attr=\"${foo}\"  or  attr=${foo}\n        // but not\n        //    attr=\"${foo} ${bar}\" or attr=\"${foo} baz\"\n        // then we don't want to coerce the attribute value into one long\n        // string. Instead we want to just return the value itself directly,\n        // so that sanitizeDOMValue can get the actual value rather than\n        // String(value)\n        // The exception is if v is an array, in which case we do want to smash\n        // it together into a string without calling String() on the array.\n        //\n        // This also allows trusted values (when using TrustedTypes) being\n        // assigned to DOM sinks without being stringified in the process.\n        if (l === 1 && strings[0] === '' && strings[1] === '' &&\n            parts[0] !== undefined) {\n            const v = parts[0].value;\n            if (!isIterable(v)) {\n                return v;\n            }\n        }\n        let text = '';\n        for (let i = 0; i < l; i++) {\n            text += strings[i];\n            const part = parts[i];\n            if (part !== undefined) {\n                const v = part.value;\n                if (isPrimitive(v) || !isIterable(v)) {\n                    text += typeof v === 'string' ? v : String(v);\n                }\n                else {\n                    for (const t of v) {\n                        text += typeof t === 'string' ? t : String(t);\n                    }\n                }\n            }\n        }\n        text += strings[l];\n        return text;\n    }\n    commit() {\n        if (this.dirty) {\n            this.dirty = false;\n            let value = this._getValue();\n            value = this.sanitizer(value);\n            if (typeof value === 'symbol') {\n                // Native Symbols throw if they're coerced to string.\n                value = String(value);\n            }\n            this.element.setAttribute(this.name, value);\n        }\n    }\n}\n/**\n * A Part that controls all or part of an attribute value.\n */\nclass AttributePart {\n    constructor(committer) {\n        this.value = undefined;\n        this.committer = committer;\n    }\n    setValue(value) {\n        if (value !== noChange && (!isPrimitive(value) || value !== this.value)) {\n            this.value = value;\n            // If the value is a not a directive, dirty the committer so that it'll\n            // call setAttribute. If the value is a directive, it'll dirty the\n            // committer if it calls setValue().\n            if (!isDirective(value)) {\n                this.committer.dirty = true;\n            }\n        }\n    }\n    commit() {\n        while (isDirective(this.value)) {\n            const directive = this.value;\n            this.value = noChange;\n            // tslint:disable-next-line: no-any\n            if (directive.isClass) {\n                // tslint:disable-next-line: no-any\n                directive.body(this);\n            }\n            else {\n                directive(this);\n            }\n        }\n        if (this.value === noChange) {\n            return;\n        }\n        this.committer.commit();\n    }\n}\n/**\n * A Part that controls a location within a Node tree. Like a Range, NodePart\n * has start and end locations and can set and update the Nodes between those\n * locations.\n *\n * NodeParts support several value types: primitives, Nodes, TemplateResults,\n * as well as arrays and iterables of those types.\n */\nclass NodePart {\n    constructor(options, templatePart) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        /**\n         * The sanitizer to use when writing text contents into this NodePart.\n         *\n         * We have to initialize this here rather than at the template literal level\n         * because the security of text content depends on the context into which\n         * it's written. e.g. the same text has different security requirements\n         * when a child of a <script> vs a <style> vs a <div>.\n         */\n        this.textSanitizer = undefined;\n        this.options = options;\n        this.templatePart = templatePart;\n    }\n    /**\n     * Appends this part into a container.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    appendInto(container) {\n        this.startNode = container.appendChild(createMarker());\n        this.endNode = container.appendChild(createMarker());\n    }\n    /**\n     * Inserts this part after the `ref` node (between `ref` and `ref`'s next\n     * sibling). Both `ref` and its next sibling must be static, unchanging nodes\n     * such as those that appear in a literal section of a template.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    insertAfterNode(ref) {\n        this.startNode = ref;\n        this.endNode = ref.nextSibling;\n    }\n    /**\n     * Appends this part into a parent part.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    appendIntoPart(part) {\n        part.__insert(this.startNode = createMarker());\n        part.__insert(this.endNode = createMarker());\n    }\n    /**\n     * Inserts this part after the `ref` part.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    insertAfterPart(ref) {\n        ref.__insert(this.startNode = createMarker());\n        this.endNode = ref.endNode;\n        ref.endNode = this.startNode;\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            // tslint:disable-next-line: no-any\n            if (directive.isClass) {\n                // tslint:disable-next-line: no-any\n                directive.body(this);\n            }\n            else {\n                directive(this);\n            }\n        }\n        const value = this.__pendingValue;\n        if (value === noChange) {\n            return;\n        }\n        if (isPrimitive(value)) {\n            if (value !== this.value) {\n                this.__commitText(value);\n            }\n        }\n        else if (value instanceof TemplateResult) {\n            this.__commitTemplateResult(value);\n        }\n        else if (value instanceof Node) {\n            this.__commitNode(value);\n        }\n        else if (isIterable(value)) {\n            this.__commitIterable(value);\n        }\n        else if (value === nothing) {\n            this.value = nothing;\n            this.clear();\n        }\n        else {\n            // Fallback, will render the string representation\n            this.__commitText(value);\n        }\n    }\n    __insert(node) {\n        this.endNode.parentNode.insertBefore(node, this.endNode);\n    }\n    __commitNode(value) {\n        if (this.value === value) {\n            return;\n        }\n        this.clear();\n        this.__insert(value);\n        this.value = value;\n    }\n    __commitText(value) {\n        const node = this.startNode.nextSibling;\n        value = value == null ? '' : value;\n        if (node === this.endNode.previousSibling &&\n            node.nodeType === 3 /* Node.TEXT_NODE */) {\n            // If we only have a single text node between the markers, we can just\n            // set its value, rather than replacing it.\n            if (this.textSanitizer === undefined) {\n                this.textSanitizer = sanitizerFactory(node, 'data', 'property');\n            }\n            const renderedValue = this.textSanitizer(value);\n            node.data = typeof renderedValue === 'string' ?\n                renderedValue :\n                String(renderedValue);\n        }\n        else {\n            // When setting text content, for security purposes it matters a lot what\n            // the parent is. For example, <style> and <script> need to be handled\n            // with care, while <span> does not. So first we need to put a text node\n            // into the document, then we can sanitize its contentx.\n            const textNode = emptyTextNode.cloneNode();\n            this.__commitNode(textNode);\n            if (this.textSanitizer === undefined) {\n                this.textSanitizer = sanitizerFactory(textNode, 'data', 'property');\n            }\n            const renderedValue = this.textSanitizer(value);\n            textNode.data = typeof renderedValue === 'string' ? renderedValue :\n                String(renderedValue);\n        }\n        this.value = value;\n    }\n    __commitTemplateResult(value) {\n        const template = this.options.templateFactory(value);\n        if (this.value instanceof TemplateInstance &&\n            this.value.template === template) {\n            this.value.update(value.values);\n        }\n        else {\n            // `value` is a template result that was constructed without knowledge of\n            // the parent we're about to write it into. sanitizeDOMValue hasn't been\n            // made aware of this relationship, and for scripts and style specifically\n            // this is known to be unsafe. So in the case where the user is in\n            // \"secure mode\" (i.e. when there's a sanitizeDOMValue set), we just want\n            // to forbid this because it's not a use case we want to support.\n            // We only apply this policy when sanitizerFactory has been set to\n            // prevent this from being a breaking change to the library.\n            const parent = this.endNode.parentNode;\n            if (sanitizerFactory !== noopSanitizer && parent.nodeName === 'STYLE' ||\n                parent.nodeName === 'SCRIPT') {\n                this.__commitText('/* lit-html will not write ' +\n                    'TemplateResults to scripts and styles */');\n                return;\n            }\n            // Make sure we propagate the template processor from the TemplateResult\n            // so that we use its syntax extension, etc. The template factory comes\n            // from the render function options so that it can control template\n            // caching and preprocessing.\n            const instance = new TemplateInstance(template, value.processor, this.options);\n            const fragment = instance._clone();\n            instance.update(value.values);\n            this.__commitNode(fragment);\n            this.value = instance;\n        }\n    }\n    __commitIterable(value) {\n        // For an Iterable, we create a new InstancePart per item, then set its\n        // value to the item. This is a little bit of overhead for every item in\n        // an Iterable, but it lets us recurse easily and efficiently update Arrays\n        // of TemplateResults that will be commonly returned from expressions like:\n        // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n        // If _value is an array, then the previous render was of an\n        // iterable and _value will contain the NodeParts from the previous\n        // render. If _value is not an array, clear this part and make a new\n        // array for NodeParts.\n        if (!Array.isArray(this.value)) {\n            this.value = [];\n            this.clear();\n        }\n        // Lets us keep track of how many items we stamped so we can clear leftover\n        // items from a previous render\n        const itemParts = this.value;\n        let partIndex = 0;\n        let itemPart;\n        for (const item of value) {\n            // Try to reuse an existing part\n            itemPart = itemParts[partIndex];\n            // If no existing part, create a new one\n            if (itemPart === undefined) {\n                itemPart = new NodePart(this.options, this.templatePart);\n                itemParts.push(itemPart);\n                if (partIndex === 0) {\n                    itemPart.appendIntoPart(this);\n                }\n                else {\n                    itemPart.insertAfterPart(itemParts[partIndex - 1]);\n                }\n            }\n            itemPart.setValue(item);\n            itemPart.commit();\n            partIndex++;\n        }\n        if (partIndex < itemParts.length) {\n            // Truncate the parts array so _value reflects the current state\n            itemParts.length = partIndex;\n            this.clear(itemPart && itemPart.endNode);\n        }\n    }\n    clear(startNode = this.startNode) {\n        removeNodes(this.startNode.parentNode, startNode.nextSibling, this.endNode);\n    }\n}\n/**\n * Implements a boolean attribute, roughly as defined in the HTML\n * specification.\n *\n * If the value is truthy, then the attribute is present with a value of\n * ''. If the value is falsey, the attribute is removed.\n */\nclass BooleanAttributePart {\n    constructor(element, name, strings) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        if (strings.length !== 2 || strings[0] !== '' || strings[1] !== '') {\n            throw new Error('Boolean attributes can only contain a single expression');\n        }\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            // tslint:disable-next-line: no-any\n            if (directive.isClass) {\n                // tslint:disable-next-line: no-any\n                directive.body(this);\n            }\n            else {\n                directive(this);\n            }\n        }\n        if (this.__pendingValue === noChange) {\n            return;\n        }\n        const value = !!this.__pendingValue;\n        if (this.value !== value) {\n            if (value) {\n                this.element.setAttribute(this.name, '');\n            }\n            else {\n                this.element.removeAttribute(this.name);\n            }\n            this.value = value;\n        }\n        this.__pendingValue = noChange;\n    }\n}\n/**\n * Sets attribute values for PropertyParts, so that the value is only set once\n * even if there are multiple parts for a property.\n *\n * If an expression controls the whole property value, then the value is simply\n * assigned to the property under control. If there are string literals or\n * multiple expressions, then the strings are expressions are interpolated into\n * a string first.\n */\nclass PropertyCommitter extends AttributeCommitter {\n    constructor(element, name, strings, \n    // Next breaking change, consider making this param required.\n    templatePart) {\n        super(element, name, strings, templatePart, 'property');\n        this.single =\n            (strings.length === 2 && strings[0] === '' && strings[1] === '');\n    }\n    _createPart() {\n        return new PropertyPart(this);\n    }\n    _getValue() {\n        if (this.single) {\n            return this.parts[0].value;\n        }\n        return super._getValue();\n    }\n    commit() {\n        if (this.dirty) {\n            this.dirty = false;\n            let value = this._getValue();\n            value = this.sanitizer(value);\n            // tslint:disable-next-line: no-any\n            this.element[this.name] = value;\n        }\n    }\n}\nclass PropertyPart extends AttributePart {\n}\n// Detect event listener options support. If the `capture` property is read\n// from the options object, then options are supported. If not, then the third\n// argument to add/removeEventListener is interpreted as the boolean capture\n// value so we should only pass the `capture` property.\nlet eventOptionsSupported = false;\n// Wrap into an IIFE because MS Edge <= v41 does not support having try/catch\n// blocks right into the body of a module\n(() => {\n    try {\n        const options = {\n            get capture() {\n                eventOptionsSupported = true;\n                return false;\n            }\n        };\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        window.addEventListener('test', options, options);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        window.removeEventListener('test', options, options);\n    }\n    catch (_e) {\n        // noop\n    }\n})();\nclass EventPart {\n    constructor(element, eventName, eventContext) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        this.element = element;\n        this.eventName = eventName;\n        this.eventContext = eventContext;\n        this.__boundHandleEvent = (e) => this.handleEvent(e);\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            // tslint:disable-next-line: no-any\n            if (directive.isClass) {\n                // tslint:disable-next-line: no-any\n                directive.body(this);\n            }\n            else {\n                directive(this);\n            }\n        }\n        if (this.__pendingValue === noChange) {\n            return;\n        }\n        const newListener = this.__pendingValue;\n        const oldListener = this.value;\n        const shouldRemoveListener = newListener == null ||\n            oldListener != null &&\n                (newListener.capture !== oldListener.capture ||\n                    newListener.once !== oldListener.once ||\n                    newListener.passive !== oldListener.passive);\n        const shouldAddListener = newListener != null && (oldListener == null || shouldRemoveListener);\n        if (shouldRemoveListener) {\n            this.element.removeEventListener(this.eventName, this.__boundHandleEvent, this.__options);\n        }\n        if (shouldAddListener) {\n            this.__options = getOptions(newListener);\n            this.element.addEventListener(this.eventName, this.__boundHandleEvent, this.__options);\n        }\n        this.value = newListener;\n        this.__pendingValue = noChange;\n    }\n    handleEvent(event) {\n        if (typeof this.value === 'function') {\n            this.value.call(this.eventContext || this.element, event);\n        }\n        else {\n            this.value.handleEvent(event);\n        }\n    }\n}\n// We copy options because of the inconsistent behavior of browsers when reading\n// the third argument of add/removeEventListener. IE11 doesn't support options\n// at all. Chrome 41 only reads `capture` if the argument is an object.\nconst getOptions = (o) => o &&\n    (eventOptionsSupported ?\n        { capture: o.capture, passive: o.passive, once: o.once } :\n        o.capture);\n\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * Creates Parts when a template is instantiated.\n */\nclass DefaultTemplateProcessor {\n    /**\n     * Create parts for an attribute-position binding, given the event, attribute\n     * name, and string literals.\n     *\n     * @param element The element containing the binding\n     * @param name  The attribute name\n     * @param strings The string literals. There are always at least two strings,\n     *   event for fully-controlled bindings with a single expression.\n     */\n    handleAttributeExpressions(element, name, strings, options, templatePart) {\n        const prefix = name[0];\n        if (prefix === '.') {\n            const committer = new PropertyCommitter(element, name.slice(1), strings, templatePart);\n            return committer.parts;\n        }\n        if (prefix === '@') {\n            return [new EventPart(element, name.slice(1), options.eventContext)];\n        }\n        if (prefix === '?') {\n            return [new BooleanAttributePart(element, name.slice(1), strings)];\n        }\n        const committer = new AttributeCommitter(element, name, strings, templatePart);\n        return committer.parts;\n    }\n    /**\n     * Create parts for a text-position binding.\n     * @param templateFactory\n     */\n    handleTextExpression(options, nodeTemplatePart) {\n        return new NodePart(options, nodeTemplatePart);\n    }\n}\nconst defaultTemplateProcessor = new DefaultTemplateProcessor();\n\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * The default TemplateFactory which caches Templates keyed on\n * result.type and result.strings.\n */\nfunction templateFactory(result) {\n    let templateCache = templateCaches.get(result.type);\n    if (templateCache === undefined) {\n        templateCache = {\n            stringsArray: new WeakMap(),\n            keyString: new Map()\n        };\n        templateCaches.set(result.type, templateCache);\n    }\n    let template = templateCache.stringsArray.get(result.strings);\n    if (template !== undefined) {\n        return template;\n    }\n    // If the TemplateStringsArray is new, generate a key from the strings\n    // This key is shared between all templates with identical content\n    const key = result.strings.join(marker);\n    // Check if we already have a Template for this key\n    template = templateCache.keyString.get(key);\n    if (template === undefined) {\n        // If we have not seen this key before, create a new Template\n        template = new Template(result, result.getTemplateElement());\n        // Cache the Template for this key\n        templateCache.keyString.set(key, template);\n    }\n    // Cache all future queries for this TemplateStringsArray\n    templateCache.stringsArray.set(result.strings, template);\n    return template;\n}\nconst templateCaches = new Map();\n\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nconst parts = new WeakMap();\n/**\n * Renders a template result or other value to a container.\n *\n * To update a container with new values, reevaluate the template literal and\n * call `render` with the new result.\n *\n * @param result Any value renderable by NodePart - typically a TemplateResult\n *     created by evaluating a template tag like `html` or `svg`.\n * @param container A DOM parent to render to. The entire contents are either\n *     replaced, or efficiently updated if the same result type was previous\n *     rendered there.\n * @param options RenderOptions for the entire render tree rendered to this\n *     container. Render options must *not* change between renders to the same\n *     container, as those changes will not effect previously rendered DOM.\n */\nconst render = (result, container, options) => {\n    let part = parts.get(container);\n    if (part === undefined) {\n        removeNodes(container, container.firstChild);\n        parts.set(container, part = new NodePart(Object.assign({ templateFactory }, options), undefined));\n        part.appendInto(container);\n    }\n    part.setValue(result);\n    part.commit();\n};\n\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for lit-html usage.\n// TODO(justinfagnani): inject version number at build time\nconst isBrowser = typeof window !== 'undefined';\nif (isBrowser) {\n    // If we run in the browser set version\n    (window['litHtmlVersions'] || (window['litHtmlVersions'] = [])).push('1.1.7');\n}\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n */\nconst html = (strings, ...values) => new TemplateResult(strings, values, 'html', defaultTemplateProcessor);\n/**\n * Interprets a template literal as an SVG template that can efficiently\n * render to and update a container.\n */\nconst svg = (strings, ...values) => new SVGTemplateResult(strings, values, 'svg', defaultTemplateProcessor);\n\nvar lithtml = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    html: html,\n    svg: svg,\n    DefaultTemplateProcessor: DefaultTemplateProcessor,\n    defaultTemplateProcessor: defaultTemplateProcessor,\n    directive: directive,\n    Directive: Directive,\n    isDirective: isDirective,\n    removeNodes: removeNodes,\n    reparentNodes: reparentNodes,\n    noChange: noChange,\n    nothing: nothing,\n    AttributeCommitter: AttributeCommitter,\n    AttributePart: AttributePart,\n    BooleanAttributePart: BooleanAttributePart,\n    EventPart: EventPart,\n    isIterable: isIterable,\n    isPrimitive: isPrimitive,\n    NodePart: NodePart,\n    PropertyCommitter: PropertyCommitter,\n    PropertyPart: PropertyPart,\n    get sanitizerFactory () { return sanitizerFactory; },\n    setSanitizerFactory: setSanitizerFactory,\n    parts: parts,\n    render: render,\n    templateCaches: templateCaches,\n    templateFactory: templateFactory,\n    TemplateInstance: TemplateInstance,\n    SVGTemplateResult: SVGTemplateResult,\n    TemplateResult: TemplateResult,\n    createMarker: createMarker,\n    isTemplatePartActive: isTemplatePartActive,\n    Template: Template\n});\n\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nvar __asyncValues =  function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\n/**\n * A directive that renders the items of an async iterable[1], appending new\n * values after previous values, similar to the built-in support for iterables.\n *\n * Async iterables are objects with a [Symbol.asyncIterator] method, which\n * returns an iterator who's `next()` method returns a Promise. When a new\n * value is available, the Promise resolves and the value is appended to the\n * Part controlled by the directive. If another value other than this\n * directive has been set on the Part, the iterable will no longer be listened\n * to and new values won't be written to the Part.\n *\n * [1]: https://github.com/tc39/proposal-async-iteration\n *\n * @param value An async iterable\n * @param mapper An optional function that maps from (value, index) to another\n *     value. Useful for generating templates for each item in the iterable.\n */\nconst asyncAppend = directive((value, mapper) => async (part) => {\n    var e_1, _a;\n    if (!(part instanceof NodePart)) {\n        throw new Error('asyncAppend can only be used in text bindings');\n    }\n    // If we've already set up this particular iterable, we don't need\n    // to do anything.\n    if (value === part.value) {\n        return;\n    }\n    part.value = value;\n    // We keep track of item Parts across iterations, so that we can\n    // share marker nodes between consecutive Parts.\n    let itemPart;\n    let i = 0;\n    try {\n        for (var value_1 = __asyncValues(value), value_1_1; value_1_1 = await value_1.next(), !value_1_1.done;) {\n            let v = value_1_1.value;\n            // Check to make sure that value is the still the current value of\n            // the part, and if not bail because a new value owns this part\n            if (part.value !== value) {\n                break;\n            }\n            // When we get the first value, clear the part. This lets the\n            // previous value display until we can replace it.\n            if (i === 0) {\n                part.clear();\n            }\n            // As a convenience, because functional-programming-style\n            // transforms of iterables and async iterables requires a library,\n            // we accept a mapper function. This is especially convenient for\n            // rendering a template for each item.\n            if (mapper !== undefined) {\n                // This is safe because T must otherwise be treated as unknown by\n                // the rest of the system.\n                v = mapper(v, i);\n            }\n            // Like with sync iterables, each item induces a Part, so we need\n            // to keep track of start and end nodes for the Part.\n            // Note: Because these Parts are not updatable like with a sync\n            // iterable (if we render a new value, we always clear), it may\n            // be possible to optimize away the Parts and just re-use the\n            // Part.setValue() logic.\n            let itemStartNode = part.startNode;\n            // Check to see if we have a previous item and Part\n            if (itemPart !== undefined) {\n                // Create a new node to separate the previous and next Parts\n                itemStartNode = createMarker();\n                // itemPart is currently the Part for the previous item. Set\n                // it's endNode to the node we'll use for the next Part's\n                // startNode.\n                itemPart.endNode = itemStartNode;\n                part.endNode.parentNode.insertBefore(itemStartNode, part.endNode);\n            }\n            itemPart = new NodePart(part.options, part.templatePart);\n            itemPart.insertAfterNode(itemStartNode);\n            itemPart.setValue(v);\n            itemPart.commit();\n            i++;\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (value_1_1 && !value_1_1.done && (_a = value_1.return)) await _a.call(value_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n});\n\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nvar __asyncValues$1 =  function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\n/**\n * A directive that renders the items of an async iterable[1], replacing\n * previous values with new values, so that only one value is ever rendered\n * at a time.\n *\n * Async iterables are objects with a [Symbol.asyncIterator] method, which\n * returns an iterator who's `next()` method returns a Promise. When a new\n * value is available, the Promise resolves and the value is rendered to the\n * Part controlled by the directive. If another value other than this\n * directive has been set on the Part, the iterable will no longer be listened\n * to and new values won't be written to the Part.\n *\n * [1]: https://github.com/tc39/proposal-async-iteration\n *\n * @param value An async iterable\n * @param mapper An optional function that maps from (value, index) to another\n *     value. Useful for generating templates for each item in the iterable.\n */\nconst asyncReplace = directive((value, mapper) => async (part) => {\n    var e_1, _a;\n    if (!(part instanceof NodePart)) {\n        throw new Error('asyncReplace can only be used in text bindings');\n    }\n    // If we've already set up this particular iterable, we don't need\n    // to do anything.\n    if (value === part.value) {\n        return;\n    }\n    // We nest a new part to keep track of previous item values separately\n    // of the iterable as a value itself.\n    const itemPart = new NodePart(part.options, part.templatePart);\n    part.value = value;\n    let i = 0;\n    try {\n        for (var value_1 = __asyncValues$1(value), value_1_1; value_1_1 = await value_1.next(), !value_1_1.done;) {\n            let v = value_1_1.value;\n            // Check to make sure that value is the still the current value of\n            // the part, and if not bail because a new value owns this part\n            if (part.value !== value) {\n                break;\n            }\n            // When we get the first value, clear the part. This let's the\n            // previous value display until we can replace it.\n            if (i === 0) {\n                part.clear();\n                itemPart.appendIntoPart(part);\n            }\n            // As a convenience, because functional-programming-style\n            // transforms of iterables and async iterables requires a library,\n            // we accept a mapper function. This is especially convenient for\n            // rendering a template for each item.\n            if (mapper !== undefined) {\n                // This is safe because T must otherwise be treated as unknown by\n                // the rest of the system.\n                v = mapper(v, i);\n            }\n            itemPart.setValue(v);\n            itemPart.commit();\n            i++;\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (value_1_1 && !value_1_1.done && (_a = value_1.return)) await _a.call(value_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n});\n\n/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nconst templateCaches$1 = new WeakMap();\n/**\n * Enables fast switching between multiple templates by caching the DOM nodes\n * and TemplateInstances produced by the templates.\n *\n * Example:\n *\n * ```\n * let checked = false;\n *\n * html`\n *   ${cache(checked ? html`input is checked` : html`input is not checked`)}\n * `\n * ```\n */\nconst cache = directive((value) => (part) => {\n    if (!(part instanceof NodePart)) {\n        throw new Error('cache can only be used in text bindings');\n    }\n    let templateCache = templateCaches$1.get(part);\n    if (templateCache === undefined) {\n        templateCache = new WeakMap();\n        templateCaches$1.set(part, templateCache);\n    }\n    const previousValue = part.value;\n    // First, can we update the current TemplateInstance, or do we need to move\n    // the current nodes into the cache?\n    if (previousValue instanceof TemplateInstance) {\n        if (value instanceof TemplateResult &&\n            previousValue.template === part.options.templateFactory(value)) {\n            // Same Template, just trigger an update of the TemplateInstance\n            part.setValue(value);\n            return;\n        }\n        else {\n            // Not the same Template, move the nodes from the DOM into the cache.\n            let cachedTemplate = templateCache.get(previousValue.template);\n            if (cachedTemplate === undefined) {\n                cachedTemplate = {\n                    instance: previousValue,\n                    nodes: document.createDocumentFragment(),\n                };\n                templateCache.set(previousValue.template, cachedTemplate);\n            }\n            reparentNodes(cachedTemplate.nodes, part.startNode.nextSibling, part.endNode);\n        }\n    }\n    // Next, can we reuse nodes from the cache?\n    if (value instanceof TemplateResult) {\n        const template = part.options.templateFactory(value);\n        const cachedTemplate = templateCache.get(template);\n        if (cachedTemplate !== undefined) {\n            // Move nodes out of cache\n            part.setValue(cachedTemplate.nodes);\n            part.commit();\n            // Set the Part value to the TemplateInstance so it'll update it.\n            part.value = cachedTemplate.instance;\n        }\n    }\n    part.setValue(value);\n});\n\n/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * Stores the ClassInfo object applied to a given AttributePart.\n * Used to unset existing values when a new ClassInfo object is applied.\n */\nconst previousClassesCache = new WeakMap();\n/**\n * A directive that applies CSS classes. This must be used in the `class`\n * attribute and must be the only part used in the attribute. It takes each\n * property in the `classInfo` argument and adds the property name to the\n * element's `classList` if the property value is truthy; if the property value\n * is falsey, the property name is removed from the element's `classList`. For\n * example\n * `{foo: bar}` applies the class `foo` if the value of `bar` is truthy.\n * @param classInfo {ClassInfo}\n */\nconst classMap = directive((classInfo) => (part) => {\n    if (!(part instanceof AttributePart) || (part instanceof PropertyPart) ||\n        part.committer.name !== 'class' || part.committer.parts.length > 1) {\n        throw new Error('The `classMap` directive must be used in the `class` attribute ' +\n            'and must be the only part in the attribute.');\n    }\n    const { committer } = part;\n    const { element } = committer;\n    let previousClasses = previousClassesCache.get(part);\n    if (previousClasses === undefined) {\n        // Write static classes once\n        element.className = committer.strings.join(' ');\n        previousClassesCache.set(part, previousClasses = new Set());\n    }\n    const { classList } = element;\n    // Remove old classes that no longer apply\n    // We use forEach() instead of for-of so that re don't require down-level\n    // iteration.\n    previousClasses.forEach((name) => {\n        if (!(name in classInfo)) {\n            classList.remove(name);\n            previousClasses.delete(name);\n        }\n    });\n    // Add or remove classes based on their classMap value\n    for (const name in classInfo) {\n        const value = classInfo[name];\n        // We explicitly want a loose truthy check of `value` because it seems more\n        // convenient that '' and 0 are skipped.\n        if (value != previousClasses.has(name)) {\n            if (value) {\n                classList.add(name);\n                previousClasses.add(name);\n            }\n            else {\n                classList.remove(name);\n                previousClasses.delete(name);\n            }\n        }\n    }\n});\n\n/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nconst previousValues = new WeakMap();\n/**\n * Prevents re-render of a template function until a single value or an array of\n * values changes.\n *\n * Example:\n *\n * ```js\n * html`\n *   <div>\n *     ${guard([user.id, company.id], () => html`...`)}\n *   </div>\n * ```\n *\n * In this case, the template only renders if either `user.id` or `company.id`\n * changes.\n *\n * guard() is useful with immutable data patterns, by preventing expensive work\n * until data updates.\n *\n * Example:\n *\n * ```js\n * html`\n *   <div>\n *     ${guard([immutableItems], () => immutableItems.map(i => html`${i}`))}\n *   </div>\n * ```\n *\n * In this case, items are mapped over only when the array reference changes.\n *\n * @param value the value to check before re-rendering\n * @param f the template function\n */\nconst guard = directive((value, f) => (part) => {\n    const previousValue = previousValues.get(part);\n    if (Array.isArray(value)) {\n        // Dirty-check arrays by item\n        if (Array.isArray(previousValue) &&\n            previousValue.length === value.length &&\n            value.every((v, i) => v === previousValue[i])) {\n            return;\n        }\n    }\n    else if (previousValue === value &&\n        (value !== undefined || previousValues.has(part))) {\n        // Dirty-check non-arrays by identity\n        return;\n    }\n    part.setValue(f());\n    // Copy the value if it's an array so that if it's mutated we don't forget\n    // what the previous values were.\n    previousValues.set(part, Array.isArray(value) ? Array.from(value) : value);\n});\n\n/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * For AttributeParts, sets the attribute if the value is defined and removes\n * the attribute if the value is undefined.\n *\n * For other part types, this directive is a no-op.\n */\nconst ifDefined = directive((value) => (part) => {\n    if (value === undefined && part instanceof AttributePart) {\n        if (value !== part.value) {\n            const name = part.committer.name;\n            part.committer.element.removeAttribute(name);\n        }\n    }\n    else {\n        part.setValue(value);\n    }\n});\n\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n// Helper functions for manipulating parts\n// TODO(kschaaf): Refactor into Part API?\nconst createAndInsertPart = (containerPart, beforePart) => {\n    const container = containerPart.startNode.parentNode;\n    const beforeNode = beforePart == null ? containerPart.endNode : beforePart.startNode;\n    const startNode = container.insertBefore(createMarker(), beforeNode);\n    container.insertBefore(createMarker(), beforeNode);\n    const newPart = new NodePart(containerPart.options, undefined);\n    newPart.insertAfterNode(startNode);\n    return newPart;\n};\nconst updatePart = (part, value) => {\n    part.setValue(value);\n    part.commit();\n    return part;\n};\nconst insertPartBefore = (containerPart, part, ref) => {\n    const container = containerPart.startNode.parentNode;\n    const beforeNode = ref ? ref.startNode : containerPart.endNode;\n    const endNode = part.endNode.nextSibling;\n    if (endNode !== beforeNode) {\n        reparentNodes(container, part.startNode, endNode, beforeNode);\n    }\n};\nconst removePart = (part) => {\n    removeNodes(part.startNode.parentNode, part.startNode, part.endNode.nextSibling);\n};\n// Helper for generating a map of array item to its index over a subset\n// of an array (used to lazily generate `newKeyToIndexMap` and\n// `oldKeyToIndexMap`)\nconst generateMap = (list, start, end) => {\n    const map = new Map();\n    for (let i = start; i <= end; i++) {\n        map.set(list[i], i);\n    }\n    return map;\n};\n// Stores previous ordered list of parts and map of key to index\nconst partListCache = new WeakMap();\nconst keyListCache = new WeakMap();\n/**\n * A directive that repeats a series of values (usually `TemplateResults`)\n * generated from an iterable, and updates those items efficiently when the\n * iterable changes based on user-provided `keys` associated with each item.\n *\n * Note that if a `keyFn` is provided, strict key-to-DOM mapping is maintained,\n * meaning previous DOM for a given key is moved into the new position if\n * needed, and DOM will never be reused with values for different keys (new DOM\n * will always be created for new keys). This is generally the most efficient\n * way to use `repeat` since it performs minimum unnecessary work for insertions\n * and removals.\n *\n * IMPORTANT: If providing a `keyFn`, keys *must* be unique for all items in a\n * given call to `repeat`. The behavior when two or more items have the same key\n * is undefined.\n *\n * If no `keyFn` is provided, this directive will perform similar to mapping\n * items to values, and DOM will be reused against potentially different items.\n */\nconst repeat = directive((items, keyFnOrTemplate, template) => {\n    let keyFn;\n    if (template === undefined) {\n        template = keyFnOrTemplate;\n    }\n    else if (keyFnOrTemplate !== undefined) {\n        keyFn = keyFnOrTemplate;\n    }\n    return (containerPart) => {\n        if (!(containerPart instanceof NodePart)) {\n            throw new Error('repeat can only be used in text bindings');\n        }\n        // Old part & key lists are retrieved from the last update\n        // (associated with the part for this instance of the directive)\n        const oldParts = partListCache.get(containerPart) || [];\n        const oldKeys = keyListCache.get(containerPart) || [];\n        // New part list will be built up as we go (either reused from\n        // old parts or created for new keys in this update). This is\n        // saved in the above cache at the end of the update.\n        const newParts = [];\n        // New value list is eagerly generated from items along with a\n        // parallel array indicating its key.\n        const newValues = [];\n        const newKeys = [];\n        let index = 0;\n        for (const item of items) {\n            newKeys[index] = keyFn ? keyFn(item, index) : index;\n            newValues[index] = template(item, index);\n            index++;\n        }\n        // Maps from key to index for current and previous update; these\n        // are generated lazily only when needed as a performance\n        // optimization, since they are only required for multiple\n        // non-contiguous changes in the list, which are less common.\n        let newKeyToIndexMap;\n        let oldKeyToIndexMap;\n        // Head and tail pointers to old parts and new values\n        let oldHead = 0;\n        let oldTail = oldParts.length - 1;\n        let newHead = 0;\n        let newTail = newValues.length - 1;\n        // Overview of O(n) reconciliation algorithm (general approach\n        // based on ideas found in ivi, vue, snabbdom, etc.):\n        //\n        // * We start with the list of old parts and new values (and\n        //   arrays of their respective keys), head/tail pointers into\n        //   each, and we build up the new list of parts by updating\n        //   (and when needed, moving) old parts or creating new ones.\n        //   The initial scenario might look like this (for brevity of\n        //   the diagrams, the numbers in the array reflect keys\n        //   associated with the old parts or new values, although keys\n        //   and parts/values are actually stored in parallel arrays\n        //   indexed using the same head/tail pointers):\n        //\n        //      oldHead v                 v oldTail\n        //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n        //   newParts: [ ,  ,  ,  ,  ,  ,  ]\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6] <- reflects the user's new\n        //                                      item order\n        //      newHead ^                 ^ newTail\n        //\n        // * Iterate old & new lists from both sides, updating,\n        //   swapping, or removing parts at the head/tail locations\n        //   until neither head nor tail can move.\n        //\n        // * Example below: keys at head pointers match, so update old\n        //   part 0 in-place (no need to move it) and record part 0 in\n        //   the `newParts` list. The last thing we do is advance the\n        //   `oldHead` and `newHead` pointers (will be reflected in the\n        //   next diagram).\n        //\n        //      oldHead v                 v oldTail\n        //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n        //   newParts: [0,  ,  ,  ,  ,  ,  ] <- heads matched: update 0\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldHead\n        //                                      & newHead\n        //      newHead ^                 ^ newTail\n        //\n        // * Example below: head pointers don't match, but tail\n        //   pointers do, so update part 6 in place (no need to move\n        //   it), and record part 6 in the `newParts` list. Last,\n        //   advance the `oldTail` and `oldHead` pointers.\n        //\n        //         oldHead v              v oldTail\n        //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n        //   newParts: [0,  ,  ,  ,  ,  , 6] <- tails matched: update 6\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldTail\n        //                                      & newTail\n        //         newHead ^              ^ newTail\n        //\n        // * If neither head nor tail match; next check if one of the\n        //   old head/tail items was removed. We first need to generate\n        //   the reverse map of new keys to index (`newKeyToIndexMap`),\n        //   which is done once lazily as a performance optimization,\n        //   since we only hit this case if multiple non-contiguous\n        //   changes were made. Note that for contiguous removal\n        //   anywhere in the list, the head and tails would advance\n        //   from either end and pass each other before we get to this\n        //   case and removals would be handled in the final while loop\n        //   without needing to generate the map.\n        //\n        // * Example below: The key at `oldTail` was removed (no longer\n        //   in the `newKeyToIndexMap`), so remove that part from the\n        //   DOM and advance just the `oldTail` pointer.\n        //\n        //         oldHead v           v oldTail\n        //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n        //   newParts: [0,  ,  ,  ,  ,  , 6] <- 5 not in new map: remove\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    5 and advance oldTail\n        //         newHead ^           ^ newTail\n        //\n        // * Once head and tail cannot move, any mismatches are due to\n        //   either new or moved items; if a new key is in the previous\n        //   \"old key to old index\" map, move the old part to the new\n        //   location, otherwise create and insert a new part. Note\n        //   that when moving an old part we null its position in the\n        //   oldParts array if it lies between the head and tail so we\n        //   know to skip it when the pointers get there.\n        //\n        // * Example below: neither head nor tail match, and neither\n        //   were removed; so find the `newHead` key in the\n        //   `oldKeyToIndexMap`, and move that old part's DOM into the\n        //   next head position (before `oldParts[oldHead]`). Last,\n        //   null the part in the `oldPart` array since it was\n        //   somewhere in the remaining oldParts still to be scanned\n        //   (between the head and tail pointers) so that we know to\n        //   skip that old part on future iterations.\n        //\n        //         oldHead v        v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2,  ,  ,  ,  , 6] <- stuck: update & move 2\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    into place and advance\n        //                                      newHead\n        //         newHead ^           ^ newTail\n        //\n        // * Note that for moves/insertions like the one above, a part\n        //   inserted at the head pointer is inserted before the\n        //   current `oldParts[oldHead]`, and a part inserted at the\n        //   tail pointer is inserted before `newParts[newTail+1]`. The\n        //   seeming asymmetry lies in the fact that new parts are\n        //   moved into place outside in, so to the right of the head\n        //   pointer are old parts, and to the right of the tail\n        //   pointer are new parts.\n        //\n        // * We always restart back from the top of the algorithm,\n        //   allowing matching and simple updates in place to\n        //   continue...\n        //\n        // * Example below: the head pointers once again match, so\n        //   simply update part 1 and record it in the `newParts`\n        //   array.  Last, advance both head pointers.\n        //\n        //         oldHead v        v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2, 1,  ,  ,  , 6] <- heads matched: update 1\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldHead\n        //                                      & newHead\n        //            newHead ^        ^ newTail\n        //\n        // * As mentioned above, items that were moved as a result of\n        //   being stuck (the final else clause in the code below) are\n        //   marked with null, so we always advance old pointers over\n        //   these so we're comparing the next actual old value on\n        //   either end.\n        //\n        // * Example below: `oldHead` is null (already placed in\n        //   newParts), so advance `oldHead`.\n        //\n        //            oldHead v     v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6] <- old head already used:\n        //   newParts: [0, 2, 1,  ,  ,  , 6]    advance oldHead\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]\n        //               newHead ^     ^ newTail\n        //\n        // * Note it's not critical to mark old parts as null when they\n        //   are moved from head to tail or tail to head, since they\n        //   will be outside the pointer range and never visited again.\n        //\n        // * Example below: Here the old tail key matches the new head\n        //   key, so the part at the `oldTail` position and move its\n        //   DOM to the new head position (before `oldParts[oldHead]`).\n        //   Last, advance `oldTail` and `newHead` pointers.\n        //\n        //               oldHead v  v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2, 1, 4,  ,  , 6] <- old tail matches new\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]   head: update & move 4,\n        //                                     advance oldTail & newHead\n        //               newHead ^     ^ newTail\n        //\n        // * Example below: Old and new head keys match, so update the\n        //   old head part in place, and advance the `oldHead` and\n        //   `newHead` pointers.\n        //\n        //               oldHead v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2, 1, 4, 3,   ,6] <- heads match: update 3\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance oldHead &\n        //                                      newHead\n        //                  newHead ^  ^ newTail\n        //\n        // * Once the new or old pointers move past each other then all\n        //   we have left is additions (if old list exhausted) or\n        //   removals (if new list exhausted). Those are handled in the\n        //   final while loops at the end.\n        //\n        // * Example below: `oldHead` exceeded `oldTail`, so we're done\n        //   with the main loop.  Create the remaining part and insert\n        //   it at the new head position, and the update is complete.\n        //\n        //                   (oldHead > oldTail)\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2, 1, 4, 3, 7 ,6] <- create and insert 7\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]\n        //                     newHead ^ newTail\n        //\n        // * Note that the order of the if/else clauses is not\n        //   important to the algorithm, as long as the null checks\n        //   come first (to ensure we're always working on valid old\n        //   parts) and that the final else clause comes last (since\n        //   that's where the expensive moves occur). The order of\n        //   remaining clauses is is just a simple guess at which cases\n        //   will be most common.\n        //\n        // * TODO(kschaaf) Note, we could calculate the longest\n        //   increasing subsequence (LIS) of old items in new position,\n        //   and only move those not in the LIS set. However that costs\n        //   O(nlogn) time and adds a bit more code, and only helps\n        //   make rare types of mutations require fewer moves. The\n        //   above handles removes, adds, reversal, swaps, and single\n        //   moves of contiguous items in linear time, in the minimum\n        //   number of moves. As the number of multiple moves where LIS\n        //   might help approaches a random shuffle, the LIS\n        //   optimization becomes less helpful, so it seems not worth\n        //   the code at this point. Could reconsider if a compelling\n        //   case arises.\n        while (oldHead <= oldTail && newHead <= newTail) {\n            if (oldParts[oldHead] === null) {\n                // `null` means old part at head has already been used\n                // below; skip\n                oldHead++;\n            }\n            else if (oldParts[oldTail] === null) {\n                // `null` means old part at tail has already been used\n                // below; skip\n                oldTail--;\n            }\n            else if (oldKeys[oldHead] === newKeys[newHead]) {\n                // Old head matches new head; update in place\n                newParts[newHead] =\n                    updatePart(oldParts[oldHead], newValues[newHead]);\n                oldHead++;\n                newHead++;\n            }\n            else if (oldKeys[oldTail] === newKeys[newTail]) {\n                // Old tail matches new tail; update in place\n                newParts[newTail] =\n                    updatePart(oldParts[oldTail], newValues[newTail]);\n                oldTail--;\n                newTail--;\n            }\n            else if (oldKeys[oldHead] === newKeys[newTail]) {\n                // Old head matches new tail; update and move to new tail\n                newParts[newTail] =\n                    updatePart(oldParts[oldHead], newValues[newTail]);\n                insertPartBefore(containerPart, oldParts[oldHead], newParts[newTail + 1]);\n                oldHead++;\n                newTail--;\n            }\n            else if (oldKeys[oldTail] === newKeys[newHead]) {\n                // Old tail matches new head; update and move to new head\n                newParts[newHead] =\n                    updatePart(oldParts[oldTail], newValues[newHead]);\n                insertPartBefore(containerPart, oldParts[oldTail], oldParts[oldHead]);\n                oldTail--;\n                newHead++;\n            }\n            else {\n                if (newKeyToIndexMap === undefined) {\n                    // Lazily generate key-to-index maps, used for removals &\n                    // moves below\n                    newKeyToIndexMap = generateMap(newKeys, newHead, newTail);\n                    oldKeyToIndexMap = generateMap(oldKeys, oldHead, oldTail);\n                }\n                if (!newKeyToIndexMap.has(oldKeys[oldHead])) {\n                    // Old head is no longer in new list; remove\n                    removePart(oldParts[oldHead]);\n                    oldHead++;\n                }\n                else if (!newKeyToIndexMap.has(oldKeys[oldTail])) {\n                    // Old tail is no longer in new list; remove\n                    removePart(oldParts[oldTail]);\n                    oldTail--;\n                }\n                else {\n                    // Any mismatches at this point are due to additions or\n                    // moves; see if we have an old part we can reuse and move\n                    // into place\n                    const oldIndex = oldKeyToIndexMap.get(newKeys[newHead]);\n                    const oldPart = oldIndex !== undefined ? oldParts[oldIndex] : null;\n                    if (oldPart === null) {\n                        // No old part for this value; create a new one and\n                        // insert it\n                        const newPart = createAndInsertPart(containerPart, oldParts[oldHead]);\n                        updatePart(newPart, newValues[newHead]);\n                        newParts[newHead] = newPart;\n                    }\n                    else {\n                        // Reuse old part\n                        newParts[newHead] =\n                            updatePart(oldPart, newValues[newHead]);\n                        insertPartBefore(containerPart, oldPart, oldParts[oldHead]);\n                        // This marks the old part as having been used, so that\n                        // it will be skipped in the first two checks above\n                        oldParts[oldIndex] = null;\n                    }\n                    newHead++;\n                }\n            }\n        }\n        // Add parts for any remaining new values\n        while (newHead <= newTail) {\n            // For all remaining additions, we insert before last new\n            // tail, since old pointers are no longer valid\n            const newPart = createAndInsertPart(containerPart, newParts[newTail + 1]);\n            updatePart(newPart, newValues[newHead]);\n            newParts[newHead++] = newPart;\n        }\n        // Remove any remaining unused old parts\n        while (oldHead <= oldTail) {\n            const oldPart = oldParts[oldHead++];\n            if (oldPart !== null) {\n                removePart(oldPart);\n            }\n        }\n        // Save order of new parts for next round\n        partListCache.set(containerPart, newParts);\n        keyListCache.set(containerPart, newKeys);\n    };\n});\n\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n// For each part, remember the value that was last rendered to the part by the\n// unsafeHTML directive, and the DocumentFragment that was last set as a value.\n// The DocumentFragment is used as a unique key to check if the last value\n// rendered to the part was with unsafeHTML. If not, we'll always re-render the\n// value passed to unsafeHTML.\nconst previousValues$1 = new WeakMap();\n/**\n * Used to clone existing node instead of each time creating new one which is\n * slower\n */\nconst emptyTemplateNode$1 = document.createElement('template');\n/**\n * Renders the result as HTML, rather than text.\n *\n * Note, this is unsafe to use with any user-provided input that hasn't been\n * sanitized or escaped, as it may lead to cross-site-scripting\n * vulnerabilities.\n */\nconst unsafeHTML = directive((value) => (part) => {\n    if (!(part instanceof NodePart)) {\n        throw new Error('unsafeHTML can only be used in text bindings');\n    }\n    const previousValue = previousValues$1.get(part);\n    if (previousValue !== undefined && isPrimitive(value) &&\n        value === previousValue.value && part.value === previousValue.fragment) {\n        return;\n    }\n    const template = emptyTemplateNode$1.cloneNode();\n    template.innerHTML = value; // innerHTML casts to string internally\n    const fragment = document.importNode(template.content, true);\n    part.setValue(fragment);\n    previousValues$1.set(part, { value, fragment });\n});\n\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nconst _state = new WeakMap();\n// Effectively infinity, but a SMI.\nconst _infinity = 0x7fffffff;\n/**\n * Renders one of a series of values, including Promises, to a Part.\n *\n * Values are rendered in priority order, with the first argument having the\n * highest priority and the last argument having the lowest priority. If a\n * value is a Promise, low-priority values will be rendered until it resolves.\n *\n * The priority of values can be used to create placeholder content for async\n * data. For example, a Promise with pending content can be the first,\n * highest-priority, argument, and a non_promise loading indicator template can\n * be used as the second, lower-priority, argument. The loading indicator will\n * render immediately, and the primary content will render when the Promise\n * resolves.\n *\n * Example:\n *\n *     const content = fetch('./content.txt').then(r => r.text());\n *     html`${until(content, html`<span>Loading...</span>`)}`\n */\nconst until = directive((...args) => (part) => {\n    let state = _state.get(part);\n    if (state === undefined) {\n        state = {\n            lastRenderedIndex: _infinity,\n            values: [],\n        };\n        _state.set(part, state);\n    }\n    const previousValues = state.values;\n    let previousLength = previousValues.length;\n    state.values = args;\n    for (let i = 0; i < args.length; i++) {\n        // If we've rendered a higher-priority value already, stop.\n        if (i > state.lastRenderedIndex) {\n            break;\n        }\n        const value = args[i];\n        // Render non-Promise values immediately\n        if (isPrimitive(value) ||\n            typeof value.then !== 'function') {\n            part.setValue(value);\n            state.lastRenderedIndex = i;\n            // Since a lower-priority value will never overwrite a higher-priority\n            // synchronous value, we can stop processing now.\n            break;\n        }\n        // If this is a Promise we've already handled, skip it.\n        if (i < previousLength && value === previousValues[i]) {\n            continue;\n        }\n        // We have a Promise that we haven't seen before, so priorities may have\n        // changed. Forget what we rendered before.\n        state.lastRenderedIndex = _infinity;\n        previousLength = 0;\n        Promise.resolve(value).then((resolvedValue) => {\n            const index = state.values.indexOf(value);\n            // If state.values doesn't contain the value, we've re-rendered without\n            // the value, so don't render it. Then, only render if the value is\n            // higher-priority than what's already been rendered.\n            if (index > -1 && index < state.lastRenderedIndex) {\n                state.lastRenderedIndex = index;\n                part.setValue(resolvedValue);\n                part.commit();\n            }\n        });\n    }\n});\n\nconst detached = new WeakMap();\nclass Detach extends Directive {\n    constructor(ifFn) {\n        super();\n        this.ifFn = ifFn;\n    }\n    body(part) {\n        const detach = this.ifFn();\n        const element = part.committer.element;\n        if (detach) {\n            if (!detached.has(part)) {\n                const nextSibling = element.nextSibling;\n                detached.set(part, { element, nextSibling });\n            }\n            element.remove();\n        }\n        else {\n            const data = detached.get(part);\n            if (typeof data !== 'undefined' && data !== null) {\n                data.nextSibling.parentNode.insertBefore(data.element, data.nextSibling);\n                detached.delete(part);\n            }\n        }\n    }\n}\n\nconst toRemove = [], toUpdate = [];\nclass StyleMap extends Directive {\n    constructor(styleInfo, detach = false) {\n        super();\n        this.previous = {};\n        this.style = styleInfo;\n        this.detach = detach;\n    }\n    setStyle(styleInfo) {\n        this.style = styleInfo;\n    }\n    setDetach(detach) {\n        this.detach = detach;\n    }\n    body(part) {\n        toRemove.length = 0;\n        toUpdate.length = 0;\n        // @ts-ignore\n        const element = part.committer.element;\n        const style = element.style;\n        let previous = this.previous;\n        for (const name in previous) {\n            if (this.style[name] === undefined) {\n                toRemove.push(name);\n            }\n        }\n        for (const name in this.style) {\n            const value = this.style[name];\n            const prev = previous[name];\n            if (prev !== undefined && prev === value) {\n                continue;\n            }\n            toUpdate.push(name);\n        }\n        if (toRemove.length || toUpdate.length) {\n            let parent, nextSibling;\n            if (this.detach) {\n                parent = element.parentNode;\n                if (parent) {\n                    nextSibling = element.nextSibling;\n                    element.remove();\n                }\n            }\n            for (const name of toRemove) {\n                style.removeProperty(name);\n            }\n            for (const name of toUpdate) {\n                const value = this.style[name];\n                if (!name.includes('-')) {\n                    style[name] = value;\n                }\n                else {\n                    style.setProperty(name, value);\n                }\n            }\n            if (this.detach && parent) {\n                parent.insertBefore(element, nextSibling);\n            }\n            this.previous = Object.assign({}, this.style);\n        }\n    }\n}\n\nclass Action {\n    constructor() {\n        this.isAction = true;\n    }\n}\nAction.prototype.isAction = true;\n\nconst defaultOptions = {\n    element: document.createTextNode(''),\n    axis: 'xy',\n    threshold: 10,\n    onDown(data) { },\n    onMove(data) { },\n    onUp(data) { },\n    onWheel(data) { }\n};\nconst pointerEventsExists = typeof PointerEvent !== 'undefined';\nlet id = 0;\nclass PointerAction extends Action {\n    constructor(element, data) {\n        super();\n        this.moving = '';\n        this.initialX = 0;\n        this.initialY = 0;\n        this.lastY = 0;\n        this.lastX = 0;\n        this.onPointerDown = this.onPointerDown.bind(this);\n        this.onPointerMove = this.onPointerMove.bind(this);\n        this.onPointerUp = this.onPointerUp.bind(this);\n        this.onWheel = this.onWheel.bind(this);\n        this.element = element;\n        this.id = ++id;\n        this.options = Object.assign(Object.assign({}, defaultOptions), data.pointerOptions);\n        if (pointerEventsExists) {\n            element.addEventListener('pointerdown', this.onPointerDown);\n            document.addEventListener('pointermove', this.onPointerMove);\n            document.addEventListener('pointerup', this.onPointerUp);\n        }\n        else {\n            element.addEventListener('touchstart', this.onPointerDown);\n            document.addEventListener('touchmove', this.onPointerMove, { passive: false });\n            document.addEventListener('touchend', this.onPointerUp);\n            document.addEventListener('touchcancel', this.onPointerUp);\n            element.addEventListener('mousedown', this.onPointerDown);\n            document.addEventListener('mousemove', this.onPointerMove, { passive: false });\n            document.addEventListener('mouseup', this.onPointerUp);\n        }\n    }\n    normalizeMouseWheelEvent(event) {\n        // @ts-ignore\n        let x = event.deltaX || 0;\n        // @ts-ignore\n        let y = event.deltaY || 0;\n        // @ts-ignore\n        let z = event.deltaZ || 0;\n        // @ts-ignore\n        const mode = event.deltaMode;\n        // @ts-ignore\n        const lineHeight = parseInt(getComputedStyle(event.target).getPropertyValue('line-height'));\n        let scale = 1;\n        switch (mode) {\n            case 1:\n                scale = lineHeight;\n                break;\n            case 2:\n                // @ts-ignore\n                scale = window.height;\n                break;\n        }\n        x *= scale;\n        y *= scale;\n        z *= scale;\n        return { x, y, z, event };\n    }\n    onWheel(event) {\n        const normalized = this.normalizeMouseWheelEvent(event);\n        this.options.onWheel(normalized);\n    }\n    normalizePointerEvent(event) {\n        let result = { x: 0, y: 0, pageX: 0, pageY: 0, clientX: 0, clientY: 0, screenX: 0, screenY: 0, event };\n        switch (event.type) {\n            case 'wheel':\n                const wheel = this.normalizeMouseWheelEvent(event);\n                result.x = wheel.x;\n                result.y = wheel.y;\n                result.pageX = result.x;\n                result.pageY = result.y;\n                result.screenX = result.x;\n                result.screenY = result.y;\n                result.clientX = result.x;\n                result.clientY = result.y;\n                break;\n            case 'touchstart':\n            case 'touchmove':\n            case 'touchend':\n            case 'touchcancel':\n                result.x = event.changedTouches[0].screenX;\n                result.y = event.changedTouches[0].screenY;\n                result.pageX = event.changedTouches[0].pageX;\n                result.pageY = event.changedTouches[0].pageY;\n                result.screenX = event.changedTouches[0].screenX;\n                result.screenY = event.changedTouches[0].screenY;\n                result.clientX = event.changedTouches[0].clientX;\n                result.clientY = event.changedTouches[0].clientY;\n                break;\n            default:\n                result.x = event.x;\n                result.y = event.y;\n                result.pageX = event.pageX;\n                result.pageY = event.pageY;\n                result.screenX = event.screenX;\n                result.screenY = event.screenY;\n                result.clientX = event.clientX;\n                result.clientY = event.clientY;\n                break;\n        }\n        return result;\n    }\n    onPointerDown(event) {\n        if (event.type === 'mousedown' && event.button !== 0)\n            return;\n        this.moving = 'xy';\n        const normalized = this.normalizePointerEvent(event);\n        this.lastX = normalized.x;\n        this.lastY = normalized.y;\n        this.initialX = normalized.x;\n        this.initialY = normalized.y;\n        this.options.onDown(normalized);\n    }\n    handleX(normalized) {\n        let movementX = normalized.x - this.lastX;\n        this.lastY = normalized.y;\n        this.lastX = normalized.x;\n        return movementX;\n    }\n    handleY(normalized) {\n        let movementY = normalized.y - this.lastY;\n        this.lastY = normalized.y;\n        this.lastX = normalized.x;\n        return movementY;\n    }\n    onPointerMove(event) {\n        if (this.moving === '' || (event.type === 'mousemove' && event.button !== 0))\n            return;\n        const normalized = this.normalizePointerEvent(event);\n        if (this.options.axis === 'x|y') {\n            let movementX = 0, movementY = 0;\n            if (this.moving === 'x' ||\n                (this.moving === 'xy' && Math.abs(normalized.x - this.initialX) > this.options.threshold)) {\n                this.moving = 'x';\n                movementX = this.handleX(normalized);\n            }\n            if (this.moving === 'y' ||\n                (this.moving === 'xy' && Math.abs(normalized.y - this.initialY) > this.options.threshold)) {\n                this.moving = 'y';\n                movementY = this.handleY(normalized);\n            }\n            this.options.onMove({\n                movementX,\n                movementY,\n                x: normalized.x,\n                y: normalized.y,\n                initialX: this.initialX,\n                initialY: this.initialY,\n                lastX: this.lastX,\n                lastY: this.lastY,\n                event\n            });\n        }\n        else if (this.options.axis === 'xy') {\n            let movementX = 0, movementY = 0;\n            if (Math.abs(normalized.x - this.initialX) > this.options.threshold) {\n                movementX = this.handleX(normalized);\n            }\n            if (Math.abs(normalized.y - this.initialY) > this.options.threshold) {\n                movementY = this.handleY(normalized);\n            }\n            this.options.onMove({\n                movementX,\n                movementY,\n                x: normalized.x,\n                y: normalized.y,\n                initialX: this.initialX,\n                initialY: this.initialY,\n                lastX: this.lastX,\n                lastY: this.lastY,\n                event\n            });\n        }\n        else if (this.options.axis === 'x') {\n            if (this.moving === 'x' ||\n                (this.moving === 'xy' && Math.abs(normalized.x - this.initialX) > this.options.threshold)) {\n                this.moving = 'x';\n                this.options.onMove({\n                    movementX: this.handleX(normalized),\n                    movementY: 0,\n                    initialX: this.initialX,\n                    initialY: this.initialY,\n                    lastX: this.lastX,\n                    lastY: this.lastY,\n                    event\n                });\n            }\n        }\n        else if (this.options.axis === 'y') {\n            let movementY = 0;\n            if (this.moving === 'y' ||\n                (this.moving === 'xy' && Math.abs(normalized.y - this.initialY) > this.options.threshold)) {\n                this.moving = 'y';\n                movementY = this.handleY(normalized);\n            }\n            this.options.onMove({\n                movementX: 0,\n                movementY,\n                x: normalized.x,\n                y: normalized.y,\n                initialX: this.initialX,\n                initialY: this.initialY,\n                lastX: this.lastX,\n                lastY: this.lastY,\n                event\n            });\n        }\n    }\n    onPointerUp(event) {\n        this.moving = '';\n        const normalized = this.normalizePointerEvent(event);\n        this.options.onUp({\n            movementX: 0,\n            movementY: 0,\n            x: normalized.x,\n            y: normalized.y,\n            initialX: this.initialX,\n            initialY: this.initialY,\n            lastX: this.lastX,\n            lastY: this.lastY,\n            event\n        });\n        this.lastY = 0;\n        this.lastX = 0;\n    }\n    destroy(element) {\n        if (pointerEventsExists) {\n            element.removeEventListener('pointerdown', this.onPointerDown);\n            document.removeEventListener('pointermove', this.onPointerMove);\n            document.removeEventListener('pointerup', this.onPointerUp);\n        }\n        else {\n            element.removeEventListener('mousedown', this.onPointerDown);\n            document.removeEventListener('mousemove', this.onPointerMove);\n            document.removeEventListener('mouseup', this.onPointerUp);\n            element.removeEventListener('touchstart', this.onPointerDown);\n            document.removeEventListener('touchmove', this.onPointerMove);\n            document.removeEventListener('touchend', this.onPointerUp);\n            document.removeEventListener('touchcancel', this.onPointerUp);\n        }\n    }\n}\n\nfunction getPublicComponentMethods(components, actionsByInstance, clone) {\n    return class PublicComponentMethods {\n        constructor(instance, vidoInstance, props = {}) {\n            this.instance = instance;\n            this.name = vidoInstance.name;\n            this.vidoInstance = vidoInstance;\n            this.props = props;\n            this.destroy = this.destroy.bind(this);\n            this.update = this.update.bind(this);\n            this.change = this.change.bind(this);\n            this.html = this.html.bind(this);\n        }\n        /**\n         * Destroy component\n         */\n        destroy() {\n            if (this.vidoInstance.debug) {\n                console.groupCollapsed(`destroying component ${this.instance}`);\n                console.log(clone({ components: components.keys(), actionsByInstance }));\n                console.trace();\n                console.groupEnd();\n            }\n            return this.vidoInstance.destroyComponent(this.instance, this.vidoInstance);\n        }\n        /**\n         * Update template - trigger rendering process\n         */\n        update() {\n            if (this.vidoInstance.debug) {\n                console.groupCollapsed(`updating component ${this.instance}`);\n                console.log(clone({ components: components.keys(), actionsByInstance }));\n                console.trace();\n                console.groupEnd();\n            }\n            return this.vidoInstance.updateTemplate(this.vidoInstance);\n        }\n        /**\n         * Change component input properties\n         * @param {any} newProps\n         */\n        change(newProps, options) {\n            if (this.vidoInstance.debug) {\n                console.groupCollapsed(`changing component ${this.instance}`);\n                console.log(clone({ props: this.props, newProps: newProps, components: components.keys(), actionsByInstance }));\n                console.trace();\n                console.groupEnd();\n            }\n            components.get(this.instance).change(newProps, options);\n        }\n        /**\n         * Get component lit-html template\n         * @param {} templateProps\n         */\n        html(templateProps = {}) {\n            const component = components.get(this.instance);\n            if (component) {\n                return component.update(templateProps, this.vidoInstance);\n            }\n            return undefined;\n        }\n        _getComponents() {\n            return components;\n        }\n        _getActions() {\n            return actionsByInstance;\n        }\n    };\n}\n\nfunction getActionsCollector(actionsByInstance) {\n    return class ActionsCollector extends Directive {\n        constructor(instance) {\n            super();\n            this.instance = instance;\n        }\n        set(actions, props) {\n            this.actions = actions;\n            this.props = props;\n            // props must be mutable! (do not do this -> {...props})\n            // because we will modify action props with onChange and can reuse existin instance\n            return this;\n        }\n        body(part) {\n            const element = part.committer.element;\n            for (const create of this.actions) {\n                if (typeof create !== 'undefined') {\n                    let exists;\n                    if (actionsByInstance.has(this.instance)) {\n                        for (const action of actionsByInstance.get(this.instance)) {\n                            if (action.componentAction.create === create && action.element === element) {\n                                exists = action;\n                                break;\n                            }\n                        }\n                    }\n                    if (!exists) {\n                        // @ts-ignore\n                        if (typeof element.vido !== 'undefined')\n                            delete element.vido;\n                        const componentAction = {\n                            create,\n                            update() { },\n                            destroy() { }\n                        };\n                        const action = { instance: this.instance, componentAction, element, props: this.props };\n                        let byInstance = [];\n                        if (actionsByInstance.has(this.instance)) {\n                            byInstance = actionsByInstance.get(this.instance);\n                        }\n                        byInstance.push(action);\n                        actionsByInstance.set(this.instance, byInstance);\n                    }\n                    else {\n                        exists.props = this.props;\n                    }\n                }\n            }\n        }\n    };\n}\n\nfunction getInternalComponentMethods(components, actionsByInstance, clone) {\n    return class InternalComponentMethods {\n        constructor(instance, vidoInstance, renderFunction, content) {\n            this.instance = instance;\n            this.vidoInstance = vidoInstance;\n            this.renderFunction = renderFunction;\n            this.content = content;\n        }\n        destroy() {\n            var _a;\n            if (this.vidoInstance.debug) {\n                console.groupCollapsed(`component destroy method fired ${this.instance}`);\n                console.log(clone({\n                    props: this.vidoInstance.props,\n                    components: components.keys(),\n                    destroyable: this.vidoInstance.destroyable,\n                    actionsByInstance\n                }));\n                console.trace();\n                console.groupEnd();\n            }\n            if (typeof ((_a = this.content) === null || _a === void 0 ? void 0 : _a.destroy) === 'function') {\n                this.content.destroy();\n            }\n            for (const d of this.vidoInstance.destroyable) {\n                d();\n            }\n            this.vidoInstance.onChangeFunctions = [];\n            this.vidoInstance.destroyable = [];\n            this.vidoInstance.update();\n        }\n        update(props = {}) {\n            if (this.vidoInstance.debug) {\n                console.groupCollapsed(`component update method fired ${this.instance}`);\n                console.log(clone({ components: components.keys(), actionsByInstance }));\n                console.trace();\n                console.groupEnd();\n            }\n            return this.renderFunction(props);\n        }\n        change(changedProps, options = { leave: false }) {\n            const props = changedProps;\n            if (this.vidoInstance.debug) {\n                console.groupCollapsed(`component change method fired ${this.instance}`);\n                console.log(clone({\n                    props,\n                    components: components.keys(),\n                    onChangeFunctions: this.vidoInstance.onChangeFunctions,\n                    changedProps,\n                    actionsByInstance\n                }));\n                console.trace();\n                console.groupEnd();\n            }\n            for (const fn of this.vidoInstance.onChangeFunctions) {\n                fn(changedProps, options);\n            }\n        }\n    };\n}\n\n/**\n * Schedule - a throttle function that uses requestAnimationFrame to limit the rate at which a function is called.\n *\n * @param {function} fn\n * @returns {function}\n */\nfunction schedule(fn) {\n    let frameId = 0;\n    function wrapperFn(argument) {\n        if (frameId) {\n            return;\n        }\n        function executeFrame() {\n            frameId = 0;\n            fn.apply(undefined, [argument]);\n        }\n        frameId = requestAnimationFrame(executeFrame);\n    }\n    return wrapperFn;\n}\n/**\n * Is object - helper function to determine if specified variable is an object\n *\n * @param {any} item\n * @returns {boolean}\n */\nfunction isObject(item) {\n    return item && typeof item === 'object' && !Array.isArray(item);\n}\n/**\n * Merge deep - helper function which will merge objects recursively - creating brand new one - like clone\n *\n * @param {object} target\n * @params {object} sources\n * @returns {object}\n */\nfunction mergeDeep(target, ...sources) {\n    const source = sources.shift();\n    if (isObject(target) && isObject(source)) {\n        for (const key in source) {\n            if (isObject(source[key])) {\n                if (typeof target[key] === 'undefined') {\n                    target[key] = {};\n                }\n                target[key] = mergeDeep(target[key], source[key]);\n            }\n            else if (Array.isArray(source[key])) {\n                target[key] = [];\n                for (let item of source[key]) {\n                    if (isObject(item)) {\n                        target[key].push(mergeDeep({}, item));\n                        continue;\n                    }\n                    target[key].push(item);\n                }\n            }\n            else {\n                target[key] = source[key];\n            }\n        }\n    }\n    if (!sources.length) {\n        return target;\n    }\n    return mergeDeep(target, ...sources);\n}\n/**\n * Clone helper function\n *\n * @param source\n * @returns {object} cloned source\n */\nfunction clone(source) {\n    if (typeof source.actions !== 'undefined') {\n        const actns = source.actions.map((action) => {\n            const result = Object.assign({}, action);\n            const props = Object.assign({}, result.props);\n            delete props.state;\n            delete props.api;\n            delete result.element;\n            result.props = props;\n            return result;\n        });\n        source.actions = actns;\n    }\n    return mergeDeep({}, source);\n}\n\n/* dev imports\nimport { render, html, directive, svg, Part } from '../lit-html';\nimport { asyncAppend } from '../lit-html/directives/async-append';\nimport { asyncReplace } from '../lit-html/directives/async-replace';\nimport { cache } from '../lit-html/directives/cache';\nimport { classMap } from '../lit-html/directives/class-map';\nimport { guard } from '../lit-html/directives/guard';\nimport { ifDefined } from '../lit-html/directives/if-defined';\nimport { repeat } from '../lit-html/directives/repeat';\nimport { unsafeHTML } from '../lit-html/directives/unsafe-html';\nimport { until } from '../lit-html/directives/until';\nimport { Directive } from '../lit-html/lib/directive';\n*/\n/**\n * Vido library\n *\n * @param {any} state - state management for the view (can be anything)\n * @param {any} api - some api's or other globally available services\n * @returns {object} vido instance\n */\nfunction Vido(state, api) {\n    let componentId = 0;\n    const components = new Map();\n    let actionsByInstance = new Map();\n    let app, element;\n    let shouldUpdateCount = 0;\n    const resolved = Promise.resolve();\n    const additionalMethods = {};\n    const ActionsCollector = getActionsCollector(actionsByInstance);\n    class InstanceActionsCollector {\n        constructor(instance) {\n            this.instance = instance;\n        }\n        create(actions, props) {\n            const actionsInstance = new ActionsCollector(this.instance);\n            actionsInstance.set(actions, props);\n            return actionsInstance;\n        }\n    }\n    const PublicComponentMethods = getPublicComponentMethods(components, actionsByInstance, clone);\n    const InternalComponentMethods = getInternalComponentMethods(components, actionsByInstance, clone);\n    class vido {\n        constructor() {\n            this.destroyable = [];\n            this.onChangeFunctions = [];\n            this.debug = false;\n            this.state = state;\n            this.api = api;\n            this.lastProps = {};\n            this.html = html;\n            this.svg = svg;\n            this.directive = directive;\n            this.asyncAppend = asyncAppend;\n            this.asyncReplace = asyncReplace;\n            this.cache = cache;\n            this.classMap = classMap;\n            this.guard = guard;\n            this.ifDefined = ifDefined;\n            this.repeat = repeat;\n            this.unsafeHTML = unsafeHTML;\n            this.until = until;\n            this.schedule = schedule;\n            this.actionsByInstance = (componentActions, props) => { };\n            this.StyleMap = StyleMap;\n            this.Detach = Detach;\n            this.PointerAction = PointerAction;\n            this.Action = Action;\n            this._components = components;\n            this._actions = actionsByInstance;\n            this.reuseComponents = this.reuseComponents.bind(this);\n            this.onDestroy = this.onDestroy.bind(this);\n            this.onChange = this.onChange.bind(this);\n            this.update = this.update.bind(this);\n            for (const name in additionalMethods) {\n                this[name] = additionalMethods[name];\n            }\n        }\n        addMethod(name, body) {\n            additionalMethods[name] = body;\n        }\n        onDestroy(fn) {\n            this.destroyable.push(fn);\n        }\n        onChange(fn) {\n            this.onChangeFunctions.push(fn);\n        }\n        update(callback) {\n            return this.updateTemplate(callback);\n        }\n        /**\n         * Reuse existing components when your data was changed\n         *\n         * @param {array} currentComponents - array of components\n         * @param {array} dataArray  - any data as array for each component\n         * @param {function} getProps - you can pass params to component from array item ( example: item=>({id:item.id}) )\n         * @param {function} component - what kind of components do you want to create?\n         * @param {boolean} leaveTail - leave last elements and do not destroy corresponding components\n         * @returns {array} of components (with updated/destroyed/created ones)\n         */\n        reuseComponents(currentComponents, dataArray, getProps, component, leaveTail = true) {\n            const modified = [];\n            const currentLen = currentComponents.length;\n            const dataLen = dataArray.length;\n            let leave = false;\n            if (leaveTail && (dataArray === undefined || dataArray.length === 0)) {\n                leave = true;\n            }\n            let leaveStartingAt = 0;\n            if (currentLen < dataLen) {\n                let diff = dataLen - currentLen;\n                while (diff) {\n                    const item = dataArray[dataLen - diff];\n                    const newComponent = this.createComponent(component, getProps(item));\n                    currentComponents.push(newComponent);\n                    modified.push(newComponent.instance);\n                    diff--;\n                }\n            }\n            else if (currentLen > dataLen) {\n                let diff = currentLen - dataLen;\n                if (leaveTail) {\n                    leave = true;\n                    leaveStartingAt = currentLen - diff;\n                }\n                while (diff) {\n                    const index = currentLen - diff;\n                    if (!leaveTail) {\n                        modified.push(currentComponents[index].instance);\n                        currentComponents[index].destroy();\n                    }\n                    diff--;\n                }\n                if (!leaveTail) {\n                    currentComponents.length = dataLen;\n                }\n            }\n            let index = 0;\n            for (const component of currentComponents) {\n                const item = dataArray[index];\n                if (!modified.includes(component.instance)) {\n                    component.change(getProps(item), { leave: leave && index >= leaveStartingAt });\n                }\n                index++;\n            }\n        }\n        createComponent(component, props = {}, content = null) {\n            const instance = component.name + ':' + componentId++;\n            let vidoInstance;\n            vidoInstance = new vido();\n            vidoInstance.instance = instance;\n            vidoInstance.name = component.name;\n            vidoInstance.Actions = new InstanceActionsCollector(instance);\n            const publicMethods = new PublicComponentMethods(instance, vidoInstance, props);\n            const internalMethods = new InternalComponentMethods(instance, vidoInstance, component(vidoInstance, props, content), content);\n            components.set(instance, internalMethods);\n            components.get(instance).change(props);\n            if (vidoInstance.debug) {\n                console.groupCollapsed(`component created ${instance}`);\n                console.log(clone({ props, components: components.keys(), actionsByInstance }));\n                console.trace();\n                console.groupEnd();\n            }\n            return publicMethods;\n        }\n        destroyComponent(instance, vidoInstance) {\n            if (vidoInstance.debug) {\n                console.groupCollapsed(`destroying component ${instance}...`);\n                console.log(clone({ components: components.keys(), actionsByInstance }));\n                console.trace();\n                console.groupEnd();\n            }\n            if (actionsByInstance.has(instance)) {\n                for (const action of actionsByInstance.get(instance)) {\n                    if (typeof action.componentAction.destroy === 'function') {\n                        action.componentAction.destroy(action.element, action.props);\n                    }\n                }\n            }\n            actionsByInstance.delete(instance);\n            const component = components.get(instance);\n            component.update();\n            component.destroy();\n            components.delete(instance);\n            if (vidoInstance.debug) {\n                console.groupCollapsed(`component destroyed ${instance}`);\n                console.log(clone({ components: components.keys(), actionsByInstance }));\n                console.trace();\n                console.groupEnd();\n            }\n        }\n        executeActions() {\n            var _a, _b, _c;\n            for (const actions of actionsByInstance.values()) {\n                for (const action of actions) {\n                    if (action.element.vido === undefined) {\n                        const componentAction = action.componentAction;\n                        const create = componentAction.create;\n                        if (typeof create !== 'undefined') {\n                            let result;\n                            if (((_a = create.prototype) === null || _a === void 0 ? void 0 : _a.isAction) !== true &&\n                                create.isAction === undefined &&\n                                ((_b = create.prototype) === null || _b === void 0 ? void 0 : _b.update) === undefined &&\n                                ((_c = create.prototype) === null || _c === void 0 ? void 0 : _c.destroy) === undefined) {\n                                result = create(action.element, action.props);\n                            }\n                            else {\n                                result = new create(action.element, action.props);\n                            }\n                            if (result !== undefined) {\n                                if (typeof result === 'function') {\n                                    componentAction.destroy = result;\n                                }\n                                else {\n                                    if (typeof result.update === 'function') {\n                                        componentAction.update = result.update.bind(result);\n                                    }\n                                    if (typeof result.destroy === 'function') {\n                                        componentAction.destroy = result.destroy.bind(result);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    else {\n                        action.element.vido = action.props;\n                        if (typeof action.componentAction.update === 'function') {\n                            action.componentAction.update(action.element, action.props);\n                        }\n                    }\n                }\n                for (const action of actions) {\n                    action.element.vido = action.props;\n                }\n            }\n        }\n        updateTemplate(callback) {\n            return new Promise((resolve) => {\n                const currentShouldUpdateCount = ++shouldUpdateCount;\n                const self = this;\n                function flush() {\n                    if (currentShouldUpdateCount === shouldUpdateCount) {\n                        shouldUpdateCount = 0;\n                        self.render();\n                        if (typeof callback === 'function')\n                            callback();\n                        resolve();\n                    }\n                }\n                resolved.then(flush);\n            });\n        }\n        createApp(config) {\n            element = config.element;\n            const App = this.createComponent(config.component, config.props);\n            app = App.instance;\n            this.render();\n            return App;\n        }\n        render() {\n            const appComponent = components.get(app);\n            if (appComponent) {\n                render(appComponent.update(), element);\n                this.executeActions();\n            }\n            else if (element) {\n                element.remove();\n            }\n        }\n    }\n    return new vido();\n}\nVido.prototype.lithtml = lithtml;\nVido.prototype.Action = Action;\nVido.prototype.Directive = Directive;\nVido.prototype.schedule = schedule;\nVido.prototype.Detach = Detach;\nVido.prototype.StyleMap = StyleMap;\nVido.prototype.PointerAction = PointerAction;\nVido.prototype.asyncAppend = asyncAppend;\nVido.prototype.asyncReplace = asyncReplace;\nVido.prototype.cache = cache;\nVido.prototype.classMap = classMap;\nVido.prototype.guard = guard;\nVido.prototype.ifDefined = ifDefined;\nVido.prototype.repeat = repeat;\nVido.prototype.unsafeHTML = unsafeHTML;\nVido.prototype.unti = until;\n\n/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser$1 = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser$1 || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser$1 || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser$1) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\n/**\n * Main component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\nfunction Main(vido, props = {}) {\n    const { api, state, onDestroy, Actions, update, createComponent, html, StyleMap, schedule } = vido;\n    const componentName = api.name;\n    // Initialize plugins\n    onDestroy(state.subscribe('config.plugins', plugins => {\n        if (typeof plugins !== 'undefined' && Array.isArray(plugins)) {\n            for (const initializePlugin of plugins) {\n                const destroyPlugin = initializePlugin(vido);\n                if (typeof destroyPlugin === 'function') {\n                    onDestroy(destroyPlugin);\n                }\n                else if (destroyPlugin && destroyPlugin.hasOwnProperty('destroy')) {\n                    destroyPlugin.destroy();\n                }\n            }\n        }\n    }));\n    const componentSubs = [];\n    let ListComponent;\n    componentSubs.push(state.subscribe('config.components.List', value => (ListComponent = value)));\n    let ChartComponent;\n    componentSubs.push(state.subscribe('config.components.Chart', value => (ChartComponent = value)));\n    const List = createComponent(ListComponent);\n    onDestroy(List.destroy);\n    const Chart = createComponent(ChartComponent);\n    onDestroy(Chart.destroy);\n    onDestroy(() => {\n        componentSubs.forEach(unsub => unsub());\n    });\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.Main', value => (wrapper = value)));\n    const componentActions = api.getActions('main');\n    let className, classNameVerticalScroll;\n    const styleMap = new StyleMap({}), verticalScrollStyleMap = new StyleMap({}), verticalScrollAreaStyleMap = new StyleMap({});\n    let verticalScrollBarElement;\n    let rowsHeight = 0;\n    let resizerActive = false;\n    /**\n     * Update class names\n     * @param {object} classNames\n     */\n    const updateClassNames = classNames => {\n        const config = state.get('config');\n        className = api.getClass(componentName, { config });\n        if (resizerActive) {\n            className += ` ${componentName}__list-column-header-resizer--active`;\n        }\n        classNameVerticalScroll = api.getClass('vertical-scroll', { config });\n        update();\n    };\n    onDestroy(state.subscribe('config.classNames', updateClassNames));\n    /**\n     * Height change\n     */\n    function heightChange() {\n        const config = state.get('config');\n        const scrollBarHeight = state.get('_internal.scrollBarHeight');\n        const height = config.height - config.headerHeight - scrollBarHeight;\n        state.update('_internal.height', height);\n        styleMap.style['--height'] = config.height + 'px';\n        verticalScrollStyleMap.style.height = height + 'px';\n        verticalScrollStyleMap.style.width = scrollBarHeight + 'px';\n        verticalScrollStyleMap.style['margin-top'] = config.headerHeight + 'px';\n        update();\n    }\n    onDestroy(state.subscribeAll(['config.height', 'config.headerHeight', '_internal.scrollBarHeight'], heightChange));\n    /**\n     * Resizer active change\n     * @param {boolean} active\n     */\n    function resizerActiveChange(active) {\n        resizerActive = active;\n        className = api.getClass(api.name);\n        if (resizerActive) {\n            className += ` ${api.name}__list-column-header-resizer--active`;\n        }\n        update();\n    }\n    onDestroy(state.subscribe('_internal.list.columns.resizer.active', resizerActiveChange));\n    /**\n     * Generate tree\n     * @param {object} bulk\n     * @param {object} eventInfo\n     */\n    function generateTree(bulk, eventInfo) {\n        if (state.get('_internal.flatTreeMap').length && eventInfo.type === 'subscribe') {\n            return;\n        }\n        const configRows = state.get('config.list.rows');\n        const rows = [];\n        for (const rowId in configRows) {\n            rows.push(configRows[rowId]);\n        }\n        api.fillEmptyRowValues(rows);\n        const configItems = state.get('config.chart.items');\n        const items = [];\n        for (const itemId in configItems) {\n            items.push(configItems[itemId]);\n        }\n        api.prepareItems(items);\n        const treeMap = api.makeTreeMap(rows, items);\n        state.update('_internal.treeMap', treeMap);\n        const flatTreeMapById = api.getFlatTreeMapById(treeMap);\n        state.update('_internal.flatTreeMapById', flatTreeMapById);\n        const flatTreeMap = api.flattenTreeMap(treeMap);\n        state.update('_internal.flatTreeMap', flatTreeMap);\n        update();\n    }\n    onDestroy(state.subscribeAll(['config.list.rows;', 'config.chart.items;'], generateTree));\n    onDestroy(state.subscribeAll(['config.list.rows.*.parentId', 'config.chart.items.*.rowId'], generateTree, { bulk: true }));\n    function prepareExpanded() {\n        const configRows = state.get('config.list.rows');\n        const rowsWithParentsExpanded = api.getRowsFromIds(api.getRowsWithParentsExpanded(state.get('_internal.flatTreeMap'), state.get('_internal.flatTreeMapById'), configRows), configRows);\n        rowsHeight = api.getRowsHeight(rowsWithParentsExpanded);\n        state.update('_internal.list.rowsHeight', rowsHeight);\n        state.update('_internal.list.rowsWithParentsExpanded', rowsWithParentsExpanded);\n        update();\n    }\n    onDestroy(state.subscribeAll(['config.list.rows.*.expanded', '_internal.treeMap;', 'config.list.rows.*.height'], prepareExpanded, { bulk: true }));\n    /**\n     * Generate visible rows\n     */\n    function generateVisibleRowsAndItems() {\n        const { visibleRows, compensation } = api.getVisibleRowsAndCompensation(state.get('_internal.list.rowsWithParentsExpanded'));\n        const smoothScroll = state.get('config.scroll.smooth');\n        const currentVisibleRows = state.get('_internal.list.visibleRows');\n        let shouldUpdate = true;\n        state.update('config.scroll.compensation.y', smoothScroll ? -compensation : 0);\n        if (visibleRows.length !== currentVisibleRows.length) {\n            shouldUpdate = true;\n        }\n        else if (visibleRows.length) {\n            shouldUpdate = visibleRows.some((row, index) => {\n                if (typeof currentVisibleRows[index] === 'undefined') {\n                    return true;\n                }\n                return row.id !== currentVisibleRows[index].id;\n            });\n        }\n        if (shouldUpdate) {\n            state.update('_internal.list.visibleRows', visibleRows);\n        }\n        const visibleItems = [];\n        for (const row of visibleRows) {\n            for (const item of row._internal.items) {\n                visibleItems.push(item);\n            }\n        }\n        state.update('_internal.chart.visibleItems', visibleItems);\n        update();\n    }\n    onDestroy(state.subscribeAll(['_internal.list.rowsWithParentsExpanded;', 'config.scroll.top', 'config.chart.items'], generateVisibleRowsAndItems, { bulk: true }));\n    let elementScrollTop = 0;\n    function onVisibleRowsChange() {\n        const top = state.get('config.scroll.top');\n        verticalScrollAreaStyleMap.style.width = '1px';\n        verticalScrollAreaStyleMap.style.height = rowsHeight + 'px';\n        if (elementScrollTop !== top && verticalScrollBarElement) {\n            elementScrollTop = top;\n            verticalScrollBarElement.scrollTop = top;\n        }\n        update();\n    }\n    onDestroy(state.subscribe('_internal.list.visibleRows;', onVisibleRowsChange));\n    /**\n     * Generate and add period dates\n     * @param {string} period\n     * @param {object} internalTime\n     */\n    const generatePeriodDates = (period, internalTime) => {\n        const dates = [];\n        let leftGlobal = internalTime.leftGlobal;\n        const timePerPixel = internalTime.timePerPixel;\n        let startOfLeft = api.time\n            .date(leftGlobal)\n            .startOf(period)\n            .valueOf();\n        if (startOfLeft < leftGlobal)\n            startOfLeft = leftGlobal;\n        let sub = leftGlobal - startOfLeft;\n        let subPx = sub / timePerPixel;\n        let leftPx = 0;\n        const diff = Math.ceil(api.time\n            .date(internalTime.rightGlobal)\n            .endOf(period)\n            .diff(api.time.date(leftGlobal).startOf(period), period, true));\n        for (let i = 0; i < diff; i++) {\n            const date = {\n                sub,\n                subPx,\n                leftGlobal,\n                rightGlobal: api.time\n                    .date(leftGlobal)\n                    .endOf(period)\n                    .valueOf(),\n                width: 0,\n                leftPx: 0,\n                rightPx: 0,\n                period\n            };\n            date.width = (date.rightGlobal - date.leftGlobal + sub) / timePerPixel;\n            date.leftPx = leftPx;\n            leftPx += date.width;\n            date.rightPx = leftPx;\n            dates.push(date);\n            leftGlobal = date.rightGlobal + 1;\n            sub = 0;\n            subPx = 0;\n        }\n        return dates;\n    };\n    function triggerLoadedEvent() {\n        if (state.get('_internal.loadedEventTriggered'))\n            return;\n        Promise.resolve().then(() => {\n            const element = state.get('_internal.elements.main');\n            const parent = element.parentNode;\n            const event = new Event('gstc-loaded');\n            element.dispatchEvent(event);\n            parent.dispatchEvent(event);\n        });\n        state.update('_internal.loadedEventTriggered', true);\n    }\n    function limitGlobalAndSetCenter(time) {\n        if (time.leftGlobal < time.finalFrom)\n            time.leftGlobal = time.finalFrom;\n        if (time.rightGlobal > time.finalTo)\n            time.rightGlobal = time.finalTo;\n        time.centerGlobal = time.leftGlobal + Math.round((time.rightGlobal - time.leftGlobal) / 2);\n        return time;\n    }\n    function guessPeriod(time, calendar) {\n        if (!time.zoom)\n            return time;\n        for (const level of calendar.levels) {\n            const formatting = level.formats.find(format => +time.zoom <= +format.zoomTo);\n            if (formatting && level.main) {\n                time.period = formatting.period;\n            }\n        }\n        return time;\n    }\n    function updateLevels(time, calendar) {\n        time.levels = [];\n        let index = 0;\n        for (const level of calendar.levels) {\n            const formatting = level.formats.find(format => +time.zoom <= +format.zoomTo);\n            if (level.main) {\n                time.format = formatting;\n                time.level = index;\n            }\n            if (formatting) {\n                time.levels.push(generatePeriodDates(formatting.period, time));\n            }\n            index++;\n        }\n    }\n    let working = false;\n    function recalculateTimes(reason) {\n        if (working)\n            return;\n        working = true;\n        const configTime = state.get('config.chart.time');\n        const chartWidth = state.get('_internal.chart.dimensions.width');\n        const calendar = state.get('config.chart.calendar');\n        const oldTime = Object.assign({}, state.get('_internal.chart.time'));\n        let time = api.mergeDeep({}, configTime);\n        if ((!time.from || !time.to) && !Object.keys(state.get('config.chart.items')).length) {\n            return;\n        }\n        let mainLevel = calendar.levels.find(level => level.main);\n        if (!mainLevel) {\n            throw new Error('Main calendar level not found (config.chart.calendar.levels).');\n        }\n        if (!time.calculatedZoomMode) {\n            if (time.period !== oldTime.period) {\n                let periodFormat = mainLevel.formats.find(format => format.period === time.period && format.default);\n                if (periodFormat) {\n                    time.zoom = periodFormat.zoomTo;\n                }\n            }\n            guessPeriod(time, calendar);\n        }\n        // If _internal.chart.time (leftGlobal, centerGlobal, rightGlobal, from , to) was changed\n        // then we need to apply those values - no recalculation is needed (values form plugins etc)\n        const justApply = ['leftGlobal', 'centerGlobal', 'rightGlobal', 'from', 'to'].includes(reason.name);\n        if (justApply) {\n            time = Object.assign(Object.assign({}, time), { leftGlobal: configTime.leftGlobal, centerGlobal: configTime.centerGlobal, rightGlobal: configTime.rightGlobal, from: configTime.from, to: configTime.to });\n        }\n        let scrollLeft = 0;\n        // source of everything = time.timePerPixel\n        if (time.calculatedZoomMode && chartWidth) {\n            time.finalFrom = time.from;\n            time.finalTo = time.to;\n            time.totalViewDurationMs = api.time.date(time.finalTo).diff(time.finalFrom, 'milliseconds');\n            time.timePerPixel = time.totalViewDurationMs / chartWidth;\n            time.zoom = Math.log(time.timePerPixel) / Math.log(2);\n            guessPeriod(time, calendar);\n            time.totalViewDurationPx = Math.round(time.totalViewDurationMs / time.timePerPixel);\n            time.leftGlobal = time.from;\n            time.rightGlobal = time.to;\n        }\n        else {\n            time.timePerPixel = Math.pow(2, time.zoom);\n            time = api.time.recalculateFromTo(time);\n            time.totalViewDurationMs = api.time.date(time.finalTo).diff(time.finalFrom, 'milliseconds');\n            time.totalViewDurationPx = Math.round(time.totalViewDurationMs / time.timePerPixel);\n            scrollLeft = state.get('config.scroll.left');\n        }\n        if (!justApply && !time.calculatedZoomMode) {\n            // If time.zoom (or time.period) has been changed\n            // then we need to recalculate basing on time.centerGlobal\n            // and update scroll left\n            // if not then we need to calculate from scroll left\n            // because change was triggered by scroll\n            if (time.zoom !== oldTime.zoom && oldTime.centerGlobal) {\n                const chartWidthInMs = chartWidth * time.timePerPixel;\n                const halfChartInMs = Math.round(chartWidthInMs / 2);\n                time.leftGlobal = oldTime.centerGlobal - halfChartInMs;\n                time.rightGlobal = time.leftGlobal + chartWidthInMs;\n                scrollLeft = (time.leftGlobal - time.finalFrom) / time.timePerPixel;\n                scrollLeft = api.limitScrollLeft(time.totalViewDurationPx, chartWidth, scrollLeft);\n            }\n            else {\n                time.leftGlobal = scrollLeft * time.timePerPixel + time.finalFrom;\n                time.rightGlobal = time.leftGlobal + chartWidth * time.timePerPixel;\n            }\n        }\n        limitGlobalAndSetCenter(time);\n        time.leftInner = time.leftGlobal - time.finalFrom;\n        time.rightInner = time.rightGlobal - time.finalFrom;\n        time.leftPx = time.leftInner / time.timePerPixel;\n        time.rightPx = time.rightInner / time.timePerPixel;\n        updateLevels(time, calendar);\n        let xCompensation = 0;\n        if (time.levels[time.level] && time.levels[time.level].length !== 0) {\n            xCompensation = time.levels[time.level][0].subPx;\n        }\n        state.update(`_internal.chart.time`, time);\n        state.update('config.scroll.compensation.x', xCompensation);\n        state.update('config.chart.time', configTime => {\n            configTime.zoom = time.zoom;\n            configTime.period = time.format.period;\n            configTime.leftGlobal = time.leftGlobal;\n            configTime.centerGlobal = time.centerGlobal;\n            configTime.rightGlobal = time.rightGlobal;\n            configTime.from = time.from;\n            configTime.to = time.to;\n            configTime.finalFrom = time.finalFrom;\n            configTime.finalTo = time.finalTo;\n            return configTime;\n        });\n        state.update('config.scroll.left', scrollLeft);\n        update().then(() => {\n            if (!state.get('_internal.loaded.time')) {\n                state.update('_internal.loaded.time', true);\n            }\n        });\n        working = false;\n    }\n    const recalculationTriggerCache = {\n        initialized: false,\n        zoom: 0,\n        period: '',\n        scrollLeft: 0,\n        chartWidth: 0,\n        leftGlobal: 0,\n        centerGlobal: 0,\n        rightGlobal: 0,\n        from: 0,\n        to: 0\n    };\n    function recalculationIsNeeded() {\n        const configTime = state.get('config.chart.time');\n        const scrollLeft = state.get('config.scroll.left');\n        const chartWidth = state.get('_internal.chart.dimensions.width');\n        const cache = Object.assign({}, recalculationTriggerCache);\n        recalculationTriggerCache.zoom = configTime.zoom;\n        recalculationTriggerCache.period = configTime.period;\n        recalculationTriggerCache.leftGlobal = configTime.leftGlobal;\n        recalculationTriggerCache.centerGlobal = configTime.centerGlobal;\n        recalculationTriggerCache.rightGlobal = configTime.rightGlobal;\n        recalculationTriggerCache.from = configTime.from;\n        recalculationTriggerCache.to = configTime.to;\n        recalculationTriggerCache.scrollLeft = scrollLeft;\n        recalculationTriggerCache.chartWidth = chartWidth;\n        if (!recalculationTriggerCache.initialized) {\n            recalculationTriggerCache.initialized = true;\n            return { name: 'all' };\n        }\n        if (configTime.zoom !== cache.zoom)\n            return { name: 'zoom', oldValue: cache.zoom, newValue: configTime.zoom };\n        if (configTime.period !== cache.period)\n            return { name: 'period', oldValue: cache.period, newValue: configTime.period };\n        if (configTime.leftGlobal !== cache.leftGlobal)\n            return { name: 'leftGlobal', oldValue: cache.leftGlobal, newValue: configTime.leftGlobal };\n        if (configTime.centerGlobal !== cache.centerGlobal)\n            return { name: 'centerGlobal', oldValue: cache.centerGlobal, newValue: configTime.centerGlobal };\n        if (configTime.rightGlobal !== cache.rightGlobal)\n            return { name: 'rightGlobal', oldValue: cache.rightGlobal, newValue: configTime.rightGlobal };\n        if (configTime.from !== cache.from)\n            return { name: 'from', oldValue: cache.from, newValue: configTime.from };\n        if (configTime.to !== cache.to)\n            return { name: 'to', oldValue: cache.to, newValue: configTime.to };\n        if (scrollLeft !== cache.scrollLeft)\n            return { name: 'scroll', oldValue: cache.scrollLeft, newValue: scrollLeft };\n        if (chartWidth !== cache.chartWidth)\n            return { name: 'chartWidth', oldValue: cache.chartWidth, newValue: chartWidth };\n        return false;\n    }\n    onDestroy(state.subscribeAll(['config.chart.time', 'config.chart.calendar.levels', 'config.scroll.left', '_internal.chart.dimensions.width'], () => {\n        let reason = recalculationIsNeeded();\n        if (reason)\n            recalculateTimes(reason);\n    }, { bulk: true }));\n    // When time.from and time.to is not specified and items are reloaded;\n    // check if item is outside current time scope and extend it if needed\n    onDestroy(state.subscribe('config.chart.items.*.time', items => {\n        recalculateTimes({ name: 'items' });\n    }, { bulk: true }));\n    if (state.get('config.usageStatistics') === true && !localStorage.getItem('gstcus')) {\n        try {\n            fetch('https://gstc-us.neuronet.io/', {\n                method: 'POST',\n                cache: 'force-cache',\n                mode: 'cors',\n                credentials: 'omit',\n                redirect: 'follow',\n                body: JSON.stringify({ location: { href: location.href, host: location.host } })\n            }).catch(e => { });\n            localStorage.setItem('gstcus', 'true');\n        }\n        catch (e) { }\n    }\n    let scrollTop = 0;\n    let propagate = true;\n    onDestroy(state.subscribe('config.scroll.propagate', prpgt => (propagate = prpgt)));\n    /**\n     * Handle scroll Event\n     * @param {MouseEvent} event\n     */\n    function handleEvent(event) {\n        if (!propagate) {\n            event.stopPropagation();\n            event.preventDefault();\n        }\n        if (event.type === 'scroll') {\n            // @ts-ignore\n            const top = event.target.scrollTop;\n            /**\n             * Handle on scroll event\n             * @param {object} scroll\n             * @returns {object} scroll\n             */\n            const handleOnScroll = scroll => {\n                scroll.top = top;\n                scrollTop = scroll.top;\n                const scrollInner = state.get('_internal.elements.vertical-scroll-inner');\n                if (scrollInner) {\n                    const scrollHeight = scrollInner.clientHeight;\n                    scroll.percent.top = scroll.top / scrollHeight;\n                }\n                return scroll;\n            };\n            if (scrollTop !== top)\n                state.update('config.scroll', handleOnScroll, {\n                    only: ['top', 'percent.top']\n                });\n        }\n    }\n    const onScroll = {\n        handleEvent,\n        passive: false,\n        capture: false\n    };\n    const dimensions = { width: 0, height: 0 };\n    let ro;\n    /**\n     * Resize action\n     * @param {Element} element\n     */\n    class ResizeAction {\n        constructor(element) {\n            if (!ro) {\n                ro = new index((entries, observer) => {\n                    const width = element.clientWidth;\n                    const height = element.clientHeight;\n                    if (dimensions.width !== width || dimensions.height !== height) {\n                        dimensions.width = width;\n                        dimensions.height = height;\n                        state.update('_internal.dimensions', dimensions);\n                    }\n                });\n                ro.observe(element);\n                state.update('_internal.elements.main', element);\n            }\n        }\n        update() { }\n        destroy(element) {\n            ro.unobserve(element);\n        }\n    }\n    if (!componentActions.includes(ResizeAction)) {\n        componentActions.push(ResizeAction);\n    }\n    onDestroy(() => {\n        ro.disconnect();\n    });\n    /**\n     * Bind scroll element\n     * @param {HTMLElement} element\n     */\n    function bindScrollElement(element) {\n        if (!verticalScrollBarElement) {\n            verticalScrollBarElement = element;\n            state.update('_internal.elements.vertical-scroll', element);\n        }\n    }\n    onDestroy(state.subscribeAll(['_internal.loaded', '_internal.chart.time.totalViewDurationPx'], () => {\n        if (state.get('_internal.loadedEventTriggered'))\n            return;\n        const loaded = state.get('_internal.loaded');\n        if (loaded.main && loaded.chart && loaded.time && loaded['horizontal-scroll-inner']) {\n            const scroll = state.get('_internal.elements.horizontal-scroll-inner');\n            const width = state.get('_internal.chart.time.totalViewDurationPx');\n            if (scroll && scroll.clientWidth === Math.round(width)) {\n                setTimeout(triggerLoadedEvent, 0);\n            }\n        }\n    }));\n    function LoadedEventAction() {\n        state.update('_internal.loaded.main', true);\n    }\n    if (!componentActions.includes(LoadedEventAction))\n        componentActions.push(LoadedEventAction);\n    /**\n     * Bind scroll inner element\n     * @param {Element} element\n     */\n    function bindScrollInnerElement(element) {\n        if (!state.get('_internal.elements.vertical-scroll-inner'))\n            state.update('_internal.elements.vertical-scroll-inner', element);\n        if (!state.get('_internal.loaded.vertical-scroll-inner'))\n            state.update('_internal.loaded.vertical-scroll-inner', true);\n    }\n    const actionProps = Object.assign(Object.assign({}, props), { api, state });\n    const mainActions = Actions.create(componentActions, actionProps);\n    const verticalScrollActions = Actions.create([bindScrollElement]);\n    const verticalScrollAreaActions = Actions.create([bindScrollInnerElement]);\n    return templateProps => wrapper(html `\n        <div\n          data-info-url=\"https://github.com/neuronetio/gantt-schedule-timeline-calendar\"\n          class=${className}\n          style=${styleMap}\n          @scroll=${onScroll}\n          @wheel=${onScroll}\n          data-actions=${mainActions}\n        >\n          ${List.html()}${Chart.html()}\n          <div\n            class=${classNameVerticalScroll}\n            style=${verticalScrollStyleMap}\n            @scroll=${onScroll}\n            @wheel=${onScroll}\n            data-actions=${verticalScrollActions}\n          >\n            <div style=${verticalScrollAreaStyleMap} data-actions=${verticalScrollAreaActions} />\n          </div>\n        </div>\n      `, { props, vido, templateProps });\n}\n\n/**\n * List component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\nfunction List(vido, props = {}) {\n    const { api, state, onDestroy, Actions, update, reuseComponents, html, schedule, StyleMap, cache } = vido;\n    const componentName = 'list';\n    const componentActions = api.getActions(componentName);\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.List', value => (wrapper = value)));\n    let ListColumnComponent;\n    const listColumnUnsub = state.subscribe('config.components.ListColumn', value => (ListColumnComponent = value));\n    function renderExpanderIcons() {\n        const icons = state.get('config.list.expander.icons');\n        const rendered = {};\n        for (const iconName in icons) {\n            const html = icons[iconName];\n            rendered[iconName] = api.getSVGIconSrc(html);\n        }\n        state.update('_internal.list.expander.icons', rendered);\n    }\n    renderExpanderIcons();\n    function renderToggleIcons() {\n        const toggleIconsSrc = {\n            open: '',\n            close: ''\n        };\n        const icons = state.get('config.list.toggle.icons');\n        for (const iconName in icons) {\n            const html = icons[iconName];\n            toggleIconsSrc[iconName] = api.getSVGIconSrc(html);\n        }\n        state.update('_internal.list.toggle.icons', toggleIconsSrc);\n    }\n    renderToggleIcons();\n    let className;\n    let list, percent;\n    function onListChange() {\n        list = state.get('config.list');\n        percent = list.columns.percent;\n        update();\n    }\n    onDestroy(state.subscribe('config.list', onListChange));\n    onDestroy(state.subscribe('config.classNames', () => {\n        className = api.getClass(componentName, { list });\n        update();\n    }));\n    let listColumns = [];\n    function onListColumnsDataChange(data) {\n        const destroy = reuseComponents(listColumns, Object.values(data), column => ({ columnId: column.id }), ListColumnComponent);\n        update();\n        return destroy;\n    }\n    onDestroy(state.subscribe('config.list.columns.data;', onListColumnsDataChange));\n    const styleMap = new StyleMap({\n        height: '',\n        '--expander-padding-width': '',\n        '--expander-size': ''\n    });\n    onDestroy(state.subscribeAll(['config.height', 'config.list.expander'], bulk => {\n        const expander = state.get('config.list.expander');\n        styleMap.style['height'] = state.get('config.height') + 'px';\n        styleMap.style['--expander-padding-width'] = expander.padding + 'px';\n        styleMap.style['--expander-size'] = expander.size + 'px';\n        update();\n    }));\n    onDestroy(() => {\n        listColumns.forEach(listColumn => listColumn.destroy());\n        listColumnUnsub();\n    });\n    function onScroll(event) {\n        event.stopPropagation();\n        event.preventDefault();\n        if (event.type === 'scroll') {\n            state.update('config.scroll.top', event.target.scrollTop);\n        }\n        else {\n            const wheel = api.normalizeMouseWheelEvent(event);\n            state.update('config.scroll.top', top => {\n                const rowsHeight = state.get('_internal.list.rowsHeight');\n                const internalHeight = state.get('_internal.height');\n                return api.limitScrollTop(rowsHeight, internalHeight, (top += wheel.y * state.get('config.scroll.yMultiplier')));\n            });\n        }\n    }\n    let width;\n    function getWidth(element) {\n        if (!width) {\n            width = element.clientWidth;\n            if (percent === 0) {\n                width = 0;\n            }\n            state.update('_internal.list.width', width);\n        }\n    }\n    class ListAction {\n        constructor(element, data) {\n            data.state.update('_internal.elements.list', element);\n            getWidth(element);\n        }\n        update(element) {\n            return getWidth(element);\n        }\n    }\n    componentActions.push(ListAction);\n    const actions = Actions.create(componentActions, Object.assign(Object.assign({}, props), { api, state }));\n    return templateProps => wrapper(cache(list.columns.percent > 0\n        ? html `\n              <div class=${className} data-actions=${actions} style=${styleMap} @scroll=${onScroll} @wheel=${onScroll}>\n                ${listColumns.map(c => c.html())}\n              </div>\n            `\n        : ''), { vido, props: {}, templateProps });\n}\n\n/**\n * ListColumn component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\n/**\n * Bind element action\n */\nclass BindElementAction {\n    constructor(element, data) {\n        let shouldUpdate = false;\n        let elements = data.state.get('_internal.elements.list-columns');\n        if (typeof elements === 'undefined') {\n            elements = [];\n            shouldUpdate = true;\n        }\n        if (!elements.includes(element)) {\n            elements.push(element);\n            shouldUpdate = true;\n        }\n        if (shouldUpdate)\n            data.state.update('_internal.elements.list-columns', elements);\n    }\n    destroy(element, data) {\n        data.state.update('_internal.elements.list-columns', elements => {\n            return elements.filter(el => el !== element);\n        });\n    }\n}\nfunction ListColumn(vido, props) {\n    const { api, state, onDestroy, onChange, Actions, update, createComponent, reuseComponents, html, StyleMap } = vido;\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.ListColumn', value => (wrapper = value)));\n    const componentsSub = [];\n    let ListColumnRowComponent;\n    componentsSub.push(state.subscribe('config.components.ListColumnRow', value => (ListColumnRowComponent = value)));\n    let ListColumnHeaderComponent;\n    componentsSub.push(state.subscribe('config.components.ListColumnHeader', value => (ListColumnHeaderComponent = value)));\n    const actionProps = Object.assign(Object.assign({}, props), { api, state });\n    const componentName = 'list-column';\n    const rowsComponentName = componentName + '-rows';\n    const componentActions = api.getActions(componentName);\n    const rowsActions = api.getActions(rowsComponentName);\n    let className, classNameContainer, calculatedWidth;\n    const widthStyleMap = new StyleMap({ width: '', '--width': '' });\n    const containerStyleMap = new StyleMap({ width: '', height: '' });\n    const scrollCompensationStyleMap = new StyleMap({ width: '', height: '' });\n    let column, columnPath = `config.list.columns.data.${props.columnId}`;\n    let columnSub = state.subscribe(columnPath, function columnChanged(val) {\n        column = val;\n        update();\n    });\n    let width;\n    function calculateStyle() {\n        const list = state.get('config.list');\n        const compensationY = state.get('config.scroll.compensation.y');\n        calculatedWidth = list.columns.data[column.id].width * list.columns.percent * 0.01;\n        width = calculatedWidth;\n        const height = state.get('_internal.height');\n        widthStyleMap.style.width = width + 'px';\n        widthStyleMap.style['--width'] = width + 'px';\n        containerStyleMap.style.height = height + 'px';\n        scrollCompensationStyleMap.style.height = height + Math.abs(compensationY) + 'px';\n        scrollCompensationStyleMap.style.transform = `translate(0px, ${compensationY}px)`;\n    }\n    let styleSub = state.subscribeAll([\n        'config.list.columns.percent',\n        'config.list.columns.resizer.width',\n        `config.list.columns.data.${column.id}.width`,\n        '_internal.chart.dimensions.width',\n        '_internal.height',\n        'config.scroll.compensation.y',\n        '_internal.list.width'\n    ], calculateStyle, { bulk: true });\n    const ListColumnHeader = createComponent(ListColumnHeaderComponent, { columnId: props.columnId });\n    onDestroy(ListColumnHeader.destroy);\n    onChange(changedProps => {\n        props = changedProps;\n        for (const prop in props) {\n            actionProps[prop] = props[prop];\n        }\n        if (columnSub)\n            columnSub();\n        ListColumnHeader.change({ columnId: props.columnId });\n        columnPath = `config.list.columns.data.${props.columnId}`;\n        columnSub = state.subscribe(columnPath, function columnChanged(val) {\n            column = val;\n            update();\n        });\n        if (styleSub)\n            styleSub();\n        styleSub = state.subscribeAll([\n            'config.list.columns.percent',\n            'config.list.columns.resizer.width',\n            `config.list.columns.data.${column.id}.width`,\n            '_internal.chart.dimensions.width',\n            '_internal.height',\n            'config.scroll.compensation.y',\n            '_internal.list.width'\n        ], calculateStyle, { bulk: true });\n        ListColumnHeader.change(props);\n    });\n    onDestroy(() => {\n        columnSub();\n        styleSub();\n    });\n    onDestroy(state.subscribe('config.classNames', value => {\n        className = api.getClass(componentName);\n        classNameContainer = api.getClass(rowsComponentName);\n        update();\n    }));\n    const visibleRows = [];\n    const visibleRowsChange = val => {\n        const destroy = reuseComponents(visibleRows, val || [], row => row && { columnId: props.columnId, rowId: row.id, width }, ListColumnRowComponent);\n        update();\n        return destroy;\n    };\n    onDestroy(state.subscribe('_internal.list.visibleRows;', visibleRowsChange));\n    onDestroy(() => {\n        visibleRows.forEach(row => row.destroy());\n        componentsSub.forEach(unsub => unsub());\n    });\n    function getRowHtml(row) {\n        return row.html();\n    }\n    componentActions.push(BindElementAction);\n    const headerActions = Actions.create(componentActions, { column, state: state, api: api });\n    const rowActions = Actions.create(rowsActions, { api, state });\n    return templateProps => wrapper(html `\n        <div class=${className} data-actions=${headerActions} style=${widthStyleMap}>\n          ${ListColumnHeader.html()}\n          <div class=${classNameContainer} style=${containerStyleMap} data-actions=${rowActions}>\n            <div class=${classNameContainer + '--scroll-compensation'} style=${scrollCompensationStyleMap}>\n              ${visibleRows.map(getRowHtml)}\n            </div>\n          </div>\n        </div>\n      `, { vido, props, templateProps });\n}\n\n/**\n * ListColumnHeader component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\nfunction ListColumnHeader(vido, props) {\n    const { api, state, onDestroy, onChange, Actions, update, createComponent, html, cache, StyleMap } = vido;\n    const actionProps = Object.assign(Object.assign({}, props), { api, state });\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.ListColumnHeader', value => (wrapper = value)));\n    const componentName = 'list-column-header';\n    const componentActions = api.getActions(componentName);\n    const componentsSubs = [];\n    let ListColumnHeaderResizerComponent;\n    componentsSubs.push(state.subscribe('config.components.ListColumnHeaderResizer', value => (ListColumnHeaderResizerComponent = value)));\n    const ListColumnHeaderResizer = createComponent(ListColumnHeaderResizerComponent, { columnId: props.columnId });\n    let ListColumnRowExpanderComponent;\n    componentsSubs.push(state.subscribe('config.components.ListColumnRowExpander', value => (ListColumnRowExpanderComponent = value)));\n    const ListColumnRowExpander = createComponent(ListColumnRowExpanderComponent, {});\n    onDestroy(() => {\n        ListColumnHeaderResizer.destroy();\n        ListColumnRowExpander.destroy();\n        componentsSubs.forEach(unsub => unsub());\n    });\n    let column;\n    let columnSub = state.subscribe(`config.list.columns.data.${props.columnId}`, val => {\n        column = val;\n        update();\n    });\n    onDestroy(columnSub);\n    onChange(changedProps => {\n        props = changedProps;\n        for (const prop in props) {\n            actionProps[prop] = props[prop];\n        }\n        if (columnSub)\n            columnSub();\n        columnSub = state.subscribe(`config.list.columns.data.${props.columnId}`, val => {\n            column = val;\n            update();\n        });\n    });\n    let className, contentClass;\n    onDestroy(state.subscribe('config.classNames', () => {\n        className = api.getClass(componentName);\n        contentClass = api.getClass(componentName + '-content');\n    }));\n    const styleMap = new StyleMap({\n        height: '',\n        '--height': '',\n        '--paddings-count': ''\n    });\n    onDestroy(state.subscribe('config.headerHeight', () => {\n        const value = state.get('config');\n        styleMap.style['height'] = value.headerHeight + 'px';\n        styleMap.style['--height'] = value.headerHeight + 'px';\n        styleMap.style['--paddings-count'] = '1';\n        update();\n    }));\n    function withExpander() {\n        return html `\n      <div class=${contentClass}>\n        ${ListColumnRowExpander.html()}${ListColumnHeaderResizer.html(column)}\n      </div>\n    `;\n    }\n    function withoutExpander() {\n        return html `\n      <div class=${contentClass}>\n        ${ListColumnHeaderResizer.html(column)}\n      </div>\n    `;\n    }\n    const actions = Actions.create(componentActions, actionProps);\n    return templateProps => wrapper(html `\n        <div class=${className} style=${styleMap} data-actions=${actions}>\n          ${cache(column.expander ? withExpander() : withoutExpander())}\n        </div>\n      `, { vido, props, templateProps });\n}\n\n/**\n * ListColumnHeaderResizer component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\nfunction ListColumnHeaderResizer(vido, props) {\n    const { api, state, onDestroy, update, html, schedule, Actions, PointerAction, cache, StyleMap } = vido;\n    const componentName = 'list-column-header-resizer';\n    const componentActions = api.getActions(componentName);\n    const componentDotsActions = api.getActions(componentName + '-dots');\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.ListColumnHeaderResizer', value => (wrapper = value)));\n    let column;\n    onDestroy(state.subscribe(`config.list.columns.data.${props.columnId}`, val => {\n        column = val;\n        update();\n    }));\n    let className, containerClass, dotsClass, dotClass, calculatedWidth;\n    const dotsStyleMap = new StyleMap({ width: '' });\n    let inRealTime = false;\n    onDestroy(state.subscribe('config.classNames', value => {\n        className = api.getClass(componentName, { column });\n        containerClass = api.getClass(componentName + '-container', { column });\n        dotsClass = api.getClass(componentName + '-dots', { column });\n        dotClass = api.getClass(componentName + '-dots-dot', { column });\n        update();\n    }));\n    onDestroy(state.subscribeAll([\n        `config.list.columns.data.${column.id}.width`,\n        'config.list.columns.percent',\n        'config.list.columns.resizer.width',\n        'config.list.columns.resizer.inRealTime'\n    ], (value, path) => {\n        const list = state.get('config.list');\n        calculatedWidth = column.width * list.columns.percent * 0.01;\n        dotsStyleMap.style['--width'] = list.columns.resizer.width + 'px';\n        inRealTime = list.columns.resizer.inRealTime;\n        state.update('_internal.list.width', calculatedWidth);\n        update();\n    }));\n    let dots = [1, 2, 3, 4, 5, 6, 7, 8];\n    onDestroy(state.subscribe('config.list.columns.resizer.dots', value => {\n        dots = [];\n        for (let i = 0; i < value; i++) {\n            dots.push(i);\n        }\n        update();\n    }));\n    /*\n    let isMoving = false;\n    const lineStyleMap = new StyleMap({\n      '--display': 'none',\n      '--left': left + 'px'\n    });*/\n    let left = calculatedWidth;\n    const columnWidthPath = `config.list.columns.data.${column.id}.width`;\n    const actionProps = {\n        column,\n        api,\n        state,\n        pointerOptions: {\n            axis: 'x',\n            onMove: function onMove({ movementX }) {\n                let minWidth = state.get('config.list.columns.minWidth');\n                if (typeof column.minWidth === 'number') {\n                    minWidth = column.minWidth;\n                }\n                left += movementX;\n                if (left < minWidth) {\n                    left = minWidth;\n                }\n                if (inRealTime) {\n                    state.update(columnWidthPath, left);\n                }\n            }\n        }\n    };\n    componentActions.push(PointerAction);\n    const actions = Actions.create(componentActions, actionProps);\n    const dotsActions = Actions.create(componentDotsActions, actionProps);\n    return templateProps => wrapper(html `\n        <div class=${className} data-actions=${actions}>\n          <div class=${containerClass}>\n            ${cache(column.header.html\n        ? html `\n                    ${column.header.html}\n                  `\n        : column.header.content)}\n          </div>\n          <div class=${dotsClass} style=${dotsStyleMap} data-actions=${dotsActions}>\n            ${dots.map(dot => html `\n                  <div class=${dotClass} />\n                `)}\n          </div>\n        </div>\n      `, { vido, props, templateProps });\n}\n\n/**\n * ListColumnRow component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\n/**\n * Bind element action\n */\nclass BindElementAction$1 {\n    constructor(element, data) {\n        let elements = data.state.get('_internal.elements.list-column-rows');\n        let shouldUpdate = false;\n        if (typeof elements === 'undefined') {\n            shouldUpdate = true;\n            elements = [];\n        }\n        if (!elements.includes(element)) {\n            elements.push(element);\n            shouldUpdate = true;\n        }\n        if (shouldUpdate)\n            data.state.update('_internal.elements.list-column-rows', elements);\n    }\n    destroy(element, data) {\n        data.state.update('_internal.elements.list-column-rows', elements => {\n            return elements.filter(el => el !== element);\n        });\n    }\n}\nfunction ListColumnRow(vido, props) {\n    const { api, state, onDestroy, Detach, Actions, update, html, createComponent, onChange, StyleMap, unsafeHTML, PointerAction } = vido;\n    const actionProps = Object.assign(Object.assign({}, props), { api, state });\n    let shouldDetach = false;\n    const detach = new Detach(() => shouldDetach);\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.ListColumnRow', value => (wrapper = value)));\n    let ListColumnRowExpanderComponent;\n    onDestroy(state.subscribe('config.components.ListColumnRowExpander', value => (ListColumnRowExpanderComponent = value)));\n    let rowPath = `_internal.flatTreeMapById.${props.rowId}`, row = state.get(rowPath);\n    let colPath = `config.list.columns.data.${props.columnId}`, column = state.get(colPath);\n    const styleMap = new StyleMap(column.expander\n        ? {\n            height: '',\n            top: '',\n            '--height': '',\n            '--expander-padding-width': '',\n            '--expander-size': ''\n        }\n        : {\n            height: '',\n            top: '',\n            '--height': ''\n        }, true);\n    let rowSub, colSub;\n    const ListColumnRowExpander = createComponent(ListColumnRowExpanderComponent, { row });\n    const onPropsChange = (changedProps, options) => {\n        if (options.leave || changedProps.rowId === undefined || changedProps.columnId === undefined) {\n            shouldDetach = true;\n            if (rowSub)\n                rowSub();\n            if (colSub)\n                colSub();\n            update();\n            return;\n        }\n        shouldDetach = false;\n        props = changedProps;\n        for (const prop in props) {\n            actionProps[prop] = props[prop];\n        }\n        const rowId = props.rowId;\n        const columnId = props.columnId;\n        if (rowSub)\n            rowSub();\n        if (colSub)\n            colSub();\n        rowPath = `_internal.flatTreeMapById.${rowId}`;\n        colPath = `config.list.columns.data.${columnId}`;\n        rowSub = state.subscribeAll([rowPath, colPath, 'config.list.expander'], bulk => {\n            column = state.get(colPath);\n            row = state.get(rowPath);\n            if (column === undefined || row === undefined) {\n                shouldDetach = true;\n                update();\n                return;\n            }\n            if (column === undefined || row === undefined)\n                return;\n            const expander = state.get('config.list.expander');\n            // @ts-ignore\n            styleMap.setStyle({}); // we must reset style because of user specified styling\n            styleMap.style['height'] = row.height + 'px';\n            styleMap.style['--height'] = row.height + 'px';\n            if (column.expander) {\n                styleMap.style['--expander-padding-width'] = expander.padding * (row._internal.parents.length + 1) + 'px';\n            }\n            for (const parentId of row._internal.parents) {\n                const parent = state.get(`_internal.flatTreeMapById.${parentId}`);\n                if (typeof parent.style === 'object' && parent.style.constructor.name === 'Object') {\n                    if (typeof parent.style.children === 'object') {\n                        const childrenStyle = parent.style.children;\n                        for (const name in childrenStyle) {\n                            styleMap.style[name] = childrenStyle[name];\n                        }\n                    }\n                }\n            }\n            if (typeof row.style === 'object' &&\n                row.style.constructor.name === 'Object' &&\n                typeof row.style.current === 'object') {\n                const rowCurrentStyle = row.style.current;\n                for (const name in rowCurrentStyle) {\n                    styleMap.style[name] = rowCurrentStyle[name];\n                }\n            }\n            update();\n        }, { bulk: true });\n        if (ListColumnRowExpander) {\n            ListColumnRowExpander.change({ row });\n        }\n        colSub = state.subscribe(colPath, val => {\n            column = val;\n            update();\n        });\n    };\n    onChange(onPropsChange);\n    onDestroy(() => {\n        if (ListColumnRowExpander)\n            ListColumnRowExpander.destroy();\n        colSub();\n        rowSub();\n    });\n    const componentName = 'list-column-row';\n    const componentActions = api.getActions(componentName);\n    let className;\n    onDestroy(state.subscribe('config.classNames', value => {\n        className = api.getClass(componentName);\n        update();\n    }));\n    function getHtml() {\n        if (row === undefined)\n            return null;\n        if (typeof column.data === 'function')\n            return unsafeHTML(column.data(row));\n        return unsafeHTML(row[column.data]);\n    }\n    function getText() {\n        if (row === undefined)\n            return null;\n        if (typeof column.data === 'function')\n            return column.data(row);\n        return row[column.data];\n    }\n    if (!componentActions.includes(BindElementAction$1))\n        componentActions.push(BindElementAction$1);\n    actionProps.pointerOptions = {\n        axis: 'x|y',\n        onMove({ event, movementX, movementY }) {\n            event.stopPropagation();\n            event.preventDefault();\n            if (movementX) {\n                state.update('config.list.columns.percent', percent => {\n                    percent += movementX * state.get('config.scroll.xMultiplier');\n                    if (percent < 0)\n                        percent = 0;\n                    if (percent > 100)\n                        percent = 100;\n                    return percent;\n                });\n            }\n            else if (movementY) {\n                state.update('config.scroll.top', top => {\n                    top -= movementY * state.get('config.scroll.yMultiplier');\n                    const rowsHeight = state.get('_internal.list.rowsHeight');\n                    const internalHeight = state.get('_internal.height');\n                    top = api.limitScrollTop(rowsHeight, internalHeight, top);\n                    return top;\n                });\n            }\n        }\n    };\n    componentActions.push(PointerAction);\n    const actions = Actions.create(componentActions, actionProps);\n    return templateProps => wrapper(html `\n        <div detach=${detach} class=${className} style=${styleMap} data-actions=${actions}>\n          ${column.expander ? ListColumnRowExpander.html() : null}\n          <div class=${className + '-content'}>\n            ${column.isHTML ? getHtml() : getText()}\n          </div>\n        </div>\n      `, { vido, props, templateProps });\n}\n\n/**\n * ListColumnRowExpander component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\nfunction ListColumnRowExpander(vido, props) {\n    const { api, state, onDestroy, Actions, update, html, createComponent, onChange } = vido;\n    const componentName = 'list-column-row-expander';\n    const componentActions = api.getActions(componentName);\n    const actionProps = Object.assign(Object.assign({}, props), { api, state });\n    let className;\n    let ListColumnRowExpanderToggleComponent;\n    const toggleUnsub = state.subscribe('config.components.ListColumnRowExpanderToggle', value => (ListColumnRowExpanderToggleComponent = value));\n    const ListColumnRowExpanderToggle = createComponent(ListColumnRowExpanderToggleComponent, props.row ? { row: props.row } : {});\n    onDestroy(() => {\n        ListColumnRowExpanderToggle.destroy();\n        toggleUnsub();\n    });\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.ListColumnRowExpander', value => (wrapper = value)));\n    onDestroy(state.subscribe('config.classNames', value => {\n        className = api.getClass(componentName);\n        update();\n    }));\n    if (props.row) {\n        function onPropsChange(changedProps) {\n            props = changedProps;\n            for (const prop in props) {\n                actionProps[prop] = props[prop];\n            }\n            ListColumnRowExpanderToggle.change(props);\n        }\n        onChange(onPropsChange);\n    }\n    const actions = Actions.create(componentActions, actionProps);\n    return templateProps => wrapper(html `\n        <div class=${className} data-action=${actions}>\n          ${ListColumnRowExpanderToggle.html()}\n        </div>\n      `, { vido, props, templateProps });\n}\n\n/**\n * ListColumnRowExpanderToggle component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\nfunction ListColumnRowExpanderToggle(vido, props) {\n    const { api, state, onDestroy, Actions, update, html, onChange, cache } = vido;\n    const componentName = 'list-column-row-expander-toggle';\n    const actionProps = Object.assign(Object.assign({}, props), { api, state });\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.ListColumnRowExpanderToggle', value => (wrapper = value)));\n    const componentActions = api.getActions(componentName);\n    let className, classNameChild, classNameOpen, classNameClosed;\n    let expanded = false;\n    let iconChild, iconOpen, iconClosed;\n    onDestroy(state.subscribe('config.classNames', value => {\n        className = api.getClass(componentName);\n        classNameChild = className + '-child';\n        classNameOpen = className + '-open';\n        classNameClosed = className + '-closed';\n        update();\n    }));\n    onDestroy(state.subscribe('_internal.list.expander.icons', icons => {\n        if (icons) {\n            iconChild = icons.child;\n            iconOpen = icons.open;\n            iconClosed = icons.closed;\n        }\n        update();\n    }));\n    if (props.row) {\n        function expandedChange(isExpanded) {\n            expanded = isExpanded;\n            update();\n        }\n        let expandedSub;\n        function onPropsChange(changedProps) {\n            var _a, _b;\n            props = changedProps;\n            for (const prop in props) {\n                actionProps[prop] = props[prop];\n            }\n            if (expandedSub)\n                expandedSub();\n            if ((_b = (_a = props) === null || _a === void 0 ? void 0 : _a.row) === null || _b === void 0 ? void 0 : _b.id)\n                expandedSub = state.subscribe(`config.list.rows.${props.row.id}.expanded`, expandedChange);\n        }\n        onChange(onPropsChange);\n        onDestroy(function listToggleDestroy() {\n            if (expandedSub)\n                expandedSub();\n        });\n    }\n    else {\n        function expandedChange(bulk) {\n            for (const rowExpanded of bulk) {\n                if (rowExpanded.value) {\n                    expanded = true;\n                    break;\n                }\n            }\n            update();\n        }\n        onDestroy(state.subscribe('config.list.rows.*.expanded', expandedChange, { bulk: true }));\n    }\n    function toggle() {\n        expanded = !expanded;\n        if (props.row) {\n            state.update(`config.list.rows.${props.row.id}.expanded`, expanded);\n        }\n        else {\n            state.update(`config.list.rows`, rows => {\n                for (const rowId in rows) {\n                    rows[rowId].expanded = expanded;\n                }\n                return rows;\n            }, { only: ['*.expanded'] });\n        }\n    }\n    const getIcon = () => {\n        var _a, _b, _c;\n        if (iconChild) {\n            if (((_c = (_b = (_a = props.row) === null || _a === void 0 ? void 0 : _a._internal) === null || _b === void 0 ? void 0 : _b.children) === null || _c === void 0 ? void 0 : _c.length) === 0) {\n                return html `\n          <img width=\"16\" height=\"16\" class=${classNameChild} src=${iconChild} />\n        `;\n            }\n            return expanded\n                ? html `\n            <img width=\"16\" height=\"16\" class=${classNameOpen} src=${iconOpen} />\n          `\n                : html `\n            <img width=\"16\" height=\"16\" class=${classNameClosed} src=${iconClosed} />\n          `;\n        }\n        return '';\n    };\n    const actions = Actions.create(componentActions, actionProps);\n    return templateProps => wrapper(html `\n        <div class=${className} data-action=${actions} @click=${toggle}>\n          ${cache(getIcon())}\n        </div>\n      `, { vido, props, templateProps });\n}\n\n/**\n * ListToggle component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\nfunction ListToggle(vido, props = {}) {\n    const { html, onDestroy, api, state, update } = vido;\n    const componentName = 'list-toggle';\n    let className;\n    onDestroy(state.subscribe('config.classNames', classNames => {\n        className = api.getClass(componentName);\n    }));\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.ListToggle', ListToggleWrapper => (wrapper = ListToggleWrapper)));\n    let toggleIconsSrc = {\n        open: '',\n        close: ''\n    };\n    onDestroy(state.subscribe('_internal.list.toggle.icons', value => {\n        if (value) {\n            toggleIconsSrc = value;\n            update();\n        }\n    }));\n    let open = true;\n    onDestroy(state.subscribe('config.list.columns.percent', percent => (percent === 0 ? (open = false) : (open = true))));\n    function toggle(ev) {\n        state.update('config.list.columns.percent', percent => {\n            return percent === 0 ? 100 : 0;\n        });\n    }\n    return templateProps => wrapper(html `\n        <div class=${className} @click=${toggle}><img src=${open ? toggleIconsSrc.close : toggleIconsSrc.open} /></div>\n      `, { props, vido, templateProps });\n}\n\n/**\n * Chart component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\nfunction Chart(vido, props = {}) {\n    const { api, state, onDestroy, Actions, update, html, StyleMap, createComponent } = vido;\n    const componentName = 'chart';\n    const ChartCalendarComponent = state.get('config.components.ChartCalendar');\n    const ChartTimelineComponent = state.get('config.components.ChartTimeline');\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.Chart', value => (wrapper = value)));\n    const Calendar = createComponent(ChartCalendarComponent);\n    onDestroy(Calendar.destroy);\n    const Timeline = createComponent(ChartTimelineComponent);\n    onDestroy(Timeline.destroy);\n    let className, classNameScroll, classNameScrollInner, scrollElement, scrollInnerElement;\n    const componentActions = api.getActions(componentName);\n    onDestroy(state.subscribe('config.classNames', value => {\n        className = api.getClass(componentName);\n        classNameScroll = api.getClass('horizontal-scroll');\n        classNameScrollInner = api.getClass('horizontal-scroll-inner');\n        update();\n    }));\n    onDestroy(state.subscribeAll(['_internal.chart.dimensions.width', '_internal.chart.time.totalViewDurationPx'], function horizontalScroll() {\n        if (scrollElement)\n            scrollElement.style.width = state.get('_internal.chart.dimensions.width') + 'px';\n        if (scrollInnerElement)\n            scrollInnerElement.style.width = state.get('_internal.chart.time.totalViewDurationPx') + 'px';\n    }));\n    onDestroy(state.subscribe('config.scroll.left', left => {\n        if (scrollElement) {\n            scrollElement.scrollLeft = left;\n        }\n    }));\n    function onScrollHandler(event) {\n        if (event.type === 'scroll') {\n            // @ts-ignore\n            const left = event.target.scrollLeft;\n            state.update('config.scroll.left', left);\n        }\n    }\n    const onScroll = {\n        handleEvent: onScrollHandler,\n        passive: true,\n        capture: false\n    };\n    function onWheelHandler(event) {\n        if (event.type === 'wheel') {\n            const wheel = api.normalizeMouseWheelEvent(event);\n            const xMultiplier = state.get('config.scroll.xMultiplier');\n            const yMultiplier = state.get('config.scroll.yMultiplier');\n            const currentScrollLeft = state.get('config.scroll.left');\n            const totalViewDurationPx = state.get('_internal.chart.time.totalViewDurationPx');\n            if (event.shiftKey && wheel.y) {\n                const newScrollLeft = api.limitScrollLeft(totalViewDurationPx, chartWidth, currentScrollLeft + wheel.y * xMultiplier);\n                state.update('config.scroll.left', newScrollLeft); // will trigger scrollbar to move which will trigger scroll event\n            }\n            else if (event.ctrlKey && wheel.y) {\n                event.preventDefault();\n                state.update('config.chart.time.zoom', currentZoom => {\n                    if (wheel.y < 0) {\n                        return currentZoom - 1;\n                    }\n                    return currentZoom + 1;\n                });\n            }\n            else if (wheel.x) {\n                const currentScrollLeft = state.get('config.scroll.left');\n                state.update('config.scroll.left', api.limitScrollLeft(totalViewDurationPx, chartWidth, currentScrollLeft + wheel.x * xMultiplier));\n            }\n            else {\n                state.update('config.scroll.top', top => {\n                    const rowsHeight = state.get('_internal.list.rowsHeight');\n                    const internalHeight = state.get('_internal.height');\n                    return api.limitScrollTop(rowsHeight, internalHeight, (top += wheel.y * yMultiplier));\n                });\n            }\n        }\n    }\n    const onWheel = {\n        handleEvent: onWheelHandler,\n        passive: false,\n        capture: false\n    };\n    function bindElement(element) {\n        if (!scrollElement) {\n            scrollElement = element;\n            state.update('_internal.elements.horizontal-scroll', element);\n        }\n    }\n    function bindInnerScroll(element) {\n        scrollInnerElement = element;\n        const old = state.get('_internal.elements.horizontal-scroll-inner');\n        if (old !== element)\n            state.update('_internal.elements.horizontal-scroll-inner', element);\n        if (!state.get('_internal.loaded.horizontal-scroll-inner'))\n            state.update('_internal.loaded.horizontal-scroll-inner', true);\n    }\n    let chartWidth = 0;\n    let ro;\n    componentActions.push(function bindElement(element) {\n        if (!ro) {\n            ro = new index((entries, observer) => {\n                const width = element.clientWidth;\n                const height = element.clientHeight;\n                const innerWidth = width - state.get('_internal.scrollBarHeight');\n                if (chartWidth !== width) {\n                    chartWidth = width;\n                    state.update('_internal.chart.dimensions', { width, innerWidth, height });\n                }\n            });\n            ro.observe(element);\n            state.update('_internal.elements.chart', element);\n            state.update('_internal.loaded.chart', true);\n        }\n    });\n    onDestroy(() => {\n        ro.disconnect();\n    });\n    const actions = Actions.create(componentActions, { api, state });\n    const scrollActions = Actions.create([bindElement]);\n    const scrollAreaActions = Actions.create([bindInnerScroll]);\n    return templateProps => wrapper(html `\n        <div class=${className} data-actions=${actions} @wheel=${onWheel} @scroll=${onScroll}>\n          ${Calendar.html()}${Timeline.html()}\n          <div class=${classNameScroll} data-actions=${scrollActions} @scroll=${onScroll}>\n            <div class=${classNameScrollInner} style=\"height: 1px\" data-actions=${scrollAreaActions} />\n          </div>\n        </div>\n      `, { vido, props: {}, templateProps });\n}\n\n/**\n * ChartCalendar component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\nfunction ChartCalendar(vido, props) {\n    const { api, state, onDestroy, Actions, update, reuseComponents, html, StyleMap } = vido;\n    const componentName = 'chart-calendar';\n    const componentActions = api.getActions(componentName);\n    const actionProps = Object.assign(Object.assign({}, props), { api, state });\n    const ChartCalendarDateComponent = state.get('config.components.ChartCalendarDate');\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.ChartCalendar', value => (wrapper = value)));\n    let className;\n    onDestroy(state.subscribe('config.classNames', value => {\n        className = api.getClass(componentName);\n        update();\n    }));\n    let headerHeight;\n    const styleMap = new StyleMap({ height: '', '--headerHeight': '', 'margin-left': '' });\n    onDestroy(state.subscribe('config.headerHeight', value => {\n        headerHeight = value;\n        styleMap.style['height'] = headerHeight + 'px';\n        styleMap.style['--calendar-height'] = headerHeight + 'px';\n        update();\n    }));\n    onDestroy(state.subscribe('config.scroll.compensation.x', compensation => {\n        styleMap.style['margin-left'] = -compensation + 'px';\n        update();\n    }));\n    const components = [[], []];\n    onDestroy(state.subscribe(`_internal.chart.time.levels`, levels => {\n        let level = 0;\n        for (const dates of levels) {\n            if (!dates.length)\n                continue;\n            let currentDateFormat = 'YYYY-MM-DD HH'; // hour\n            switch (dates[0].period) {\n                case 'day':\n                    currentDateFormat = 'YYYY-MM-DD';\n                    break;\n                case 'week':\n                    currentDateFormat = 'YYYY-MM-ww';\n                    break;\n                case 'month':\n                    currentDateFormat = 'YYYY-MM';\n                    break;\n                case 'year':\n                    currentDateFormat = 'YYYY';\n                    break;\n            }\n            const currentDate = api.time.date().format(currentDateFormat);\n            reuseComponents(components[level], dates, date => date && { level, date, currentDate, currentDateFormat }, ChartCalendarDateComponent);\n            level++;\n        }\n        update();\n    }));\n    onDestroy(() => {\n        components.forEach(level => level.forEach(component => component.destroy()));\n    });\n    componentActions.push(element => {\n        state.update('_internal.elements.chart-calendar', element);\n    });\n    const actions = Actions.create(componentActions, actionProps);\n    return templateProps => wrapper(html `\n        <div class=${className} data-actions=${actions} style=${styleMap}>\n          ${components.map((components, level) => html `\n              <div class=${className + '-dates ' + className + `-dates--level-${level}`}>\n                ${components.map(m => m.html())}\n              </div>\n            `)}\n        </div>\n      `, { props, vido, templateProps });\n}\n\nclass Action$1 {\n    constructor() {\n        this.isAction = true;\n    }\n}\nAction$1.prototype.isAction = true;\n\n/**\n * ChartCalendarDay component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\n/**\n * Save element\n * @param {HTMLElement} element\n * @param {object} data\n */\nclass BindElementAction$2 extends Action$1 {\n    constructor(element, data) {\n        super();\n        data.state.update('_internal.elements.chart-calendar-dates', elements => {\n            if (typeof elements === 'undefined') {\n                elements = [];\n            }\n            if (!elements.includes(element)) {\n                elements.push(element);\n            }\n            return elements;\n        });\n    }\n}\nfunction ChartCalendarDay(vido, props) {\n    const { api, state, onDestroy, Actions, update, onChange, html, StyleMap, Detach } = vido;\n    const componentName = 'chart-calendar-date';\n    const componentActions = api.getActions(componentName);\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.ChartCalendarDate', value => (wrapper = value)));\n    let className;\n    onDestroy(state.subscribe('config.classNames', () => {\n        className = api.getClass(componentName, props);\n    }));\n    let current = '';\n    let time, htmlFormatted;\n    const styleMap = new StyleMap({ width: '', visibility: 'visible' }), scrollStyleMap = new StyleMap({\n        overflow: 'hidden',\n        'text-align': 'left'\n    });\n    let formatClassName = '';\n    function updateDate() {\n        if (!props)\n            return;\n        const cache = state.get('_internal.cache.calendar');\n        const level = state.get(`config.chart.calendar.levels.${props.level}`);\n        styleMap.style.width = props.date.width + 'px';\n        styleMap.style.visibility = 'visible';\n        scrollStyleMap.style = { overflow: 'hidden', 'text-align': 'left', 'margin-left': props.date.subPx + 8 + 'px' };\n        time = state.get('_internal.chart.time');\n        const cacheKey = `${new Date(props.date.leftGlobal).toISOString()}-${props.date.period}-${props.level}-${time.zoom}`;\n        if (!cache[cacheKey]) {\n            cache[cacheKey] = {};\n        }\n        let timeStart, timeEnd;\n        {\n            timeStart = api.time.date(props.date.leftGlobal);\n            timeEnd = api.time.date(props.date.rightGlobal);\n            cache[cacheKey].timeStart = timeStart;\n            cache[cacheKey].timeEnd = timeEnd;\n        }\n        const formats = level.formats;\n        const formatting = formats.find(formatting => +time.zoom <= +formatting.zoomTo);\n        let format;\n        {\n            format = formatting ? formatting.format({ timeStart, timeEnd, className, vido, props }) : null;\n            cache[cacheKey].format = format;\n        }\n        {\n            if (timeStart.format(props.currentDateFormat) === props.currentDate) {\n                current = ' gstc-current';\n            }\n            else if (timeStart.subtract(1, props.date.period).format(props.currentDateFormat) === props.currentDate) {\n                current = ' gstc-next';\n            }\n            else if (timeStart.add(1, props.date.period).format(props.currentDateFormat) === props.currentDate) {\n                current = ' gstc-previous';\n            }\n            else {\n                current = '';\n            }\n            cache[cacheKey].current = current;\n        }\n        let finalClassName = className + '-content ' + className + `-content--${props.date.period}` + current;\n        if (formatting.className) {\n            finalClassName += ' ' + formatting.className;\n            formatClassName = ' ' + formatting.className;\n        }\n        else {\n            formatClassName = '';\n        }\n        // updating cache state is not necessary because it is object and nobody listen to cache\n        htmlFormatted = html `\n      <div class=${finalClassName}>\n        ${format}\n      </div>\n    `;\n        update();\n    }\n    let shouldDetach = false;\n    const detach = new Detach(() => shouldDetach);\n    let timeSub;\n    const actionProps = { date: props.date, period: props.period, api, state };\n    onChange((changedProps, options) => {\n        if (options.leave) {\n            shouldDetach = true;\n            return update();\n        }\n        shouldDetach = false;\n        props = changedProps;\n        actionProps.date = props.date;\n        actionProps.period = props.period;\n        if (timeSub) {\n            timeSub();\n        }\n        timeSub = state.subscribeAll(['_internal.chart.time', 'config.chart.calendar.levels'], updateDate, {\n            bulk: true\n        });\n    });\n    onDestroy(() => {\n        timeSub();\n    });\n    if (!componentActions.includes(BindElementAction$2))\n        componentActions.push(BindElementAction$2);\n    const actions = Actions.create(componentActions, actionProps);\n    return templateProps => wrapper(html `\n        <div\n          detach=${detach}\n          class=${className +\n        ' ' +\n        className +\n        `--${props.date.period}` +\n        ' ' +\n        className +\n        `--level-${props.level}` +\n        current +\n        formatClassName}\n          style=${styleMap}\n          data-actions=${actions}\n        >\n          ${htmlFormatted}\n        </div>\n      `, { props, vido, templateProps });\n}\n\n/**\n * ChartTimeline component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\nfunction ChartTimeline(vido, props) {\n    const { api, state, onDestroy, Action, Actions, update, html, createComponent, StyleMap } = vido;\n    const componentName = 'chart-timeline';\n    const componentActions = api.getActions(componentName);\n    const actionProps = Object.assign(Object.assign({}, props), { api, state });\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.ChartTimeline', value => (wrapper = value)));\n    const GridComponent = state.get('config.components.ChartTimelineGrid');\n    const ItemsComponent = state.get('config.components.ChartTimelineItems');\n    const ListToggleComponent = state.get('config.components.ListToggle');\n    const Grid = createComponent(GridComponent);\n    onDestroy(Grid.destroy);\n    const Items = createComponent(ItemsComponent);\n    onDestroy(Items.destroy);\n    const ListToggle = createComponent(ListToggleComponent);\n    onDestroy(ListToggle.destroy);\n    let className, classNameInner;\n    onDestroy(state.subscribe('config.classNames', () => {\n        className = api.getClass(componentName);\n        classNameInner = api.getClass(componentName + '-inner');\n        update();\n    }));\n    let showToggle;\n    onDestroy(state.subscribe('config.list.toggle.display', val => (showToggle = val)));\n    const styleMap = new StyleMap({}), innerStyleMap = new StyleMap({});\n    function calculateStyle() {\n        const xCompensation = api.getCompensationX();\n        const yCompensation = api.getCompensationY();\n        const width = state.get('_internal.chart.dimensions.width');\n        const height = state.get('_internal.list.rowsHeight');\n        styleMap.style.height = state.get('_internal.height') + 'px';\n        styleMap.style['--height'] = styleMap.style.height;\n        styleMap.style['--negative-compensation-x'] = xCompensation + 'px';\n        styleMap.style['--compensation-x'] = Math.round(Math.abs(xCompensation)) + 'px';\n        styleMap.style['--negative-compensation-y'] = yCompensation + 'px';\n        styleMap.style['--compensation-y'] = Math.abs(yCompensation) + 'px';\n        if (width) {\n            styleMap.style.width = width + 'px';\n            styleMap.style['--width'] = width + 'px';\n        }\n        else {\n            styleMap.style.width = '0px';\n            styleMap.style['--width'] = '0px';\n        }\n        innerStyleMap.style.height = height + 'px';\n        if (width) {\n            innerStyleMap.style.width = width + xCompensation + 'px';\n        }\n        else {\n            innerStyleMap.style.width = '0px';\n        }\n        //innerStyleMap.style.transform = `translate(-${xCompensation}px, ${yCompensation}px)`;\n        innerStyleMap.style['margin-left'] = -xCompensation + 'px';\n        update();\n    }\n    onDestroy(state.subscribeAll([\n        '_internal.height',\n        '_internal.chart.dimensions.width',\n        '_internal.list.rowsHeight',\n        'config.scroll.compensation',\n        '_internal.chart.time.dates.day'\n    ], calculateStyle));\n    componentActions.push(class BindElementAction extends Action {\n        constructor(element) {\n            super();\n            const old = state.get('_internal.elements.chart-timeline');\n            if (old !== element)\n                state.update('_internal.elements.chart-timeline', element);\n        }\n    });\n    const actions = Actions.create(componentActions, actionProps);\n    return templateProps => wrapper(html `\n        <div class=${className} style=${styleMap} data-actions=${actions} @wheel=${api.onScroll}>\n          <div class=${classNameInner} style=${innerStyleMap}>\n            ${Grid.html()}${Items.html()}${showToggle ? ListToggle.html() : ''}\n          </div>\n        </div>\n      `, { props, vido, templateProps });\n}\n\n/**\n * ChartTimelineGrid component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\n/**\n * Bind element action\n */\nclass BindElementAction$3 {\n    constructor(element, data) {\n        const old = data.state.get('_internal.elements.chart-timeline-grid');\n        if (old !== element)\n            data.state.update('_internal.elements.chart-timeline-grid', element);\n    }\n    destroy(element, data) {\n        data.state.update('_internal.elements', elements => {\n            delete elements['chart-timeline-grid'];\n            return elements;\n        });\n    }\n}\nfunction ChartTimelineGrid(vido, props) {\n    const { api, state, onDestroy, Actions, update, html, reuseComponents, StyleMap } = vido;\n    const componentName = 'chart-timeline-grid';\n    const componentActions = api.getActions(componentName);\n    const actionProps = { api, state };\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.ChartTimelineGrid', value => (wrapper = value)));\n    const GridRowComponent = state.get('config.components.ChartTimelineGridRow');\n    let className;\n    onDestroy(state.subscribe('config.classNames', () => {\n        className = api.getClass(componentName);\n        update();\n    }));\n    let onBlockCreate;\n    onDestroy(state.subscribe('config.chart.grid.block.onCreate', onCreate => (onBlockCreate = onCreate)));\n    const rowsComponents = [];\n    const rowsWithBlocks = [];\n    const formatCache = new Map();\n    const styleMap = new StyleMap({});\n    /**\n     * Generate blocks\n     */\n    function generateBlocks() {\n        const width = state.get('_internal.chart.dimensions.width');\n        const height = state.get('_internal.height');\n        const time = state.get('_internal.chart.time');\n        const periodDates = state.get(`_internal.chart.time.levels.${time.level}`);\n        if (!periodDates || periodDates.length === 0) {\n            state.update('_internal.chart.grid.rowsWithBlocks', []);\n            return;\n        }\n        const visibleRows = state.get('_internal.list.visibleRows');\n        const xCompensation = api.getCompensationX();\n        const yCompensation = api.getCompensationY();\n        styleMap.style.height = height + Math.abs(yCompensation) + 'px';\n        styleMap.style.width = width + xCompensation + 'px';\n        let top = 0;\n        rowsWithBlocks.length = 0;\n        for (const row of visibleRows) {\n            const blocks = [];\n            for (const time of periodDates) {\n                let format;\n                if (formatCache.has(time.leftGlobal)) {\n                    format = formatCache.get(time.leftGlobal);\n                }\n                else {\n                    format = api.time.date(time.leftGlobal).format('YYYY-MM-DD HH:mm');\n                    formatCache.set(time.leftGlobal, format);\n                }\n                const id = row.id + ':' + format;\n                let block = { id, time, row, top };\n                for (const onCreate of onBlockCreate) {\n                    block = onCreate(block);\n                }\n                blocks.push(block);\n            }\n            rowsWithBlocks.push({ row, blocks, top, width });\n            top += row.height;\n        }\n        state.update('_internal.chart.grid.rowsWithBlocks', rowsWithBlocks);\n    }\n    onDestroy(state.subscribeAll([\n        '_internal.list.visibleRows;',\n        `_internal.chart.time.levels`,\n        '_internal.height',\n        '_internal.chart.dimensions.width'\n    ], generateBlocks, {\n        bulk: true\n    }));\n    /**\n     * Generate rows components\n     * @param {array} rowsWithBlocks\n     */\n    function generateRowsComponents(rowsWithBlocks) {\n        reuseComponents(rowsComponents, rowsWithBlocks || [], row => row, GridRowComponent);\n        update();\n    }\n    onDestroy(state.subscribe('_internal.chart.grid.rowsWithBlocks', generateRowsComponents));\n    onDestroy(() => {\n        rowsComponents.forEach(row => row.destroy());\n    });\n    componentActions.push(BindElementAction$3);\n    const actions = Actions.create(componentActions, actionProps);\n    return templateProps => wrapper(html `\n        <div class=${className} data-actions=${actions} style=${styleMap}>\n          ${rowsComponents.map(r => r.html())}\n        </div>\n      `, { props, vido, templateProps });\n}\n\n/**\n * ChartTimelineGridRow component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\n/**\n * Bind element action\n */\nclass BindElementAction$4 {\n    constructor(element, data) {\n        let shouldUpdate = false;\n        let rows = data.state.get('_internal.elements.chart-timeline-grid-rows');\n        if (typeof rows === 'undefined') {\n            rows = [];\n            shouldUpdate = true;\n        }\n        if (!rows.includes(element)) {\n            rows.push(element);\n            shouldUpdate = true;\n        }\n        if (shouldUpdate)\n            data.state.update('_internal.elements.chart-timeline-grid-rows', rows, { only: null });\n    }\n    destroy(element, data) {\n        data.state.update('_internal.elements.chart-timeline-grid-rows', rows => {\n            return rows.filter(el => el !== element);\n        });\n    }\n}\nfunction ChartTimelineGridRow(vido, props) {\n    const { api, state, onDestroy, Detach, Actions, update, html, reuseComponents, onChange, StyleMap } = vido;\n    const componentName = 'chart-timeline-grid-row';\n    const actionProps = Object.assign(Object.assign({}, props), { api,\n        state });\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.ChartTimelineGridRow', value => {\n        wrapper = value;\n        update();\n    }));\n    const GridBlockComponent = state.get('config.components.ChartTimelineGridRowBlock');\n    const componentActions = api.getActions(componentName);\n    let className;\n    onDestroy(state.subscribe('config.classNames', () => {\n        className = api.getClass(componentName);\n    }));\n    const styleMap = new StyleMap({\n        width: props.width + 'px',\n        height: props.row.height + 'px',\n        overflow: 'hidden'\n    }, true);\n    let shouldDetach = false;\n    const detach = new Detach(() => shouldDetach);\n    const rowsBlocksComponents = [];\n    onChange(function onPropsChange(changedProps, options) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n        if (options.leave || changedProps.row === undefined) {\n            shouldDetach = true;\n            reuseComponents(rowsBlocksComponents, [], block => block, GridBlockComponent);\n            update();\n            return;\n        }\n        shouldDetach = false;\n        props = changedProps;\n        reuseComponents(rowsBlocksComponents, props.blocks, block => block, GridBlockComponent);\n        styleMap.setStyle({});\n        styleMap.style.height = props.row.height + 'px';\n        styleMap.style.width = props.width + 'px';\n        const rows = state.get('config.list.rows');\n        for (const parentId of props.row._internal.parents) {\n            const parent = rows[parentId];\n            const childrenStyle = (_d = (_c = (_b = (_a = parent) === null || _a === void 0 ? void 0 : _a.style) === null || _b === void 0 ? void 0 : _b.grid) === null || _c === void 0 ? void 0 : _c.row) === null || _d === void 0 ? void 0 : _d.children;\n            if (childrenStyle)\n                for (const name in childrenStyle) {\n                    styleMap.style[name] = childrenStyle[name];\n                }\n        }\n        const currentStyle = (_j = (_h = (_g = (_f = (_e = props) === null || _e === void 0 ? void 0 : _e.row) === null || _f === void 0 ? void 0 : _f.style) === null || _g === void 0 ? void 0 : _g.grid) === null || _h === void 0 ? void 0 : _h.row) === null || _j === void 0 ? void 0 : _j.current;\n        if (currentStyle)\n            for (const name in currentStyle) {\n                styleMap.style[name] = currentStyle[name];\n            }\n        for (const prop in props) {\n            actionProps[prop] = props[prop];\n        }\n        update();\n    });\n    onDestroy(function destroy() {\n        rowsBlocksComponents.forEach(rowBlock => rowBlock.destroy());\n    });\n    if (componentActions.indexOf(BindElementAction$4) === -1) {\n        componentActions.push(BindElementAction$4);\n    }\n    const actions = Actions.create(componentActions, actionProps);\n    return templateProps => {\n        return wrapper(html `\n        <div detach=${detach} class=${className} data-actions=${actions} style=${styleMap}>\n          ${rowsBlocksComponents.map(r => r.html())}\n        </div>\n      `, { vido, props, templateProps });\n    };\n}\n\n/**\n * ChartTimelineGridRowBlock component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\n/**\n * Bind element action\n * @param {Element} element\n * @param {any} data\n * @returns {object} with update and destroy\n */\nclass BindElementAction$5 {\n    constructor(element, data) {\n        let shouldUpdate = false;\n        let blocks = data.state.get('_internal.elements.chart-timeline-grid-row-blocks');\n        if (typeof blocks === 'undefined') {\n            blocks = [];\n            shouldUpdate = true;\n        }\n        if (!blocks.includes(element)) {\n            blocks.push(element);\n            shouldUpdate = true;\n        }\n        if (shouldUpdate)\n            data.state.update('_internal.elements.chart-timeline-grid-row-blocks', blocks, { only: null });\n    }\n    destroy(element, data) {\n        data.state.update('_internal.elements.chart-timeline-grid-row-blocks', blocks => {\n            return blocks.filter(el => el !== element);\n        }, { only: [''] });\n    }\n}\nconst ChartTimelineGridRowBlock = (vido, props) => {\n    const { api, state, onDestroy, Detach, Actions, update, html, onChange, StyleMap } = vido;\n    const componentName = 'chart-timeline-grid-row-block';\n    const actionProps = Object.assign(Object.assign({}, props), { api,\n        state });\n    let shouldDetach = false;\n    const detach = new Detach(() => shouldDetach);\n    const componentActions = api.getActions(componentName);\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.ChartTimelineGridRowBlock', value => {\n        wrapper = value;\n        update();\n    }));\n    let className;\n    function updateClassName(time) {\n        const currentTime = api.time\n            .date()\n            .startOf(time.period)\n            .valueOf();\n        className = api.getClass(componentName);\n        if (time.leftGlobal === currentTime) {\n            className += ' current';\n        }\n    }\n    updateClassName(props.time);\n    const styleMap = new StyleMap({ width: '', height: '' });\n    /**\n     * On props change\n     * @param {any} changedProps\n     */\n    function onPropsChange(changedProps, options) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o;\n        if (options.leave || changedProps.row === undefined) {\n            shouldDetach = true;\n            return update();\n        }\n        shouldDetach = false;\n        props = changedProps;\n        for (const prop in props) {\n            actionProps[prop] = props[prop];\n        }\n        updateClassName(props.time);\n        styleMap.setStyle({});\n        styleMap.style.width = (((_b = (_a = props) === null || _a === void 0 ? void 0 : _a.time) === null || _b === void 0 ? void 0 : _b.width) || 0) + 'px';\n        styleMap.style.height = (((_d = (_c = props) === null || _c === void 0 ? void 0 : _c.row) === null || _d === void 0 ? void 0 : _d.height) || 0) + 'px';\n        const rows = state.get('config.list.rows');\n        for (const parentId of props.row._internal.parents) {\n            const parent = rows[parentId];\n            const childrenStyle = (_h = (_g = (_f = (_e = parent) === null || _e === void 0 ? void 0 : _e.style) === null || _f === void 0 ? void 0 : _f.grid) === null || _g === void 0 ? void 0 : _g.block) === null || _h === void 0 ? void 0 : _h.children;\n            if (childrenStyle)\n                styleMap.setStyle(Object.assign(Object.assign({}, styleMap.style), childrenStyle));\n        }\n        const currentStyle = (_o = (_m = (_l = (_k = (_j = props) === null || _j === void 0 ? void 0 : _j.row) === null || _k === void 0 ? void 0 : _k.style) === null || _l === void 0 ? void 0 : _l.grid) === null || _m === void 0 ? void 0 : _m.block) === null || _o === void 0 ? void 0 : _o.current;\n        if (currentStyle)\n            styleMap.setStyle(Object.assign(Object.assign({}, styleMap.style), currentStyle));\n        update();\n    }\n    onChange(onPropsChange);\n    componentActions.push(BindElementAction$5);\n    const actions = Actions.create(componentActions, actionProps);\n    return templateProps => {\n        return wrapper(html `\n        <div detach=${detach} class=${className} data-actions=${actions} style=${styleMap}></div>\n      `, { props, vido, templateProps });\n    };\n};\n\n/**\n * ChartTimelineItems component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\nfunction ChartTimelineItems(vido, props = {}) {\n    const { api, state, onDestroy, Actions, update, html, reuseComponents, StyleMap } = vido;\n    const componentName = 'chart-timeline-items';\n    const componentActions = api.getActions(componentName);\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.ChartTimelineItems', value => (wrapper = value)));\n    let ItemsRowComponent;\n    onDestroy(state.subscribe('config.components.ChartTimelineItemsRow', value => (ItemsRowComponent = value)));\n    let className;\n    onDestroy(state.subscribe('config.classNames', () => {\n        className = api.getClass(componentName);\n        update();\n    }));\n    const styleMap = new StyleMap({}, true);\n    function calculateStyle() {\n        const width = state.get('_internal.chart.dimensions.width');\n        const height = state.get('_internal.height');\n        const yCompensation = api.getCompensationY();\n        const xCompensation = api.getCompensationX();\n        styleMap.style.width = width + xCompensation + 'px';\n        styleMap.style.height = height + Math.abs(yCompensation) + 'px';\n    }\n    onDestroy(state.subscribeAll([\n        '_internal.height',\n        '_internal.chart.dimensions.width',\n        'config.scroll.compensation',\n        '_internal.chart.time.dates.day'\n    ], calculateStyle));\n    const rowsComponents = [];\n    function createRowComponents() {\n        const visibleRows = state.get('_internal.list.visibleRows');\n        reuseComponents(rowsComponents, visibleRows || [], row => ({ row }), ItemsRowComponent);\n        update();\n    }\n    onDestroy(state.subscribeAll(['_internal.list.visibleRows;', 'config.chart.items'], createRowComponents));\n    onDestroy(() => {\n        rowsComponents.forEach(row => row.destroy());\n    });\n    const actions = Actions.create(componentActions, { api, state });\n    return templateProps => wrapper(html `\n        <div class=${className} style=${styleMap} data-actions=${actions}>\n          ${rowsComponents.map(r => r.html())}\n        </div>\n      `, { props, vido, templateProps });\n}\n\n/**\n * ChartTimelineItemsRow component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\n/**\n * Bind element action\n * @param {Element} element\n * @param {any} data\n */\nclass BindElementAction$6 {\n    constructor(element, data) {\n        let shouldUpdate = false;\n        let rows = data.state.get('_internal.elements.chart-timeline-items-rows');\n        if (typeof rows === 'undefined') {\n            rows = [];\n            shouldUpdate = true;\n        }\n        if (!rows.includes(element)) {\n            rows.push(element);\n            shouldUpdate = true;\n        }\n        if (shouldUpdate)\n            data.state.update('_internal.elements.chart-timeline-items-rows', rows, { only: null });\n    }\n    destroy(element, data) {\n        data.state.update('_internal.elements.chart-timeline-items-rows', rows => {\n            return rows.filter(el => el !== element);\n        });\n    }\n}\nconst ChartTimelineItemsRow = (vido, props) => {\n    const { api, state, onDestroy, Detach, Actions, update, html, onChange, reuseComponents, StyleMap } = vido;\n    const actionProps = Object.assign(Object.assign({}, props), { api, state });\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.ChartTimelineItemsRow', value => (wrapper = value)));\n    let ItemComponent;\n    onDestroy(state.subscribe('config.components.ChartTimelineItemsRowItem', value => (ItemComponent = value)));\n    let itemsPath = `_internal.flatTreeMapById.${props.row.id}._internal.items`;\n    let rowSub, itemsSub;\n    const itemComponents = [], styleMap = new StyleMap({ width: '', height: '' }, true);\n    let shouldDetach = false;\n    const detach = new Detach(() => shouldDetach);\n    const updateDom = () => {\n        const chart = state.get('_internal.chart');\n        shouldDetach = false;\n        const xCompensation = api.getCompensationX();\n        styleMap.style.width = chart.dimensions.width + xCompensation + 'px';\n        if (!props) {\n            shouldDetach = true;\n            return;\n        }\n        styleMap.style.height = props.row.height + 'px';\n        styleMap.style['--row-height'] = props.row.height + 'px';\n    };\n    function updateRow(row) {\n        itemsPath = `_internal.flatTreeMapById.${row.id}._internal.items`;\n        if (typeof rowSub === 'function') {\n            rowSub();\n        }\n        if (typeof itemsSub === 'function') {\n            itemsSub();\n        }\n        rowSub = state.subscribe('_internal.chart', value => {\n            if (value === undefined) {\n                shouldDetach = true;\n                return update();\n            }\n            updateDom();\n            update();\n        });\n        itemsSub = state.subscribe(itemsPath, value => {\n            if (value === undefined) {\n                shouldDetach = true;\n                reuseComponents(itemComponents, [], item => ({ row, item }), ItemComponent);\n                return update();\n            }\n            reuseComponents(itemComponents, value, item => ({ row, item }), ItemComponent);\n            updateDom();\n            update();\n        });\n    }\n    /**\n     * On props change\n     * @param {any} changedProps\n     */\n    onChange((changedProps, options) => {\n        if (options.leave || changedProps.row === undefined) {\n            shouldDetach = true;\n            return update();\n        }\n        props = changedProps;\n        for (const prop in props) {\n            actionProps[prop] = props[prop];\n        }\n        updateRow(props.row);\n    });\n    onDestroy(() => {\n        itemsSub();\n        rowSub();\n        itemComponents.forEach(item => item.destroy());\n    });\n    const componentName = 'chart-timeline-items-row';\n    const componentActions = api.getActions(componentName);\n    let className;\n    onDestroy(state.subscribe('config.classNames', () => {\n        className = api.getClass(componentName, props);\n        update();\n    }));\n    componentActions.push(BindElementAction$6);\n    const actions = Actions.create(componentActions, actionProps);\n    return templateProps => {\n        return wrapper(html `\n        <div detach=${detach} class=${className} data-actions=${actions} style=${styleMap}>\n          ${itemComponents.map(i => i.html())}\n        </div>\n      `, { props, vido, templateProps });\n    };\n};\n\n/**\n * ChartTimelineItemsRowItem component\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0 (https://github.com/neuronetio/gantt-schedule-timeline-calendar/blob/master/LICENSE)\n * @link      https://github.com/neuronetio/gantt-schedule-timeline-calendar\n */\n/**\n * Bind element action\n */\nclass BindElementAction$7 {\n    constructor(element, data) {\n        let shouldUpdate = false;\n        let items = data.state.get('_internal.elements.chart-timeline-items-row-items');\n        if (typeof items === 'undefined') {\n            items = [];\n            shouldUpdate = true;\n        }\n        if (!items.includes(element)) {\n            items.push(element);\n            shouldUpdate = true;\n        }\n        if (shouldUpdate)\n            data.state.update('_internal.elements.chart-timeline-items-row-items', items, { only: null });\n    }\n    destroy(element, data) {\n        data.state.update('_internal.elements.chart-timeline-items-row-items', items => {\n            return items.filter(el => el !== element);\n        });\n    }\n}\nfunction ChartTimelineItemsRowItem(vido, props) {\n    const { api, state, onDestroy, Detach, Actions, update, html, onChange, unsafeHTML, StyleMap } = vido;\n    let wrapper;\n    onDestroy(state.subscribe('config.wrappers.ChartTimelineItemsRowItem', value => (wrapper = value)));\n    let itemLeftPx = 0, itemWidthPx = 0, leave = false, cutLeft = false, cutRight = false;\n    const styleMap = new StyleMap({ width: '', height: '', left: '' }), leftCutStyleMap = new StyleMap({ 'margin-left': '0px' }), rightCutStyleMap = new StyleMap({ 'margin-right': '0px' }), actionProps = {\n        item: props.item,\n        row: props.row,\n        left: itemLeftPx,\n        width: itemWidthPx,\n        api,\n        state\n    };\n    let shouldDetach = false;\n    function updateItem() {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n        if (leave)\n            return;\n        const time = state.get('_internal.chart.time');\n        itemLeftPx = api.time.globalTimeToViewPixelOffset(props.item.time.start);\n        itemLeftPx = Math.round(itemLeftPx * 10) * 0.1;\n        itemWidthPx = (props.item.time.end - props.item.time.start) / time.timePerPixel;\n        itemWidthPx -= state.get('config.chart.spacing') || 0;\n        if (itemWidthPx) {\n            itemWidthPx = Math.round(itemWidthPx * 10) * 0.1;\n        }\n        if (props.item.time.start < time.leftGlobal) {\n            leftCutStyleMap.style['margin-left'] = (time.leftGlobal - props.item.time.start) / time.timePerPixel + 'px';\n            cutLeft = true;\n        }\n        else {\n            leftCutStyleMap.style['margin-left'] = '0px';\n            cutLeft = false;\n        }\n        if (props.item.time.end > time.rightGlobal) {\n            rightCutStyleMap.style['margin-right'] = (props.item.time.end - time.rightGlobal) / time.timePerPixel + 'px';\n            cutRight = true;\n        }\n        else {\n            cutRight = false;\n            rightCutStyleMap.style['margin-right'] = '0px';\n        }\n        const oldWidth = styleMap.style.width;\n        const oldLeft = styleMap.style.left;\n        const xCompensation = api.getCompensationX();\n        styleMap.setStyle({});\n        const inViewPort = api.isItemInViewport(props.item, time.leftGlobal, time.rightGlobal);\n        shouldDetach = !inViewPort;\n        if (inViewPort) {\n            // update style only when visible to prevent browser's recalculate style\n            styleMap.style.width = itemWidthPx + 'px';\n            styleMap.style.left = itemLeftPx + xCompensation + 'px';\n        }\n        else {\n            styleMap.style.width = oldWidth;\n            styleMap.style.left = oldLeft;\n        }\n        const rows = state.get('config.list.rows');\n        for (const parentId of props.row._internal.parents) {\n            const parent = rows[parentId];\n            const childrenStyle = (_d = (_c = (_b = (_a = parent) === null || _a === void 0 ? void 0 : _a.style) === null || _b === void 0 ? void 0 : _b.items) === null || _c === void 0 ? void 0 : _c.item) === null || _d === void 0 ? void 0 : _d.children;\n            if (childrenStyle)\n                styleMap.setStyle(Object.assign(Object.assign({}, styleMap.style), childrenStyle));\n        }\n        const currentRowItemsStyle = (_j = (_h = (_g = (_f = (_e = props) === null || _e === void 0 ? void 0 : _e.row) === null || _f === void 0 ? void 0 : _f.style) === null || _g === void 0 ? void 0 : _g.items) === null || _h === void 0 ? void 0 : _h.item) === null || _j === void 0 ? void 0 : _j.current;\n        if (currentRowItemsStyle)\n            styleMap.setStyle(Object.assign(Object.assign({}, styleMap.style), currentRowItemsStyle));\n        const currentStyle = (_l = (_k = props) === null || _k === void 0 ? void 0 : _k.item) === null || _l === void 0 ? void 0 : _l.style;\n        if (currentStyle)\n            styleMap.setStyle(Object.assign(Object.assign({}, styleMap.style), currentStyle));\n        actionProps.left = itemLeftPx + xCompensation;\n        actionProps.width = itemWidthPx;\n        update();\n    }\n    const componentName = 'chart-timeline-items-row-item';\n    const cutterName = api.getClass(componentName) + '-cut';\n    const cutterLeft = html `\n    <div class=${cutterName} style=${leftCutStyleMap}>\n      <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"16\" viewBox=\"0 0 18 16\" width=\"16\">\n        <path fill-opacity=\"0.5\" fill=\"#ffffff\" d=\"m5,3l-5,5l5,5l0,-10z\" />\n      </svg>\n    </div>\n  `;\n    const cutterRight = html `\n    <div class=${cutterName} style=${rightCutStyleMap}>\n      <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"16\" viewBox=\"0 0 4 16\" width=\"16\">\n        <path transform=\"rotate(-180 2.5,8) \" fill-opacity=\"0.5\" fill=\"#ffffff\" d=\"m5,3l-5,5l5,5l0,-10z\" />\n      </svg>\n    </div>\n  `;\n    function onPropsChange(changedProps, options) {\n        if (options.leave || changedProps.row === undefined || changedProps.item === undefined) {\n            leave = true;\n            shouldDetach = true;\n            return update();\n        }\n        else {\n            shouldDetach = false;\n            leave = false;\n        }\n        props = changedProps;\n        actionProps.item = props.item;\n        actionProps.row = props.row;\n        updateItem();\n    }\n    onChange(onPropsChange);\n    const componentActions = api.getActions(componentName);\n    let className, labelClassName;\n    onDestroy(state.subscribe('config.classNames', () => {\n        className = api.getClass(componentName, props);\n        labelClassName = api.getClass(componentName + '-label', props);\n        update();\n    }));\n    onDestroy(state.subscribeAll(['_internal.chart.time', 'config.scroll.compensation.x'], updateItem));\n    componentActions.push(BindElementAction$7);\n    const actions = Actions.create(componentActions, actionProps);\n    const detach = new Detach(() => shouldDetach);\n    return templateProps => {\n        return wrapper(html `\n        <div detach=${detach} class=${className} data-actions=${actions} style=${styleMap}>\n          ${cutLeft ? cutterLeft : ''}\n          <div class=${labelClassName}>\n            ${props.item.isHtml ? unsafeHTML(props.item.label) : props.item.label}\n          </div>\n          ${cutRight ? cutterRight : ''}\n        </div>\n      `, { vido, props, templateProps });\n    };\n}\n\n/**\n * Gantt-Schedule-Timeline-Calendar\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0\n */\nconst actionNames = [\n    'main',\n    'list',\n    'list-column',\n    'list-column-header',\n    'list-column-header-resizer',\n    'list-column-header-resizer-dots',\n    'list-column-row',\n    'list-column-row-expander',\n    'list-column-row-expander-toggle',\n    'list-toggle',\n    'chart',\n    'chart-calendar',\n    'chart-calendar-date',\n    'chart-timeline',\n    'chart-timeline-grid',\n    'chart-timeline-grid-row',\n    'chart-timeline-grid-row-block',\n    'chart-timeline-items',\n    'chart-timeline-items-row',\n    'chart-timeline-items-row-item'\n];\nfunction generateEmptyActions() {\n    const actions = {};\n    actionNames.forEach(name => (actions[name] = []));\n    return actions;\n}\nfunction generateEmptySlots() {\n    const slots = {};\n    actionNames.forEach(name => {\n        slots[name] = { before: [], after: [] };\n    });\n    return slots;\n}\n// default configuration\nfunction defaultConfig() {\n    const actions = generateEmptyActions();\n    const slots = generateEmptySlots();\n    return {\n        plugins: [],\n        plugin: {},\n        height: 822,\n        headerHeight: 72,\n        components: {\n            Main,\n            List,\n            ListColumn,\n            ListColumnHeader,\n            ListColumnHeaderResizer,\n            ListColumnRow,\n            ListColumnRowExpander,\n            ListColumnRowExpanderToggle,\n            ListToggle,\n            Chart,\n            ChartCalendar,\n            ChartCalendarDate: ChartCalendarDay,\n            ChartTimeline,\n            ChartTimelineGrid,\n            ChartTimelineGridRow,\n            ChartTimelineGridRowBlock,\n            ChartTimelineItems,\n            ChartTimelineItemsRow,\n            ChartTimelineItemsRowItem\n        },\n        wrappers: {\n            Main(input) {\n                return input;\n            },\n            List(input) {\n                return input;\n            },\n            ListColumn(input) {\n                return input;\n            },\n            ListColumnHeader(input) {\n                return input;\n            },\n            ListColumnHeaderResizer(input) {\n                return input;\n            },\n            ListColumnRow(input) {\n                return input;\n            },\n            ListColumnRowExpander(input) {\n                return input;\n            },\n            ListColumnRowExpanderToggle(input) {\n                return input;\n            },\n            ListToggle(input) {\n                return input;\n            },\n            Chart(input) {\n                return input;\n            },\n            ChartCalendar(input) {\n                return input;\n            },\n            ChartCalendarDate(input) {\n                return input;\n            },\n            ChartTimeline(input) {\n                return input;\n            },\n            ChartTimelineGrid(input) {\n                return input;\n            },\n            ChartTimelineGridRow(input) {\n                return input;\n            },\n            ChartTimelineGridRowBlock(input) {\n                return input;\n            },\n            ChartTimelineItems(input) {\n                return input;\n            },\n            ChartTimelineItemsRow(input) {\n                return input;\n            },\n            ChartTimelineItemsRowItem(input) {\n                return input;\n            }\n        },\n        list: {\n            rows: {},\n            rowHeight: 40,\n            columns: {\n                percent: 100,\n                resizer: {\n                    width: 10,\n                    inRealTime: true,\n                    dots: 6\n                },\n                minWidth: 50,\n                data: {}\n            },\n            expander: {\n                padding: 18,\n                size: 20,\n                icon: {\n                    width: 16,\n                    height: 16\n                },\n                icons: {\n                    child: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><ellipse ry=\"4\" rx=\"4\" id=\"svg_1\" cy=\"12\" cx=\"12\" fill=\"#000000B0\"/></svg>',\n                    open: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z\"/><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/></svg>',\n                    closed: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z\"/><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/></svg>'\n                }\n            },\n            toggle: {\n                display: true,\n                icons: {\n                    open: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path stroke=\"null\" d=\"m16.406954,16.012672l4.00393,-4.012673l-4.00393,-4.012673l1.232651,-1.232651l5.245324,5.245324l-5.245324,5.245324l-1.232651,-1.232651z\"/><path stroke=\"null\" d=\"m-0.343497,12.97734zm1.620144,0l11.341011,0l0,-1.954681l-11.341011,0l0,1.954681zm0,3.909362l11.341011,0l0,-1.954681l-11.341011,0l0,1.954681zm0,-9.773404l0,1.95468l11.341011,0l0,-1.95468l-11.341011,0z\"/></svg>`,\n                    close: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path transform=\"rotate(-180 4.392796516418457,12) \" stroke=\"null\" d=\"m1.153809,16.012672l4.00393,-4.012673l-4.00393,-4.012673l1.232651,-1.232651l5.245324,5.245324l-5.245324,5.245324l-1.232651,-1.232651z\"/><path stroke=\"null\" d=\"m9.773297,12.97734zm1.620144,0l11.341011,0l0,-1.954681l-11.341011,0l0,1.954681zm0,3.909362l11.341011,0l0,-1.954681l-11.341011,0l0,1.954681zm0,-9.773404l0,1.95468l11.341011,0l0,-1.95468l-11.341011,0z\"/></svg>`\n                }\n            }\n        },\n        scroll: {\n            propagate: true,\n            smooth: false,\n            top: 0,\n            left: 0,\n            xMultiplier: 3,\n            yMultiplier: 3,\n            percent: {\n                top: 0,\n                left: 0\n            },\n            compensation: {\n                x: 0,\n                y: 0\n            }\n        },\n        chart: {\n            time: {\n                period: 'day',\n                from: 0,\n                to: 0,\n                finalFrom: 0,\n                finalTo: 0,\n                zoom: 21,\n                leftGlobal: 0,\n                centerGlobal: 0,\n                rightGlobal: 0,\n                levels: [],\n                calculatedZoomMode: false\n            },\n            calendar: {\n                expand: true,\n                levels: [\n                    {\n                        formats: [\n                            {\n                                zoomTo: 17,\n                                period: 'day',\n                                className: 'gstc-date-medium gstc-date-left',\n                                format({ timeStart }) {\n                                    return timeStart.format('DD MMMM YYYY (dddd)');\n                                }\n                            },\n                            {\n                                zoomTo: 23,\n                                period: 'month',\n                                format({ timeStart }) {\n                                    return timeStart.format('MMMM YYYY');\n                                }\n                            },\n                            {\n                                zoomTo: 24,\n                                period: 'month',\n                                format({ timeStart, className, vido }) {\n                                    return timeStart.format(\"MMMM 'YY\");\n                                }\n                            },\n                            {\n                                zoomTo: 25,\n                                period: 'month',\n                                format({ timeStart }) {\n                                    return timeStart.format('MMM YYYY');\n                                }\n                            },\n                            {\n                                zoomTo: 27,\n                                period: 'year',\n                                format({ timeStart }) {\n                                    return timeStart.format('YYYY');\n                                }\n                            },\n                            {\n                                zoomTo: 100,\n                                period: 'year',\n                                default: true,\n                                format() {\n                                    return null;\n                                }\n                            }\n                        ]\n                    },\n                    {\n                        main: true,\n                        formats: [\n                            {\n                                zoomTo: 16,\n                                period: 'hour',\n                                format({ timeStart }) {\n                                    return timeStart.format('HH:mm');\n                                }\n                            },\n                            {\n                                zoomTo: 17,\n                                period: 'hour',\n                                default: true,\n                                format({ timeStart }) {\n                                    return timeStart.format('HH');\n                                }\n                            },\n                            {\n                                zoomTo: 19,\n                                period: 'day',\n                                className: 'gstc-date-medium',\n                                format({ timeStart, className, vido }) {\n                                    return vido.html `<span class=\"${className}-content gstc-date-bold\">${timeStart.format('DD')}</span> <span class=\"${className}-content gstc-date-thin\">${timeStart.format('dddd')}</span>`;\n                                }\n                            },\n                            {\n                                zoomTo: 20,\n                                period: 'day',\n                                default: true,\n                                format({ timeStart, vido, className }) {\n                                    return vido.html `<div class=\"${className}-content gstc-date-top\">${timeStart.format('DD')}</div><div class=\"${className}-content gstc-date-small\">${timeStart.format('dddd')}</div>`;\n                                }\n                            },\n                            {\n                                zoomTo: 21,\n                                period: 'day',\n                                format({ timeStart, vido, className }) {\n                                    return vido.html `<div class=\"${className}-content gstc-date-top\">${timeStart.format('DD')}</div><div class=\"${className}-content gstc-date-small\">${timeStart.format('ddd')}</div>`;\n                                }\n                            },\n                            {\n                                zoomTo: 22,\n                                period: 'day',\n                                className: 'gstc-date-vertical',\n                                format({ timeStart, className, vido }) {\n                                    return vido.html `<div class=\"${className}-content gstc-date-top\">${timeStart.format('DD')}</div><div class=\"${className}-content gstc-date-extra-small\">${timeStart.format('ddd')}</div>`;\n                                }\n                            },\n                            {\n                                zoomTo: 23,\n                                period: 'week',\n                                default: true,\n                                format({ timeStart, timeEnd, className, vido }) {\n                                    return vido.html `<div class=\"${className}-content gstc-date-top\">${timeStart.format('DD')} - ${timeEnd.format('DD')}</div><div class=\"${className}-content gstc-date-small gstc-date-thin\">${timeStart.format('ddd')} - ${timeEnd.format('dd')}</div>`;\n                                }\n                            },\n                            {\n                                zoomTo: 25,\n                                period: 'week',\n                                className: 'gstc-date-vertical',\n                                format({ timeStart, timeEnd, className, vido }) {\n                                    return vido.html `<div class=\"${className}-content gstc-date-top gstc-date-small gstc-date-normal\">${timeStart.format('DD')}</div><div class=\"gstc-dash gstc-date-small\">-</div><div class=\"${className}-content gstc-date-small gstc-date-normal\">${timeEnd.format('DD')}</div>`;\n                                }\n                            },\n                            {\n                                zoomTo: 26,\n                                period: 'month',\n                                default: true,\n                                className: 'gstc-date-month-level-1',\n                                format({ timeStart, vido, className }) {\n                                    return vido.html `<div class=\"${className}-content gstc-date-top\">${timeStart.format('MMM')}</div><div class=\"${className}-content gstc-date-small gstc-date-bottom\">${timeStart.format('MM')}</div>`;\n                                }\n                            },\n                            {\n                                zoomTo: 27,\n                                period: 'month',\n                                className: 'gstc-date-vertical',\n                                format({ timeStart, className, vido }) {\n                                    return vido.html `<div class=\"${className}-content gstc-date-top\">${timeStart.format('MM')}</div><div class=\"${className}-content gstc-date-extra-small\">${timeStart.format('MMM')}</div>`;\n                                }\n                            },\n                            {\n                                zoomTo: 28,\n                                period: 'year',\n                                default: true,\n                                className: 'gstc-date-big',\n                                format({ timeStart }) {\n                                    return timeStart.format('YYYY');\n                                }\n                            },\n                            {\n                                zoomTo: 29,\n                                period: 'year',\n                                className: 'gstc-date-medium',\n                                format({ timeStart }) {\n                                    return timeStart.format('YYYY');\n                                }\n                            },\n                            {\n                                zoomTo: 30,\n                                period: 'year',\n                                className: 'gstc-date-medium',\n                                format({ timeStart }) {\n                                    return timeStart.format('YY');\n                                }\n                            },\n                            {\n                                zoomTo: 100,\n                                period: 'year',\n                                default: true,\n                                format() {\n                                    return null;\n                                }\n                            }\n                        ]\n                    }\n                ]\n            },\n            grid: {\n                block: {\n                    onCreate: []\n                }\n            },\n            items: {},\n            spacing: 1\n        },\n        slots,\n        classNames: {},\n        actions,\n        locale: {\n            name: 'en',\n            weekdays: 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),\n            weekdaysShort: 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),\n            weekdaysMin: 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),\n            months: 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),\n            monthsShort: 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),\n            weekStart: 1,\n            relativeTime: {\n                future: 'in %s',\n                past: '%s ago',\n                s: 'a few seconds',\n                m: 'a minute',\n                mm: '%d minutes',\n                h: 'an hour',\n                hh: '%d hours',\n                d: 'a day',\n                dd: '%d days',\n                M: 'a month',\n                MM: '%d months',\n                y: 'a year',\n                yy: '%d years'\n            },\n            formats: {\n                LT: 'HH:mm',\n                LTS: 'HH:mm:ss',\n                L: 'DD/MM/YYYY',\n                LL: 'D MMMM YYYY',\n                LLL: 'D MMMM YYYY HH:mm',\n                LLLL: 'dddd, D MMMM YYYY HH:mm'\n            },\n            ordinal: (n) => {\n                const s = ['th', 'st', 'nd', 'rd'];\n                const v = n % 100;\n                return `[${n}${s[(v - 20) % 10] || s[v] || s[0]}]`;\n            }\n        },\n        utcMode: false,\n        usageStatistics: true\n    };\n}\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar dayjs_min = createCommonjsModule(function (module, exports) {\n!function(t,n){module.exports=n();}(commonjsGlobal,function(){var t=\"millisecond\",n=\"second\",e=\"minute\",r=\"hour\",i=\"day\",s=\"week\",u=\"month\",o=\"quarter\",a=\"year\",h=/^(\\d{4})-?(\\d{1,2})-?(\\d{0,2})[^0-9]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?.?(\\d{1,3})?$/,f=/\\[([^\\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=function(t,n,e){var r=String(t);return !r||r.length>=n?t:\"\"+Array(n+1-r.length).join(e)+t},d={s:c,z:function(t){var n=-t.utcOffset(),e=Math.abs(n),r=Math.floor(e/60),i=e%60;return (n<=0?\"+\":\"-\")+c(r,2,\"0\")+\":\"+c(i,2,\"0\")},m:function(t,n){var e=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(e,u),i=n-r<0,s=t.clone().add(e+(i?-1:1),u);return Number(-(e+(n-r)/(i?r-s:s-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(h){return {M:u,y:a,w:s,d:i,D:\"date\",h:r,m:e,s:n,ms:t,Q:o}[h]||String(h||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},$={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\")},l=\"en\",m={};m[l]=$;var y=function(t){return t instanceof v},M=function(t,n,e){var r;if(!t)return l;if(\"string\"==typeof t)m[t]&&(r=t),n&&(m[t]=n,r=t);else{var i=t.name;m[i]=t,r=i;}return !e&&r&&(l=r),r||!e&&l},g=function(t,n,e){if(y(t))return t.clone();var r=n?\"string\"==typeof n?{format:n,pl:e}:n:{};return r.date=t,new v(r)},D=d;D.l=M,D.i=y,D.w=function(t,n){return g(t,{locale:n.$L,utc:n.$u,$offset:n.$offset})};var v=function(){function c(t){this.$L=this.$L||M(t.locale,null,!0),this.parse(t);}var d=c.prototype;return d.parse=function(t){this.$d=function(t){var n=t.date,e=t.utc;if(null===n)return new Date(NaN);if(D.u(n))return new Date;if(n instanceof Date)return new Date(n);if(\"string\"==typeof n&&!/Z$/i.test(n)){var r=n.match(h);if(r)return e?new Date(Date.UTC(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)):new Date(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)}return new Date(n)}(t),this.init();},d.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds();},d.$utils=function(){return D},d.isValid=function(){return !(\"Invalid Date\"===this.$d.toString())},d.isSame=function(t,n){var e=g(t);return this.startOf(n)<=e&&e<=this.endOf(n)},d.isAfter=function(t,n){return g(t)<this.startOf(n)},d.isBefore=function(t,n){return this.endOf(n)<g(t)},d.$g=function(t,n,e){return D.u(t)?this[n]:this.set(e,t)},d.year=function(t){return this.$g(t,\"$y\",a)},d.month=function(t){return this.$g(t,\"$M\",u)},d.day=function(t){return this.$g(t,\"$W\",i)},d.date=function(t){return this.$g(t,\"$D\",\"date\")},d.hour=function(t){return this.$g(t,\"$H\",r)},d.minute=function(t){return this.$g(t,\"$m\",e)},d.second=function(t){return this.$g(t,\"$s\",n)},d.millisecond=function(n){return this.$g(n,\"$ms\",t)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(t,o){var h=this,f=!!D.u(o)||o,c=D.p(t),d=function(t,n){var e=D.w(h.$u?Date.UTC(h.$y,n,t):new Date(h.$y,n,t),h);return f?e:e.endOf(i)},$=function(t,n){return D.w(h.toDate()[t].apply(h.toDate(),(f?[0,0,0,0]:[23,59,59,999]).slice(n)),h)},l=this.$W,m=this.$M,y=this.$D,M=\"set\"+(this.$u?\"UTC\":\"\");switch(c){case a:return f?d(1,0):d(31,11);case u:return f?d(1,m):d(0,m+1);case s:var g=this.$locale().weekStart||0,v=(l<g?l+7:l)-g;return d(f?y-v:y+(6-v),m);case i:case\"date\":return $(M+\"Hours\",0);case r:return $(M+\"Minutes\",1);case e:return $(M+\"Seconds\",2);case n:return $(M+\"Milliseconds\",3);default:return this.clone()}},d.endOf=function(t){return this.startOf(t,!1)},d.$set=function(s,o){var h,f=D.p(s),c=\"set\"+(this.$u?\"UTC\":\"\"),d=(h={},h[i]=c+\"Date\",h.date=c+\"Date\",h[u]=c+\"Month\",h[a]=c+\"FullYear\",h[r]=c+\"Hours\",h[e]=c+\"Minutes\",h[n]=c+\"Seconds\",h[t]=c+\"Milliseconds\",h)[f],$=f===i?this.$D+(o-this.$W):o;if(f===u||f===a){var l=this.clone().set(\"date\",1);l.$d[d]($),l.init(),this.$d=l.set(\"date\",Math.min(this.$D,l.daysInMonth())).toDate();}else d&&this.$d[d]($);return this.init(),this},d.set=function(t,n){return this.clone().$set(t,n)},d.get=function(t){return this[D.p(t)]()},d.add=function(t,o){var h,f=this;t=Number(t);var c=D.p(o),d=function(n){var e=g(f);return D.w(e.date(e.date()+Math.round(n*t)),f)};if(c===u)return this.set(u,this.$M+t);if(c===a)return this.set(a,this.$y+t);if(c===i)return d(1);if(c===s)return d(7);var $=(h={},h[e]=6e4,h[r]=36e5,h[n]=1e3,h)[c]||1,l=this.$d.getTime()+t*$;return D.w(l,this)},d.subtract=function(t,n){return this.add(-1*t,n)},d.format=function(t){var n=this;if(!this.isValid())return \"Invalid Date\";var e=t||\"YYYY-MM-DDTHH:mm:ssZ\",r=D.z(this),i=this.$locale(),s=this.$H,u=this.$m,o=this.$M,a=i.weekdays,h=i.months,c=function(t,r,i,s){return t&&(t[r]||t(n,e))||i[r].substr(0,s)},d=function(t){return D.s(s%12||12,t,\"0\")},$=i.meridiem||function(t,n,e){var r=t<12?\"AM\":\"PM\";return e?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:D.s(o+1,2,\"0\"),MMM:c(i.monthsShort,o,h,3),MMMM:h[o]||h(this,e),D:this.$D,DD:D.s(this.$D,2,\"0\"),d:String(this.$W),dd:c(i.weekdaysMin,this.$W,a,2),ddd:c(i.weekdaysShort,this.$W,a,3),dddd:a[this.$W],H:String(s),HH:D.s(s,2,\"0\"),h:d(1),hh:d(2),a:$(s,u,!0),A:$(s,u,!1),m:String(u),mm:D.s(u,2,\"0\"),s:String(this.$s),ss:D.s(this.$s,2,\"0\"),SSS:D.s(this.$ms,3,\"0\"),Z:r};return e.replace(f,function(t,n){return n||l[t]||r.replace(\":\",\"\")})},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(t,h,f){var c,d=D.p(h),$=g(t),l=6e4*($.utcOffset()-this.utcOffset()),m=this-$,y=D.m(this,$);return y=(c={},c[a]=y/12,c[u]=y,c[o]=y/3,c[s]=(m-l)/6048e5,c[i]=(m-l)/864e5,c[r]=m/36e5,c[e]=m/6e4,c[n]=m/1e3,c)[d]||m,f?y:D.a(y)},d.daysInMonth=function(){return this.endOf(u).$D},d.$locale=function(){return m[this.$L]},d.locale=function(t,n){if(!t)return this.$L;var e=this.clone(),r=M(t,n,!0);return r&&(e.$L=r),e},d.clone=function(){return D.w(this.$d,this)},d.toDate=function(){return new Date(this.valueOf())},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},c}();return g.prototype=v.prototype,g.extend=function(t,n){return t(n,v,g),g},g.locale=M,g.isDayjs=y,g.unix=function(t){return g(1e3*t)},g.en=m[l],g.Ls=m,g});\n});\n\nvar utc = createCommonjsModule(function (module, exports) {\n!function(t,i){module.exports=i();}(commonjsGlobal,function(){return function(t,i,e){var s=(new Date).getTimezoneOffset(),n=i.prototype;e.utc=function(t,e){return new i({date:t,utc:!0,format:e})},n.utc=function(){return e(this.toDate(),{locale:this.$L,utc:!0})},n.local=function(){return e(this.toDate(),{locale:this.$L,utc:!1})};var u=n.parse;n.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),u.call(this,t);};var o=n.init;n.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds();}else o.call(this);};var f=n.utcOffset;n.utcOffset=function(t){var i=this.$utils().u;if(i(t))return this.$u?0:i(this.$offset)?f.call(this):this.$offset;var e,n=Math.abs(t)<=16?60*t:t;return 0!==t?(e=this.local().add(n+s,\"minute\")).$offset=n:e=this.utc(),e};var r=n.format;n.format=function(t){var i=t||(this.$u?\"YYYY-MM-DDTHH:mm:ss[Z]\":\"\");return r.call(this,i)},n.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+s;return this.$d.valueOf()-6e4*t},n.isUTC=function(){return !!this.$u},n.toISOString=function(){return this.toDate().toISOString()},n.toString=function(){return this.toDate().toUTCString()};}});\n});\n\nvar advancedFormat = createCommonjsModule(function (module, exports) {\n!function(e,t){module.exports=t();}(commonjsGlobal,function(){return function(e,t,r){var n=t.prototype,o=n.format;r.en.ordinal=function(e){var t=[\"th\",\"st\",\"nd\",\"rd\"],r=e%100;return \"[\"+e+(t[(r-20)%10]||t[r]||t[0])+\"]\"},n.format=function(e){var t=this,r=this.$locale(),n=this.$utils(),a=(e||\"YYYY-MM-DDTHH:mm:ssZ\").replace(/\\[([^\\]]+)]|Q|wo|ww|w|gggg|Do|X|x|k{1,2}|S/g,function(e){switch(e){case\"Q\":return Math.ceil((t.$M+1)/3);case\"Do\":return r.ordinal(t.$D);case\"gggg\":return t.weekYear();case\"wo\":return r.ordinal(t.week(),\"W\");case\"w\":case\"ww\":return n.s(t.week(),\"w\"===e?1:2,\"0\");case\"k\":case\"kk\":return n.s(String(0===t.$H?24:t.$H),\"k\"===e?1:2,\"0\");case\"X\":return Math.floor(t.$d.getTime()/1e3);case\"x\":return t.$d.getTime();default:return e}});return o.bind(this)(a)};}});\n});\n\nvar weekOfYear = createCommonjsModule(function (module, exports) {\n!function(e,t){module.exports=t();}(commonjsGlobal,function(){var e=\"week\",t=\"year\";return function(i,n){var r=n.prototype;r.week=function(i){if(void 0===i&&(i=null),null!==i)return this.add(7*(i-this.week()),\"day\");var n=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var r=this.startOf(t).add(1,t).date(n),f=this.endOf(e);if(r.isBefore(f))return 1}var s=this.startOf(t).date(n).startOf(e).subtract(1,\"millisecond\"),a=this.diff(s,e,!0);return a<0?this.startOf(\"week\").week():Math.ceil(a)},r.weeks=function(e){return void 0===e&&(e=null),this.week(e)};}});\n});\n\n/**\n * Gantt-Schedule-Timeline-Calendar\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0\n */\ndayjs_min.extend(advancedFormat);\ndayjs_min.extend(weekOfYear);\nclass TimeApi {\n    constructor(state) {\n        this.utcMode = false;\n        this.state = state;\n        this.locale = state.get('config.locale');\n        this.utcMode = state.get('config.utcMode');\n        if (this.utcMode) {\n            dayjs_min.extend(utc);\n        }\n        // @ts-ignore\n        dayjs_min.locale(this.locale, null, true);\n    }\n    date(time) {\n        const _dayjs = this.utcMode ? dayjs_min.utc : dayjs_min;\n        return time ? _dayjs(time).locale(this.locale.name) : _dayjs().locale(this.locale.name);\n    }\n    addAdditionalSpace(time) {\n        if (time.additionalSpaces && time.additionalSpaces[time.period]) {\n            const add = time.additionalSpaces[time.period];\n            if (add.before) {\n                time.finalFrom = this.date(time.from)\n                    .subtract(add.before, add.period)\n                    .valueOf();\n            }\n            if (add.after) {\n                time.finalTo = this.date(time.to)\n                    .add(add.after, add.period)\n                    .valueOf();\n            }\n        }\n        return time;\n    }\n    recalculateFromTo(time) {\n        const period = time.period;\n        time = Object.assign({}, time);\n        time.from = +time.from;\n        time.to = +time.to;\n        let from = Number.MAX_SAFE_INTEGER, to = 0;\n        const items = this.state.get('config.chart.items');\n        if (Object.keys(items).length === 0) {\n            return time;\n        }\n        if (time.from === 0 || time.to === 0) {\n            for (const itemId in items) {\n                const item = items[itemId];\n                if (item.time.start < from && item.time.start) {\n                    from = item.time.start;\n                }\n                if (item.time.end > to) {\n                    to = item.time.end;\n                }\n            }\n            if (time.from === 0) {\n                time.from = this.date(from)\n                    .startOf(period)\n                    .valueOf();\n            }\n            if (time.to === 0) {\n                time.to = this.date(to)\n                    .endOf(period)\n                    .valueOf();\n            }\n        }\n        time.finalFrom = time.from;\n        time.finalTo = time.to;\n        time = this.addAdditionalSpace(time);\n        return time;\n    }\n    getCenter(time) {\n        return time.leftGlobal + (time.rightGlobal - time.leftGlobal) / 2;\n    }\n    timeToPixelOffset(milliseconds) {\n        const timePerPixel = this.state.get('_internal.chart.time.timePerPixel') || 1;\n        return milliseconds / timePerPixel;\n    }\n    globalTimeToViewPixelOffset(milliseconds, withCompensation = false) {\n        const time = this.state.get('_internal.chart.time');\n        let xCompensation = this.state.get('config.scroll.compensation.x') || 0;\n        const viewPixelOffset = (milliseconds - time.leftGlobal) / time.timePerPixel;\n        if (withCompensation)\n            return viewPixelOffset + xCompensation;\n        return viewPixelOffset;\n    }\n}\n\n// forked from https://github.com/joonhocho/superwild\nfunction Matcher(pattern, wchar = '*') {\n    this.wchar = wchar;\n    this.pattern = pattern;\n    this.segments = [];\n    this.starCount = 0;\n    this.minLength = 0;\n    this.maxLength = 0;\n    this.segStartIndex = 0;\n    for (let i = 0, len = pattern.length; i < len; i += 1) {\n        const char = pattern[i];\n        if (char === wchar) {\n            this.starCount += 1;\n            if (i > this.segStartIndex) {\n                this.segments.push(pattern.substring(this.segStartIndex, i));\n            }\n            this.segments.push(char);\n            this.segStartIndex = i + 1;\n        }\n    }\n    if (this.segStartIndex < pattern.length) {\n        this.segments.push(pattern.substring(this.segStartIndex));\n    }\n    if (this.starCount) {\n        this.minLength = pattern.length - this.starCount;\n        this.maxLength = Infinity;\n    }\n    else {\n        this.maxLength = this.minLength = pattern.length;\n    }\n}\nMatcher.prototype.match = function match(match) {\n    if (this.pattern === this.wchar) {\n        return true;\n    }\n    if (this.segments.length === 0) {\n        return this.pattern === match;\n    }\n    const { length } = match;\n    if (length < this.minLength || length > this.maxLength) {\n        return false;\n    }\n    let segLeftIndex = 0;\n    let segRightIndex = this.segments.length - 1;\n    let rightPos = match.length - 1;\n    let rightIsStar = false;\n    while (true) {\n        const segment = this.segments[segRightIndex];\n        segRightIndex -= 1;\n        if (segment === this.wchar) {\n            rightIsStar = true;\n        }\n        else {\n            const lastIndex = rightPos + 1 - segment.length;\n            const index = match.lastIndexOf(segment, lastIndex);\n            if (index === -1 || index > lastIndex) {\n                return false;\n            }\n            if (rightIsStar) {\n                rightPos = index - 1;\n                rightIsStar = false;\n            }\n            else {\n                if (index !== lastIndex) {\n                    return false;\n                }\n                rightPos -= segment.length;\n            }\n        }\n        if (segLeftIndex > segRightIndex) {\n            break;\n        }\n    }\n    return true;\n};\n\nfunction WildcardObject(obj, delimeter, wildcard) {\n    this.obj = obj;\n    this.delimeter = delimeter;\n    this.wildcard = wildcard;\n}\nWildcardObject.prototype.simpleMatch = function simpleMatch(first, second) {\n    if (first === second)\n        return true;\n    if (first === this.wildcard)\n        return true;\n    const index = first.indexOf(this.wildcard);\n    if (index > -1) {\n        const end = first.substr(index + 1);\n        if (index === 0 || second.substring(0, index) === first.substring(0, index)) {\n            const len = end.length;\n            if (len > 0) {\n                return second.substr(-len) === end;\n            }\n            return true;\n        }\n    }\n    return false;\n};\nWildcardObject.prototype.match = function match(first, second) {\n    return (first === second ||\n        first === this.wildcard ||\n        second === this.wildcard ||\n        this.simpleMatch(first, second) ||\n        new Matcher(first).match(second));\n};\nWildcardObject.prototype.handleArray = function handleArray(wildcard, currentArr, partIndex, path, result = {}) {\n    let nextPartIndex = wildcard.indexOf(this.delimeter, partIndex);\n    let end = false;\n    if (nextPartIndex === -1) {\n        end = true;\n        nextPartIndex = wildcard.length;\n    }\n    const currentWildcardPath = wildcard.substring(partIndex, nextPartIndex);\n    let index = 0;\n    for (const item of currentArr) {\n        const key = index.toString();\n        const currentPath = path === '' ? key : path + this.delimeter + index;\n        if (currentWildcardPath === this.wildcard ||\n            currentWildcardPath === key ||\n            this.simpleMatch(currentWildcardPath, key)) {\n            end ? (result[currentPath] = item) : this.goFurther(wildcard, item, nextPartIndex + 1, currentPath, result);\n        }\n        index++;\n    }\n    return result;\n};\nWildcardObject.prototype.handleObject = function handleObject(wildcard, currentObj, partIndex, path, result = {}) {\n    let nextPartIndex = wildcard.indexOf(this.delimeter, partIndex);\n    let end = false;\n    if (nextPartIndex === -1) {\n        end = true;\n        nextPartIndex = wildcard.length;\n    }\n    const currentWildcardPath = wildcard.substring(partIndex, nextPartIndex);\n    for (let key in currentObj) {\n        key = key.toString();\n        const currentPath = path === '' ? key : path + this.delimeter + key;\n        if (currentWildcardPath === this.wildcard ||\n            currentWildcardPath === key ||\n            this.simpleMatch(currentWildcardPath, key)) {\n            end\n                ? (result[currentPath] = currentObj[key])\n                : this.goFurther(wildcard, currentObj[key], nextPartIndex + 1, currentPath, result);\n        }\n    }\n    return result;\n};\nWildcardObject.prototype.goFurther = function goFurther(wildcard, currentObj, partIndex, currentPath, result = {}) {\n    if (Array.isArray(currentObj)) {\n        return this.handleArray(wildcard, currentObj, partIndex, currentPath, result);\n    }\n    return this.handleObject(wildcard, currentObj, partIndex, currentPath, result);\n};\nWildcardObject.prototype.get = function get(wildcard) {\n    return this.goFurther(wildcard, this.obj, 0, '');\n};\n\nclass ObjectPath {\n    static get(path, obj, copiedPath = null) {\n        if (copiedPath === null) {\n            copiedPath = path.slice();\n        }\n        if (copiedPath.length === 0 || typeof obj === \"undefined\") {\n            return obj;\n        }\n        const currentPath = copiedPath.shift();\n        if (!obj.hasOwnProperty(currentPath)) {\n            return undefined;\n        }\n        if (copiedPath.length === 0) {\n            return obj[currentPath];\n        }\n        return ObjectPath.get(path, obj[currentPath], copiedPath);\n    }\n    static set(path, newValue, obj, copiedPath = null) {\n        if (copiedPath === null) {\n            copiedPath = path.slice();\n        }\n        if (copiedPath.length === 0) {\n            for (const key in obj) {\n                delete obj[key];\n            }\n            for (const key in newValue) {\n                obj[key] = newValue[key];\n            }\n            return;\n        }\n        const currentPath = copiedPath.shift();\n        if (copiedPath.length === 0) {\n            obj[currentPath] = newValue;\n            return;\n        }\n        if (!obj) {\n            obj = {};\n        }\n        if (!obj.hasOwnProperty(currentPath)) {\n            obj[currentPath] = {};\n        }\n        ObjectPath.set(path, newValue, obj[currentPath], copiedPath);\n    }\n}\n\nfunction log(message, info) {\n    console.debug(message, info);\n}\nconst defaultOptions$1 = {\n    delimeter: `.`,\n    notRecursive: `;`,\n    param: `:`,\n    wildcard: `*`,\n    log\n};\nconst defaultListenerOptions = {\n    bulk: false,\n    debug: false,\n    source: \"\",\n    data: undefined\n};\nconst defaultUpdateOptions = {\n    only: [],\n    source: \"\",\n    debug: false,\n    data: undefined,\n    updateAfter: false\n};\nclass DeepState {\n    constructor(data = {}, options = defaultOptions$1) {\n        this.listeners = new Map();\n        this.waitingListeners = new Map();\n        this.data = data;\n        this.options = Object.assign(Object.assign({}, defaultOptions$1), options);\n        this.id = 0;\n        this.pathGet = ObjectPath.get;\n        this.pathSet = ObjectPath.set;\n        this.scan = new WildcardObject(this.data, this.options.delimeter, this.options.wildcard);\n    }\n    getListeners() {\n        return this.listeners;\n    }\n    destroy() {\n        this.data = undefined;\n        this.listeners = new Map();\n    }\n    match(first, second) {\n        if (first === second)\n            return true;\n        if (first === this.options.wildcard || second === this.options.wildcard)\n            return true;\n        return this.scan.match(first, second);\n    }\n    getIndicesOf(searchStr, str) {\n        const searchStrLen = searchStr.length;\n        if (searchStrLen == 0) {\n            return [];\n        }\n        let startIndex = 0, index, indices = [];\n        while ((index = str.indexOf(searchStr, startIndex)) > -1) {\n            indices.push(index);\n            startIndex = index + searchStrLen;\n        }\n        return indices;\n    }\n    getIndicesCount(searchStr, str) {\n        const searchStrLen = searchStr.length;\n        if (searchStrLen == 0) {\n            return 0;\n        }\n        let startIndex = 0, index, indices = 0;\n        while ((index = str.indexOf(searchStr, startIndex)) > -1) {\n            indices++;\n            startIndex = index + searchStrLen;\n        }\n        return indices;\n    }\n    cutPath(longer, shorter) {\n        longer = this.cleanNotRecursivePath(longer);\n        shorter = this.cleanNotRecursivePath(shorter);\n        const shorterPartsLen = this.getIndicesCount(this.options.delimeter, shorter);\n        const longerParts = this.getIndicesOf(this.options.delimeter, longer);\n        return longer.substr(0, longerParts[shorterPartsLen]);\n    }\n    trimPath(path) {\n        path = this.cleanNotRecursivePath(path);\n        if (path.charAt(0) === this.options.delimeter) {\n            return path.substr(1);\n        }\n        return path;\n    }\n    split(path) {\n        return path === \"\" ? [] : path.split(this.options.delimeter);\n    }\n    isWildcard(path) {\n        return path.includes(this.options.wildcard);\n    }\n    isNotRecursive(path) {\n        return path.endsWith(this.options.notRecursive);\n    }\n    cleanNotRecursivePath(path) {\n        return this.isNotRecursive(path) ? path.substring(0, path.length - 1) : path;\n    }\n    hasParams(path) {\n        return path.includes(this.options.param);\n    }\n    getParamsInfo(path) {\n        let paramsInfo = { replaced: \"\", original: path, params: {} };\n        let partIndex = 0;\n        let fullReplaced = [];\n        for (const part of this.split(path)) {\n            paramsInfo.params[partIndex] = {\n                original: part,\n                replaced: \"\",\n                name: \"\"\n            };\n            const reg = new RegExp(`\\\\${this.options.param}([^\\\\${this.options.delimeter}\\\\${this.options.param}]+)`, \"g\");\n            let param = reg.exec(part);\n            if (param) {\n                paramsInfo.params[partIndex].name = param[1];\n            }\n            else {\n                delete paramsInfo.params[partIndex];\n                fullReplaced.push(part);\n                partIndex++;\n                continue;\n            }\n            reg.lastIndex = 0;\n            paramsInfo.params[partIndex].replaced = part.replace(reg, this.options.wildcard);\n            fullReplaced.push(paramsInfo.params[partIndex].replaced);\n            partIndex++;\n        }\n        paramsInfo.replaced = fullReplaced.join(this.options.delimeter);\n        return paramsInfo;\n    }\n    getParams(paramsInfo, path) {\n        if (!paramsInfo) {\n            return undefined;\n        }\n        const split = this.split(path);\n        const result = {};\n        for (const partIndex in paramsInfo.params) {\n            const param = paramsInfo.params[partIndex];\n            result[param.name] = split[partIndex];\n        }\n        return result;\n    }\n    waitForAll(userPaths, fn) {\n        const paths = {};\n        for (let path of userPaths) {\n            paths[path] = { dirty: false };\n            if (this.hasParams(path)) {\n                paths[path].paramsInfo = this.getParamsInfo(path);\n            }\n            paths[path].isWildcard = this.isWildcard(path);\n            paths[path].isRecursive = !this.isNotRecursive(path);\n        }\n        this.waitingListeners.set(userPaths, { fn, paths });\n        fn(paths);\n        return function unsubscribe() {\n            this.waitingListeners.delete(userPaths);\n        };\n    }\n    executeWaitingListeners(updatePath) {\n        for (const waitingListener of this.waitingListeners.values()) {\n            const { fn, paths } = waitingListener;\n            let dirty = 0;\n            let all = 0;\n            for (let path in paths) {\n                const pathInfo = paths[path];\n                let match = false;\n                if (pathInfo.isRecursive)\n                    updatePath = this.cutPath(updatePath, path);\n                if (pathInfo.isWildcard && this.match(path, updatePath))\n                    match = true;\n                if (updatePath === path)\n                    match = true;\n                if (match) {\n                    pathInfo.dirty = true;\n                }\n                if (pathInfo.dirty) {\n                    dirty++;\n                }\n                all++;\n            }\n            if (dirty === all) {\n                fn(paths);\n            }\n        }\n    }\n    subscribeAll(userPaths, fn, options = defaultListenerOptions) {\n        let unsubscribers = [];\n        for (const userPath of userPaths) {\n            unsubscribers.push(this.subscribe(userPath, fn, options));\n        }\n        return function unsubscribe() {\n            for (const unsubscribe of unsubscribers) {\n                unsubscribe();\n            }\n        };\n    }\n    getCleanListenersCollection(values = {}) {\n        return Object.assign({ listeners: new Map(), isRecursive: false, isWildcard: false, hasParams: false, match: undefined, paramsInfo: undefined, path: undefined, count: 0 }, values);\n    }\n    getCleanListener(fn, options = defaultListenerOptions) {\n        return {\n            fn,\n            options: Object.assign(Object.assign({}, defaultListenerOptions), options)\n        };\n    }\n    getListenerCollectionMatch(listenerPath, isRecursive, isWildcard) {\n        listenerPath = this.cleanNotRecursivePath(listenerPath);\n        const self = this;\n        return function listenerCollectionMatch(path) {\n            if (isRecursive)\n                path = self.cutPath(path, listenerPath);\n            if (isWildcard && self.match(listenerPath, path))\n                return true;\n            return listenerPath === path;\n        };\n    }\n    getListenersCollection(listenerPath, listener) {\n        if (this.listeners.has(listenerPath)) {\n            let listenersCollection = this.listeners.get(listenerPath);\n            listenersCollection.listeners.set(++this.id, listener);\n            return listenersCollection;\n        }\n        let collCfg = {\n            isRecursive: true,\n            isWildcard: false,\n            hasParams: false,\n            paramsInfo: undefined,\n            originalPath: listenerPath,\n            path: listenerPath\n        };\n        if (this.hasParams(collCfg.path)) {\n            collCfg.paramsInfo = this.getParamsInfo(collCfg.path);\n            collCfg.path = collCfg.paramsInfo.replaced;\n            collCfg.hasParams = true;\n        }\n        collCfg.isWildcard = this.isWildcard(collCfg.path);\n        if (this.isNotRecursive(collCfg.path)) {\n            collCfg.isRecursive = false;\n        }\n        let listenersCollection = this.getCleanListenersCollection(Object.assign(Object.assign({}, collCfg), { match: this.getListenerCollectionMatch(collCfg.path, collCfg.isRecursive, collCfg.isWildcard) }));\n        this.id++;\n        listenersCollection.listeners.set(this.id, listener);\n        this.listeners.set(collCfg.path, listenersCollection);\n        return listenersCollection;\n    }\n    subscribe(listenerPath, fn, options = defaultListenerOptions, type = \"subscribe\") {\n        let listener = this.getCleanListener(fn, options);\n        const listenersCollection = this.getListenersCollection(listenerPath, listener);\n        listenersCollection.count++;\n        listenerPath = listenersCollection.path;\n        if (!listenersCollection.isWildcard) {\n            fn(this.pathGet(this.split(this.cleanNotRecursivePath(listenerPath)), this.data), {\n                type,\n                listener,\n                listenersCollection,\n                path: {\n                    listener: listenerPath,\n                    update: undefined,\n                    resolved: this.cleanNotRecursivePath(listenerPath)\n                },\n                params: this.getParams(listenersCollection.paramsInfo, listenerPath),\n                options\n            });\n        }\n        else {\n            const paths = this.scan.get(this.cleanNotRecursivePath(listenerPath));\n            if (options.bulk) {\n                const bulkValue = [];\n                for (const path in paths) {\n                    bulkValue.push({\n                        path,\n                        params: this.getParams(listenersCollection.paramsInfo, path),\n                        value: paths[path]\n                    });\n                }\n                fn(bulkValue, {\n                    type,\n                    listener,\n                    listenersCollection,\n                    path: {\n                        listener: listenerPath,\n                        update: undefined,\n                        resolved: undefined\n                    },\n                    options,\n                    params: undefined\n                });\n            }\n            else {\n                for (const path in paths) {\n                    fn(paths[path], {\n                        type,\n                        listener,\n                        listenersCollection,\n                        path: {\n                            listener: listenerPath,\n                            update: undefined,\n                            resolved: this.cleanNotRecursivePath(path)\n                        },\n                        params: this.getParams(listenersCollection.paramsInfo, path),\n                        options\n                    });\n                }\n            }\n        }\n        this.debugSubscribe(listener, listenersCollection, listenerPath);\n        return this.unsubscribe(listenerPath, this.id);\n    }\n    unsubscribe(path, id) {\n        const listeners = this.listeners;\n        const listenersCollection = listeners.get(path);\n        return function unsub() {\n            listenersCollection.listeners.delete(id);\n            listenersCollection.count--;\n            if (listenersCollection.count === 0) {\n                listeners.delete(path);\n            }\n        };\n    }\n    same(newValue, oldValue) {\n        return (([\"number\", \"string\", \"undefined\", \"boolean\"].includes(typeof newValue) || newValue === null) &&\n            oldValue === newValue);\n    }\n    notifyListeners(listeners, exclude = [], returnNotified = true) {\n        const alreadyNotified = [];\n        for (const path in listeners) {\n            let { single, bulk } = listeners[path];\n            for (const singleListener of single) {\n                if (exclude.includes(singleListener))\n                    continue;\n                const time = this.debugTime(singleListener);\n                singleListener.listener.fn(singleListener.value(), singleListener.eventInfo);\n                if (returnNotified)\n                    alreadyNotified.push(singleListener);\n                this.debugListener(time, singleListener);\n            }\n            for (const bulkListener of bulk) {\n                if (exclude.includes(bulkListener))\n                    continue;\n                const time = this.debugTime(bulkListener);\n                const bulkValue = [];\n                for (const bulk of bulkListener.value) {\n                    bulkValue.push(Object.assign(Object.assign({}, bulk), { value: bulk.value() }));\n                }\n                bulkListener.listener.fn(bulkValue, bulkListener.eventInfo);\n                if (returnNotified)\n                    alreadyNotified.push(bulkListener);\n                this.debugListener(time, bulkListener);\n            }\n        }\n        return alreadyNotified;\n    }\n    getSubscribedListeners(updatePath, newValue, options, type = \"update\", originalPath = null) {\n        options = Object.assign(Object.assign({}, defaultUpdateOptions), options);\n        const listeners = {};\n        for (let [listenerPath, listenersCollection] of this.listeners) {\n            listeners[listenerPath] = { single: [], bulk: [], bulkData: [] };\n            if (listenersCollection.match(updatePath)) {\n                const params = listenersCollection.paramsInfo\n                    ? this.getParams(listenersCollection.paramsInfo, updatePath)\n                    : undefined;\n                const value = listenersCollection.isRecursive || listenersCollection.isWildcard\n                    ? () => this.get(this.cutPath(updatePath, listenerPath))\n                    : () => newValue;\n                const bulkValue = [{ value, path: updatePath, params }];\n                for (const listener of listenersCollection.listeners.values()) {\n                    if (listener.options.bulk) {\n                        listeners[listenerPath].bulk.push({\n                            listener,\n                            listenersCollection,\n                            eventInfo: {\n                                type,\n                                listener,\n                                path: {\n                                    listener: listenerPath,\n                                    update: originalPath ? originalPath : updatePath,\n                                    resolved: undefined\n                                },\n                                params,\n                                options\n                            },\n                            value: bulkValue\n                        });\n                    }\n                    else {\n                        listeners[listenerPath].single.push({\n                            listener,\n                            listenersCollection,\n                            eventInfo: {\n                                type,\n                                listener,\n                                path: {\n                                    listener: listenerPath,\n                                    update: originalPath ? originalPath : updatePath,\n                                    resolved: this.cleanNotRecursivePath(updatePath)\n                                },\n                                params,\n                                options\n                            },\n                            value\n                        });\n                    }\n                }\n            }\n        }\n        return listeners;\n    }\n    notifySubscribedListeners(updatePath, newValue, options, type = \"update\", originalPath = null) {\n        return this.notifyListeners(this.getSubscribedListeners(updatePath, newValue, options, type, originalPath));\n    }\n    getNestedListeners(updatePath, newValue, options, type = \"update\", originalPath = null) {\n        const listeners = {};\n        for (let [listenerPath, listenersCollection] of this.listeners) {\n            listeners[listenerPath] = { single: [], bulk: [] };\n            const currentCuttedPath = this.cutPath(listenerPath, updatePath);\n            if (this.match(currentCuttedPath, updatePath)) {\n                const restPath = this.trimPath(listenerPath.substr(currentCuttedPath.length));\n                const values = new WildcardObject(newValue, this.options.delimeter, this.options.wildcard).get(restPath);\n                const params = listenersCollection.paramsInfo\n                    ? this.getParams(listenersCollection.paramsInfo, updatePath)\n                    : undefined;\n                const bulk = [];\n                const bulkListeners = {};\n                for (const currentRestPath in values) {\n                    const value = () => values[currentRestPath];\n                    const fullPath = [updatePath, currentRestPath].join(this.options.delimeter);\n                    for (const [listenerId, listener] of listenersCollection.listeners) {\n                        const eventInfo = {\n                            type,\n                            listener,\n                            listenersCollection,\n                            path: {\n                                listener: listenerPath,\n                                update: originalPath ? originalPath : updatePath,\n                                resolved: this.cleanNotRecursivePath(fullPath)\n                            },\n                            params,\n                            options\n                        };\n                        if (listener.options.bulk) {\n                            bulk.push({ value, path: fullPath, params });\n                            bulkListeners[listenerId] = listener;\n                        }\n                        else {\n                            listeners[listenerPath].single.push({\n                                listener,\n                                listenersCollection,\n                                eventInfo,\n                                value\n                            });\n                        }\n                    }\n                }\n                for (const listenerId in bulkListeners) {\n                    const listener = bulkListeners[listenerId];\n                    const eventInfo = {\n                        type,\n                        listener,\n                        listenersCollection,\n                        path: {\n                            listener: listenerPath,\n                            update: updatePath,\n                            resolved: undefined\n                        },\n                        options,\n                        params\n                    };\n                    listeners[listenerPath].bulk.push({\n                        listener,\n                        listenersCollection,\n                        eventInfo,\n                        value: bulk\n                    });\n                }\n            }\n        }\n        return listeners;\n    }\n    notifyNestedListeners(updatePath, newValue, options, type = \"update\", alreadyNotified, originalPath = null) {\n        return this.notifyListeners(this.getNestedListeners(updatePath, newValue, options, type, originalPath), alreadyNotified, false);\n    }\n    getNotifyOnlyListeners(updatePath, newValue, options, type = \"update\", originalPath = null) {\n        const listeners = {};\n        if (typeof options.only !== \"object\" ||\n            !Array.isArray(options.only) ||\n            typeof options.only[0] === \"undefined\" ||\n            !this.canBeNested(newValue)) {\n            return listeners;\n        }\n        for (const notifyPath of options.only) {\n            const wildcardScan = new WildcardObject(newValue, this.options.delimeter, this.options.wildcard).get(notifyPath);\n            listeners[notifyPath] = { bulk: [], single: [] };\n            for (const wildcardPath in wildcardScan) {\n                const fullPath = updatePath + this.options.delimeter + wildcardPath;\n                for (const [listenerPath, listenersCollection] of this.listeners) {\n                    const params = listenersCollection.paramsInfo\n                        ? this.getParams(listenersCollection.paramsInfo, fullPath)\n                        : undefined;\n                    if (this.match(listenerPath, fullPath)) {\n                        const value = () => wildcardScan[wildcardPath];\n                        const bulkValue = [{ value, path: fullPath, params }];\n                        for (const listener of listenersCollection.listeners.values()) {\n                            const eventInfo = {\n                                type,\n                                listener,\n                                listenersCollection,\n                                path: {\n                                    listener: listenerPath,\n                                    update: originalPath ? originalPath : updatePath,\n                                    resolved: this.cleanNotRecursivePath(fullPath)\n                                },\n                                params,\n                                options\n                            };\n                            if (listener.options.bulk) {\n                                if (!listeners[notifyPath].bulk.some(bulkListener => bulkListener.listener === listener)) {\n                                    listeners[notifyPath].bulk.push({\n                                        listener,\n                                        listenersCollection,\n                                        eventInfo,\n                                        value: bulkValue\n                                    });\n                                }\n                            }\n                            else {\n                                listeners[notifyPath].single.push({\n                                    listener,\n                                    listenersCollection,\n                                    eventInfo,\n                                    value\n                                });\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        return listeners;\n    }\n    notifyOnly(updatePath, newValue, options, type = \"update\", originalPath = \"\") {\n        return (typeof this.notifyListeners(this.getNotifyOnlyListeners(updatePath, newValue, options, type, originalPath))[0] !==\n            \"undefined\");\n    }\n    canBeNested(newValue) {\n        return typeof newValue === \"object\" && newValue !== null;\n    }\n    getUpdateValues(oldValue, split, fn) {\n        if (typeof oldValue === \"object\" && oldValue !== null) {\n            Array.isArray(oldValue) ? (oldValue = oldValue.slice()) : (oldValue = Object.assign({}, oldValue));\n        }\n        let newValue = fn;\n        if (typeof fn === \"function\") {\n            newValue = fn(this.pathGet(split, this.data));\n        }\n        return { newValue, oldValue };\n    }\n    wildcardUpdate(updatePath, fn, options = defaultUpdateOptions) {\n        options = Object.assign(Object.assign({}, defaultUpdateOptions), options);\n        const scanned = this.scan.get(updatePath);\n        const bulk = {};\n        for (const path in scanned) {\n            const split = this.split(path);\n            const { oldValue, newValue } = this.getUpdateValues(scanned[path], split, fn);\n            if (!this.same(newValue, oldValue))\n                bulk[path] = newValue;\n        }\n        const groupedListenersPack = [];\n        const waitingPaths = [];\n        for (const path in bulk) {\n            const newValue = bulk[path];\n            if (options.only.length) {\n                groupedListenersPack.push(this.getNotifyOnlyListeners(path, newValue, options, \"update\", updatePath));\n            }\n            else {\n                groupedListenersPack.push(this.getSubscribedListeners(path, newValue, options, \"update\", updatePath));\n                this.canBeNested(newValue) &&\n                    groupedListenersPack.push(this.getNestedListeners(path, newValue, options, \"update\", updatePath));\n            }\n            options.debug && this.options.log(\"Wildcard update\", { path, newValue });\n            this.pathSet(this.split(path), newValue, this.data);\n            waitingPaths.push(path);\n        }\n        let alreadyNotified = [];\n        for (const groupedListeners of groupedListenersPack) {\n            alreadyNotified = [...alreadyNotified, ...this.notifyListeners(groupedListeners, alreadyNotified)];\n        }\n        for (const path of waitingPaths) {\n            this.executeWaitingListeners(path);\n        }\n    }\n    update(updatePath, fn, options = defaultUpdateOptions) {\n        if (this.isWildcard(updatePath)) {\n            return this.wildcardUpdate(updatePath, fn, options);\n        }\n        const split = this.split(updatePath);\n        const { oldValue, newValue } = this.getUpdateValues(this.pathGet(split, this.data), split, fn);\n        if (options.debug) {\n            this.options.log(`Updating ${updatePath} ${options.source ? `from ${options.source}` : \"\"}`, {\n                oldValue,\n                newValue\n            });\n        }\n        if (this.same(newValue, oldValue)) {\n            return newValue;\n        }\n        if (!options.updateAfter) {\n            this.pathSet(split, newValue, this.data);\n        }\n        options = Object.assign(Object.assign({}, defaultUpdateOptions), options);\n        if (options.only === null) {\n            return newValue;\n        }\n        if (options.only.length) {\n            this.notifyOnly(updatePath, newValue, options);\n            this.executeWaitingListeners(updatePath);\n            return newValue;\n        }\n        const alreadyNotified = this.notifySubscribedListeners(updatePath, newValue, options);\n        if (this.canBeNested(newValue)) {\n            this.notifyNestedListeners(updatePath, newValue, options, \"update\", alreadyNotified);\n        }\n        this.executeWaitingListeners(updatePath);\n        if (options.updateAfter) {\n            this.pathSet(split, newValue, this.data);\n        }\n        return newValue;\n    }\n    get(userPath = undefined) {\n        if (typeof userPath === \"undefined\" || userPath === \"\") {\n            return this.data;\n        }\n        return this.pathGet(this.split(userPath), this.data);\n    }\n    debugSubscribe(listener, listenersCollection, listenerPath) {\n        if (listener.options.debug) {\n            this.options.log(\"listener subscribed\", {\n                listenerPath,\n                listener,\n                listenersCollection\n            });\n        }\n    }\n    debugListener(time, groupedListener) {\n        if (groupedListener.eventInfo.options.debug || groupedListener.listener.options.debug) {\n            this.options.log(\"Listener fired\", {\n                time: Date.now() - time,\n                info: groupedListener\n            });\n        }\n    }\n    debugTime(groupedListener) {\n        return groupedListener.listener.options.debug || groupedListener.eventInfo.options.debug ? Date.now() : 0;\n    }\n}\n\n/**\n * Schedule - a throttle function that uses requestAnimationFrame to limit the rate at which a function is called.\n *\n * @param {function} fn\n * @returns {function}\n */\n/**\n * Is object - helper function to determine if specified variable is an object\n *\n * @param {any} item\n * @returns {boolean}\n */\nfunction isObject$1(item) {\n    return item && typeof item === 'object' && !Array.isArray(item);\n}\n/**\n * Merge deep - helper function which will merge objects recursively - creating brand new one - like clone\n *\n * @param {object} target\n * @params {object} sources\n * @returns {object}\n */\nfunction mergeDeep$1(target, ...sources) {\n    const source = sources.shift();\n    if (isObject$1(target) && isObject$1(source)) {\n        for (const key in source) {\n            if (isObject$1(source[key])) {\n                if (typeof target[key] === 'undefined') {\n                    target[key] = {};\n                }\n                target[key] = mergeDeep$1(target[key], source[key]);\n            }\n            else if (Array.isArray(source[key])) {\n                target[key] = [];\n                for (let item of source[key]) {\n                    if (isObject$1(item)) {\n                        target[key].push(mergeDeep$1({}, item));\n                        continue;\n                    }\n                    target[key].push(item);\n                }\n            }\n            else {\n                target[key] = source[key];\n            }\n        }\n    }\n    if (!sources.length) {\n        return target;\n    }\n    return mergeDeep$1(target, ...sources);\n}\n\n/**\n * Api functions\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0\n */\nconst lib = 'gantt-schedule-timeline-calendar';\nfunction mergeActions(userConfig, defaultConfig) {\n    const defaultConfigActions = mergeDeep$1({}, defaultConfig.actions);\n    const userActions = mergeDeep$1({}, userConfig.actions);\n    let allActionNames = [...Object.keys(defaultConfigActions), ...Object.keys(userActions)];\n    allActionNames = allActionNames.filter(i => allActionNames.includes(i));\n    const actions = {};\n    for (const actionName of allActionNames) {\n        actions[actionName] = [];\n        if (typeof defaultConfigActions[actionName] !== 'undefined' && Array.isArray(defaultConfigActions[actionName])) {\n            actions[actionName] = [...defaultConfigActions[actionName]];\n        }\n        if (typeof userActions[actionName] !== 'undefined' && Array.isArray(userActions[actionName])) {\n            actions[actionName] = [...actions[actionName], ...userActions[actionName]];\n        }\n    }\n    delete userConfig.actions;\n    delete defaultConfig.actions;\n    return actions;\n}\nfunction stateFromConfig(userConfig) {\n    const defaultConfig$1 = defaultConfig();\n    const actions = mergeActions(userConfig, defaultConfig$1);\n    const state = { config: mergeDeep$1({}, defaultConfig$1, userConfig) };\n    state.config.actions = actions;\n    // @ts-ignore\n    return (this.state = new DeepState(state, { delimeter: '.' }));\n}\nconst publicApi = {\n    name: lib,\n    stateFromConfig,\n    mergeDeep: mergeDeep$1,\n    date(time) {\n        return time ? dayjs_min(time) : dayjs_min();\n    },\n    setPeriod(period) {\n        this.state.update('config.chart.time.period', period);\n        return this.state.get('config.chart.time.zoom');\n    },\n    dayjs: dayjs_min\n};\nfunction getInternalApi(state) {\n    let $state = state.get();\n    let unsubscribes = [];\n    const iconsCache = {};\n    const api = {\n        name: lib,\n        debug: false,\n        setVido(Vido) {\n        },\n        log(...args) {\n            if (this.debug) {\n                console.log.call(console, ...args);\n            }\n        },\n        mergeDeep: mergeDeep$1,\n        getClass(name) {\n            let simple = `${lib}__${name}`;\n            if (name === this.name) {\n                simple = this.name;\n            }\n            return simple;\n        },\n        allActions: [],\n        getActions(name) {\n            if (!this.allActions.includes(name))\n                this.allActions.push(name);\n            let actions = state.get('config.actions.' + name);\n            if (typeof actions === 'undefined') {\n                actions = [];\n            }\n            return actions.slice();\n        },\n        isItemInViewport(item, left, right) {\n            return ((item.time.start >= left && item.time.start < right) ||\n                (item.time.end >= left && item.time.end < right) ||\n                (item.time.start <= left && item.time.end >= right));\n        },\n        prepareItems(items) {\n            for (const item of items) {\n                item.time.start = +item.time.start;\n                item.time.end = +item.time.end;\n                item.id = String(item.id);\n            }\n            return items;\n        },\n        fillEmptyRowValues(rows) {\n            let top = 0;\n            for (const rowId in rows) {\n                const row = rows[rowId];\n                row._internal = {\n                    parents: [],\n                    children: [],\n                    items: []\n                };\n                if (typeof row.height !== 'number') {\n                    row.height = $state.config.list.rowHeight;\n                }\n                if (typeof row.expanded !== 'boolean') {\n                    row.expanded = false;\n                }\n                row.top = top;\n                top += row.height;\n            }\n            return rows;\n        },\n        generateParents(rows, parentName = 'parentId') {\n            const parents = {};\n            for (const row of rows) {\n                const parentId = row[parentName] !== undefined && row[parentName] !== null ? row[parentName] : '';\n                if (parents[parentId] === undefined) {\n                    parents[parentId] = {};\n                }\n                parents[parentId][row.id] = row;\n            }\n            return parents;\n        },\n        fastTree(rowParents, node, parents = []) {\n            const children = rowParents[node.id];\n            node._internal.parents = parents;\n            if (typeof children === 'undefined') {\n                node._internal.children = [];\n                return node;\n            }\n            if (node.id !== '') {\n                parents = [...parents, node.id];\n            }\n            node._internal.children = Object.values(children);\n            for (const childrenId in children) {\n                const child = children[childrenId];\n                this.fastTree(rowParents, child, parents);\n            }\n            return node;\n        },\n        makeTreeMap(rows, items) {\n            const itemParents = this.generateParents(items, 'rowId');\n            for (const row of rows) {\n                row._internal.items = itemParents[row.id] !== undefined ? Object.values(itemParents[row.id]) : [];\n            }\n            const rowParents = this.generateParents(rows);\n            const tree = { id: '', _internal: { children: [], parents: [], items: [] } };\n            return this.fastTree(rowParents, tree);\n        },\n        getFlatTreeMapById(treeMap, flatTreeMapById = {}) {\n            for (const child of treeMap._internal.children) {\n                flatTreeMapById[child.id] = child;\n                this.getFlatTreeMapById(child, flatTreeMapById);\n            }\n            return flatTreeMapById;\n        },\n        flattenTreeMap(treeMap, rows = []) {\n            for (const child of treeMap._internal.children) {\n                rows.push(child.id);\n                this.flattenTreeMap(child, rows);\n            }\n            return rows;\n        },\n        getRowsFromMap(flatTreeMap, rows) {\n            return flatTreeMap.map(node => rows[node.id]);\n        },\n        getRowsFromIds(ids, rows) {\n            const result = [];\n            for (const id of ids) {\n                result.push(rows[id]);\n            }\n            return result;\n        },\n        getRowsWithParentsExpanded(flatTreeMap, flatTreeMapById, rows) {\n            if (!flatTreeMap ||\n                !flatTreeMapById ||\n                !rows ||\n                flatTreeMap.length === 0 ||\n                flatTreeMapById.length === 0 ||\n                Object.keys(rows).length === 0) {\n                return [];\n            }\n            const rowsWithParentsExpanded = [];\n            next: for (const rowId of flatTreeMap) {\n                for (const parentId of flatTreeMapById[rowId]._internal.parents) {\n                    const parent = rows[parentId];\n                    if (!parent || !parent.expanded) {\n                        continue next;\n                    }\n                }\n                rowsWithParentsExpanded.push(rowId);\n            }\n            return rowsWithParentsExpanded;\n        },\n        getRowsHeight(rows) {\n            let height = 0;\n            for (const row of rows) {\n                if (row)\n                    height += row.height;\n            }\n            return height;\n        },\n        /**\n         * Get visible rows - get rows that are inside current viewport (height)\n         *\n         * @param {array} rowsWithParentsExpanded rows that have parent expanded- they are visible\n         */\n        getVisibleRowsAndCompensation(rowsWithParentsExpanded) {\n            const visibleRows = [];\n            let currentRowsOffset = 0;\n            let rowOffset = 0;\n            const scrollTop = state.get('config.scroll.top');\n            const height = state.get('_internal.height');\n            let chartViewBottom = 0;\n            let compensation = 0;\n            for (const row of rowsWithParentsExpanded) {\n                if (row === undefined)\n                    continue;\n                chartViewBottom = scrollTop + height;\n                if (currentRowsOffset + row.height >= scrollTop && currentRowsOffset <= chartViewBottom) {\n                    row.top = rowOffset;\n                    compensation = row.top + scrollTop - currentRowsOffset;\n                    rowOffset += row.height;\n                    visibleRows.push(row);\n                }\n                currentRowsOffset += row.height;\n                if (currentRowsOffset >= chartViewBottom) {\n                    break;\n                }\n            }\n            return { visibleRows, compensation };\n        },\n        /**\n         * Normalize mouse wheel event to get proper scroll metrics\n         *\n         * @param {Event} event mouse wheel event\n         */\n        normalizeMouseWheelEvent(event) {\n            // @ts-ignore\n            let x = event.deltaX || 0;\n            // @ts-ignore\n            let y = event.deltaY || 0;\n            // @ts-ignore\n            let z = event.deltaZ || 0;\n            // @ts-ignore\n            const mode = event.deltaMode;\n            const lineHeight = state.get('config.list.rowHeight');\n            let scale = 1;\n            switch (mode) {\n                case 1:\n                    if (lineHeight) {\n                        scale = lineHeight;\n                    }\n                    break;\n                case 2:\n                    // @ts-ignore\n                    scale = window.height;\n                    break;\n            }\n            x *= scale;\n            y *= scale;\n            z *= scale;\n            return { x, y, z, event };\n        },\n        normalizePointerEvent(event) {\n            const result = { x: 0, y: 0, pageX: 0, pageY: 0, clientX: 0, clientY: 0, screenX: 0, screenY: 0 };\n            switch (event.type) {\n                case 'wheel':\n                    const wheel = this.normalizeMouseWheelEvent(event);\n                    result.x = wheel.x;\n                    result.y = wheel.y;\n                    result.pageX = result.x;\n                    result.pageY = result.y;\n                    result.screenX = result.x;\n                    result.screenY = result.y;\n                    result.clientX = result.x;\n                    result.clientY = result.y;\n                    break;\n                case 'touchstart':\n                case 'touchmove':\n                case 'touchend':\n                case 'touchcancel':\n                    result.x = event.changedTouches[0].screenX;\n                    result.y = event.changedTouches[0].screenY;\n                    result.pageX = event.changedTouches[0].pageX;\n                    result.pageY = event.changedTouches[0].pageY;\n                    result.screenX = event.changedTouches[0].screenX;\n                    result.screenY = event.changedTouches[0].screenY;\n                    result.clientX = event.changedTouches[0].clientX;\n                    result.clientY = event.changedTouches[0].clientY;\n                    break;\n                default:\n                    result.x = event.x;\n                    result.y = event.y;\n                    result.pageX = event.pageX;\n                    result.pageY = event.pageY;\n                    result.screenX = event.screenX;\n                    result.screenY = event.screenY;\n                    result.clientX = event.clientX;\n                    result.clientY = event.clientY;\n                    break;\n            }\n            return result;\n        },\n        limitScrollLeft(totalViewDurationPx, chartWidth, scrollLeft) {\n            const width = totalViewDurationPx - chartWidth;\n            if (scrollLeft < 0) {\n                scrollLeft = 0;\n            }\n            else if (scrollLeft > width) {\n                scrollLeft = width;\n            }\n            return Math.round(scrollLeft);\n        },\n        limitScrollTop(rowsHeight, internalHeight, scrollTop) {\n            const height = rowsHeight - internalHeight;\n            if (scrollTop < 0) {\n                scrollTop = 0;\n            }\n            else if (scrollTop > height) {\n                scrollTop = height;\n            }\n            return Math.round(scrollTop);\n        },\n        time: new TimeApi(state),\n        /**\n         * Get scrollbar height - compute it from element\n         *\n         * @returns {number}\n         */\n        getScrollBarHeight(add = 0) {\n            const outer = document.createElement('div');\n            outer.style.visibility = 'hidden';\n            outer.style.height = '100px';\n            document.body.appendChild(outer);\n            const noScroll = outer.offsetHeight;\n            outer.style.msOverflowStyle = 'scrollbar';\n            outer.style.overflow = 'scroll';\n            const inner = document.createElement('div');\n            inner.style.height = '100%';\n            outer.appendChild(inner);\n            const withScroll = inner.offsetHeight;\n            outer.parentNode.removeChild(outer);\n            return noScroll - withScroll + add;\n        },\n        scrollToTime(toTime) {\n            const time = state.get('_internal.chart.time');\n            state.update('config.scroll', scroll => {\n                const chartWidth = state.get('_internal.chart.dimensions.width');\n                const halfTime = (chartWidth / 2) * time.timePerPixel;\n                const leftGlobal = toTime - halfTime - time.finalFrom;\n                scroll.left = this.limitScrollLeft(time.totalViewDurationPx, chartWidth, leftGlobal / time.timePerPixel);\n                return scroll;\n            });\n        },\n        /**\n         * Get grid blocks that are under specified rectangle\n         *\n         * @param {number} x beginging at chart-timeline bounding rect\n         * @param {number} y beginging at chart-timeline bounding rect\n         * @param {number} width\n         * @param {number} height\n         * @returns {array} array of {element, data}\n         */\n        getGridBlocksUnderRect(x, y, width, height) {\n            const main = state.get('_internal.elements.main');\n            if (!main)\n                return [];\n        },\n        getCompensationX() {\n            return state.get('config.scroll.compensation.x') || 0;\n        },\n        getCompensationY() {\n            return state.get('config.scroll.compensation.y') || 0;\n        },\n        getSVGIconSrc(svg) {\n            if (typeof iconsCache[svg] === 'string')\n                return iconsCache[svg];\n            iconsCache[svg] = 'data:image/svg+xml;base64,' + btoa(svg);\n            return iconsCache[svg];\n        },\n        /**\n         * Destroy things to release memory\n         */\n        destroy() {\n            $state = undefined;\n            for (const unsubscribe of unsubscribes) {\n                unsubscribe();\n            }\n            unsubscribes = [];\n            if (api.debug) {\n                // @ts-ignore\n                delete window.state;\n            }\n        }\n    };\n    if (api.debug) {\n        // @ts-ignore\n        window.state = state;\n        // @ts-ignore\n        window.api = api;\n    }\n    return api;\n}\n\n/**\n * Gantt-Schedule-Timeline-Calendar\n *\n * @copyright Rafal Pospiech <https://neuronet.io>\n * @author    Rafal Pospiech <neuronet.io@gmail.com>\n * @package   gantt-schedule-timeline-calendar\n * @license   AGPL-3.0\n */\nfunction GSTC(options) {\n    const state = options.state;\n    const api = getInternalApi(state);\n    const _internal = {\n        components: {\n            Main\n        },\n        scrollBarHeight: api.getScrollBarHeight(2),\n        height: 0,\n        treeMap: {},\n        flatTreeMap: [],\n        flatTreeMapById: {},\n        list: {\n            expandedHeight: 0,\n            visibleRows: [],\n            rows: {},\n            width: 0\n        },\n        dimensions: {\n            width: 0,\n            height: 0\n        },\n        chart: {\n            dimensions: {\n                width: 0,\n                innerWidth: 0\n            },\n            visibleItems: [],\n            time: {\n                levels: [],\n                timePerPixel: 0,\n                firstTaskTime: 0,\n                lastTaskTime: 0,\n                totalViewDurationMs: 0,\n                totalViewDurationPx: 0,\n                leftGlobal: 0,\n                rightGlobal: 0,\n                leftPx: 0,\n                rightPx: 0,\n                leftInner: 0,\n                rightInner: 0,\n                maxWidth: {}\n            }\n        },\n        elements: {},\n        cache: {\n            calendar: {}\n        },\n        loaded: {}\n    };\n    if (typeof options.debug === 'boolean' && options.debug) {\n        // @ts-ignore\n        window.state = state;\n    }\n    state.update('', oldValue => {\n        return {\n            config: oldValue.config,\n            _internal\n        };\n    });\n    // @ts-ignore\n    const vido = Vido(state, api);\n    api.setVido(vido);\n    const app = vido.createApp({ component: Main, props: {}, element: options.element });\n    const internalApi = app.vidoInstance.api;\n    return { state, app, api: internalApi };\n}\nGSTC.api = publicApi;\n\nexport default GSTC;\n//# sourceMappingURL=index.esm.js.map\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"id\":\"calendar\",\"fluid\":\"\",\"tag\":\"section\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"2\",\"sm\":\"3\",\"md\":\"2\"}},[_c('v-btn',{staticClass:\"ma-2\",attrs:{\"outlined\":\"\",\"fab\":\"\",\"x-small\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.prevDay}},[_c('v-icon',[_vm._v(\"mdi-arrow-left-bold\")])],1),_c('v-btn',{staticClass:\"ma-2\",attrs:{\"outlined\":\"\",\"fab\":\"\",\"x-small\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.nextDay}},[_c('v-icon',[_vm._v(\"mdi-arrow-right-bold\")])],1)],1),_c('v-col',{attrs:{\"cols\":\"3\",\"sm\":\"3\",\"md\":\"3\"}},[_c('v-menu',{ref:\"dialog\",attrs:{\"close-on-content-click\":false,\"return-value\":_vm.today,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"290px\",\"max-width\":\"290px\"},on:{\"update:returnValue\":function($event){_vm.today=$event},\"update:return-value\":function($event){_vm.today=$event}},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"Текущая дата:\",\"readonly\":\"\",\"prepend-icon\":\"mdi-calendar-blank-multiple\"},model:{value:(_vm.today),callback:function ($$v) {_vm.today=$$v},expression:\"today\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-date-picker',{attrs:{\"no-title\":\"\",\"scrollable\":\"\"},model:{value:(_vm.today),callback:function ($$v) {_vm.today=$$v},expression:\"today\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.changePeriod({period: _vm.period, today: _vm.today}) && _vm.$refs.dialog.save(_vm.today)}}},[_vm._v(\" OK \")])],1)],1)],1),_c('v-col',{attrs:{\"cols\":\"3\",\"sm\":\"3\",\"md\":\"3\"}},[_c('v-select',{attrs:{\"items\":_vm.periods,\"label\":\"Период\"},on:{\"change\":function($event){return _vm.changePeriod({period: _vm.period, today: _vm.today})}},model:{value:(_vm.period),callback:function ($$v) {_vm.period=$$v},expression:\"period\"}})],1)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"label\":\"Номер брони у источника:\",\"required\":\"\"},on:{\"change\":_vm.find},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('g-s-t-c',{attrs:{\"config\":_vm.config}}),_c('v-dialog',{attrs:{\"hide-overlay\":\"\",\"persistent\":\"\",\"max-width\":\"800px\",\"transition\":\"dialog-bottom-transition\"},model:{value:(_vm.$store.state.bookingModal),callback:function ($$v) {_vm.$set(_vm.$store.state, \"bookingModal\", $$v)},expression:\"$store.state.bookingModal\"}},[_c('v-card',[_c('v-card-text',[_c('question-reserve')],1)],1)],1),_c('v-dialog',{attrs:{\"hide-overlay\":\"\",\"persistent\":\"\",\"max-width\":\"1200px\",\"transition\":\"dialog-bottom-transition\"},model:{value:(_vm.$store.state.reserve),callback:function ($$v) {_vm.$set(_vm.$store.state, \"reserve\", $$v)},expression:\"$store.state.reserve\"}},[_c('v-card',[_c('v-card-text',[_c('user-profile')],1)],1)],1),_c('v-dialog',{attrs:{\"hide-overlay\":\"\",\"persistent\":\"\",\"max-width\":\"1200px\",\"transition\":\"dialog-bottom-transition\"},model:{value:(_vm.$store.state.toBook),callback:function ($$v) {_vm.$set(_vm.$store.state, \"toBook\", $$v)},expression:\"$store.state.toBook\"}},[_c('v-card',[_c('v-card-text',[_c('to-book')],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"gstc\" ref=\"gstc\"></div>\n</template>\n\n<script>\nimport GSTC from \"gantt-schedule-timeline-calendar\";\nimport \"gantt-schedule-timeline-calendar/dist/style.css\";\n\nlet state, gstc;\n\nexport default {\n  name: \"GSTC\",\n  props: [\"config\", 'test'],\n\n  mounted() {\n    state = GSTC.api.stateFromConfig(this.config);\n    this.$emit(\"state\", state);\n    gstc = GSTC({\n      element: this.$refs.gstc,\n      state\n    });\n    this.$watch(\n      \"config\",\n      config => {\n        state.update(\"config\", current => {\n          if (current !== config) {\n            return GSTC.api.mergeDeep({}, current, config);\n          } else {\n            return current;\n          }\n        });\n      },\n      { deep: true }\n    );\n  },\n  destroyed() {\n    gstc.app.destroy();\n  }\n};\n</script>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"gstc\",staticClass:\"gstc\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../cache-loader/dist/cjs.js??ref--12-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--0-0!../../../vue-loader/lib/index.js??vue-loader-options!./GSTC.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../cache-loader/dist/cjs.js??ref--12-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--0-0!../../../vue-loader/lib/index.js??vue-loader-options!./GSTC.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GSTC.vue?vue&type=template&id=0d094664&\"\nimport script from \"./GSTC.vue?vue&type=script&lang=js&\"\nexport * from \"./GSTC.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"Имя:\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"Телефон:\"},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"12\"}},[_c('v-text-field',{attrs:{\"label\":\"Комментарии\"},model:{value:(_vm.comments),callback:function ($$v) {_vm.comments=$$v},expression:\"comments\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"Метка:\"},model:{value:(_vm.label),callback:function ($$v) {_vm.label=$$v},expression:\"label\"}})],1)],1),_c('v-row',[_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.openCloseToBook}},[_vm._v(\" Подтвердить \")]),_c('v-btn',{attrs:{\"color\":\"danger\"},on:{\"click\":_vm.openCloseToBook}},[_vm._v(\" Отмена \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <v-row>\r\n      <v-col\r\n        cols=\"12\"\r\n        md=\"6\"\r\n      >\r\n        <v-text-field\r\n          v-model=\"name\"\r\n          label=\"Имя:\"\r\n        ></v-text-field>\r\n      </v-col>\r\n      <v-col\r\n        cols=\"12\"\r\n        md=\"6\"\r\n      >\r\n        <v-text-field\r\n          v-model=\"phone\"\r\n          label=\"Телефон:\"\r\n        ></v-text-field>\r\n      </v-col>\r\n      <v-col\r\n        cols=\"12\"\r\n        md=\"12\"\r\n      >\r\n        <v-text-field\r\n          v-model=\"comments\"\r\n          label=\"Комментарии\"\r\n        ></v-text-field>\r\n      </v-col>\r\n      <v-col\r\n        cols=\"12\"\r\n        md=\"6\"\r\n      >\r\n        <v-text-field\r\n          v-model=\"label\"\r\n          label=\"Метка:\"\r\n        ></v-text-field>\r\n      </v-col>\r\n    </v-row>\r\n    <v-row>\r\n      <v-btn\r\n        color=\"primary\"\r\n        @click=\"openCloseToBook\"\r\n      >\r\n        Подтвердить\r\n      </v-btn>\r\n      <v-btn\r\n        color=\"danger\"\r\n        @click=\"openCloseToBook\"\r\n      >\r\n        Отмена\r\n      </v-btn>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n  import { mapMutations } from 'vuex'\r\n  export default {\r\n    name: 'ToBook',\r\n    data () {\r\n      return {\r\n        name: '',\r\n        comments: '',\r\n        label: '',\r\n        phone: '',\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapMutations({\r\n        openCloseToBook: 'OPEN_CLOSE_TO_BOOK',\r\n      }),\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToBook.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToBook.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ToBook.vue?vue&type=template&id=c6c1df84&scoped=true&\"\nimport script from \"./ToBook.vue?vue&type=script&lang=js&\"\nexport * from \"./ToBook.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c6c1df84\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCol,VContainer,VRow,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-row',[_c('v-col',[_vm._v(\" Новое бронирование \")])],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-menu',{ref:\"indatemenu\",attrs:{\"close-on-content-click\":false,\"return-value\":_vm.$store.state.start,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"290px\"},on:{\"update:returnValue\":function($event){return _vm.$set(_vm.$store.state, \"start\", $event)},\"update:return-value\":function($event){return _vm.$set(_vm.$store.state, \"start\", $event)}},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"Заезд*:\",\"readonly\":\"\",\"prepend-icon\":\"mdi-calendar-blank-multiple\"},model:{value:(_vm.$store.state.start),callback:function ($$v) {_vm.$set(_vm.$store.state, \"start\", $$v)},expression:\"$store.state.start\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.menu),callback:function ($$v) {_vm.menu=$$v},expression:\"menu\"}},[_c('v-date-picker',{attrs:{\"no-title\":\"\",\"scrollable\":\"\"},model:{value:(_vm.$store.state.start),callback:function ($$v) {_vm.$set(_vm.$store.state, \"start\", $$v)},expression:\"$store.state.start\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.menu = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.indatemenu.save(_vm.$store.state.start)}}},[_vm._v(\" OK \")])],1)],1)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-menu',{ref:\"outDateMenu\",attrs:{\"close-on-content-click\":false,\"return-value\":_vm.$store.state.end,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"290px\"},on:{\"update:returnValue\":function($event){return _vm.$set(_vm.$store.state, \"end\", $event)},\"update:return-value\":function($event){return _vm.$set(_vm.$store.state, \"end\", $event)}},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"Выезд*:\",\"readonly\":\"\",\"prepend-icon\":\"mdi-calendar-blank-multiple\"},model:{value:(_vm.$store.state.end),callback:function ($$v) {_vm.$set(_vm.$store.state, \"end\", $$v)},expression:\"$store.state.end\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.menu3),callback:function ($$v) {_vm.menu3=$$v},expression:\"menu3\"}},[_c('v-date-picker',{attrs:{\"no-title\":\"\",\"scrollable\":\"\"},model:{value:(_vm.$store.state.end),callback:function ($$v) {_vm.$set(_vm.$store.state, \"end\", $$v)},expression:\"$store.state.end\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.menu3 = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.outDateMenu.save(_vm.$store.state.end)}}},[_vm._v(\" OK \")])],1)],1)],1)],1),(_vm.isReserve)?_c('v-row'):_vm._e(),_c('v-row',[_c('v-col',[_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$store.commit('OPEN_CLOSE_BOOK')}}},[_vm._v(\" Забронировать \")]),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$store.commit('OPEN_CLOSE_TO_BOOK')}}},[_vm._v(\" Резерв \")]),_c('v-btn',{attrs:{\"color\":\"primary\"}},[_vm._v(\" Закрыть на ремонт \")]),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.setBookingOpen}},[_vm._v(\" Отмена \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <v-row>\r\n      <v-col>\r\n        Новое бронирование\r\n      </v-col>\r\n    </v-row>\r\n    <v-row>\r\n      <v-col\r\n        cols=\"12\"\r\n        sm=\"6\"\r\n        md=\"4\"\r\n      >\r\n        <v-menu\r\n          ref=\"indatemenu\"\r\n          v-model=\"menu\"\r\n          :close-on-content-click=\"false\"\r\n          :return-value.sync=\"$store.state.start\"\r\n          transition=\"scale-transition\"\r\n          offset-y\r\n          min-width=\"290px\"\r\n        >\r\n          <template v-slot:activator=\"{ on, attrs }\">\r\n            <v-text-field\r\n              v-model=\"$store.state.start\"\r\n              label=\"Заезд*:\"\r\n              readonly\r\n              v-bind=\"attrs\"\r\n              prepend-icon=\"mdi-calendar-blank-multiple\"\r\n              v-on=\"on\"\r\n            />\r\n          </template>\r\n          <v-date-picker\r\n            v-model=\"$store.state.start\"\r\n            no-title\r\n            scrollable\r\n          >\r\n            <v-spacer />\r\n            <v-btn\r\n              text\r\n              color=\"primary\"\r\n              @click=\"menu = false\"\r\n            >\r\n              Cancel\r\n            </v-btn>\r\n            <v-btn\r\n              text\r\n              color=\"primary\"\r\n              @click=\"$refs.indatemenu.save($store.state.start)\"\r\n            >\r\n              OK\r\n            </v-btn>\r\n          </v-date-picker>\r\n        </v-menu>\r\n      </v-col>\r\n\r\n      <v-col\r\n        cols=\"12\"\r\n        sm=\"6\"\r\n        md=\"4\"\r\n      >\r\n        <v-menu\r\n          ref=\"outDateMenu\"\r\n          v-model=\"menu3\"\r\n          :close-on-content-click=\"false\"\r\n          :return-value.sync=\"$store.state.end\"\r\n          transition=\"scale-transition\"\r\n          offset-y\r\n          min-width=\"290px\"\r\n        >\r\n          <template v-slot:activator=\"{ on, attrs }\">\r\n            <v-text-field\r\n              v-model=\"$store.state.end\"\r\n              label=\"Выезд*:\"\r\n              readonly\r\n              v-bind=\"attrs\"\r\n              prepend-icon=\"mdi-calendar-blank-multiple\"\r\n              v-on=\"on\"\r\n            />\r\n          </template>\r\n          <v-date-picker\r\n            v-model=\"$store.state.end\"\r\n            no-title\r\n            scrollable\r\n          >\r\n            <v-spacer />\r\n            <v-btn\r\n              text\r\n              color=\"primary\"\r\n              @click=\"menu3 = false\"\r\n            >\r\n              Cancel\r\n            </v-btn>\r\n            <v-btn\r\n              text\r\n              color=\"primary\"\r\n              @click=\"$refs.outDateMenu.save($store.state.end)\"\r\n            >\r\n              OK\r\n            </v-btn>\r\n          </v-date-picker>\r\n        </v-menu>\r\n      </v-col>\r\n    </v-row>\r\n    <v-row v-if=\"isReserve\">\r\n    </v-row>\r\n    <v-row>\r\n      <v-col>\r\n        <v-btn\r\n          color=\"primary\"\r\n          @click=\"$store.commit('OPEN_CLOSE_BOOK')\"\r\n        >\r\n          Забронировать\r\n        </v-btn>\r\n        <v-btn\r\n          color=\"primary\"\r\n          @click=\"$store.commit('OPEN_CLOSE_TO_BOOK')\"\r\n        >\r\n          Резерв\r\n        </v-btn>\r\n        <v-btn color=\"primary\">\r\n          Закрыть на ремонт\r\n        </v-btn>\r\n        <v-btn\r\n          color=\"primary\"\r\n          @click=\"setBookingOpen\"\r\n        >\r\n          Отмена\r\n        </v-btn>\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n  import { mapMutations } from 'vuex'\r\n  export default {\r\n    name: 'QuestionReserve',\r\n    data () {\r\n      return {\r\n        isReserve: false,\r\n        menu: false,\r\n        inDate: '',\r\n        outDate: '',\r\n        menu3: false,\r\n        booking: {\r\n          inDate: new Date().toISOString().substr(0, 10),\r\n          outDate: new Date().toISOString().substr(0, 10),\r\n        },\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapMutations({\r\n        setBookingOpen: 'SET_BOOKING_OPEN',\r\n        setBookingData: 'SET_BOOKING_DATA',\r\n      }),\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionReserve.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionReserve.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QuestionReserve.vue?vue&type=template&id=372523bd&scoped=true&\"\nimport script from \"./QuestionReserve.vue?vue&type=script&lang=js&\"\nexport * from \"./QuestionReserve.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"372523bd\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCol,VContainer,VDatePicker,VMenu,VRow,VSpacer,VTextField})\n","<template>\r\n  <v-container\r\n    id=\"calendar\"\r\n    fluid\r\n    tag=\"section\"\r\n  >\r\n    <v-row>\r\n      <v-col\r\n        cols=\"2\"\r\n        sm=\"3\"\r\n        md=\"2\"\r\n      >\r\n        <v-btn\r\n          class=\"ma-2\"\r\n          outlined\r\n          fab\r\n          x-small\r\n          color=\"primary\"\r\n          @click=\"prevDay\"\r\n        >\r\n          <v-icon>mdi-arrow-left-bold</v-icon>\r\n        </v-btn>\r\n        <v-btn\r\n          class=\"ma-2\"\r\n          outlined\r\n          fab\r\n          x-small\r\n          color=\"primary\"\r\n          @click=\"nextDay\"\r\n        >\r\n          <v-icon>mdi-arrow-right-bold</v-icon>\r\n        </v-btn>\r\n      </v-col>\r\n      <v-col\r\n        cols=\"3\"\r\n        sm=\"3\"\r\n        md=\"3\"\r\n      >\r\n        <v-menu\r\n          ref=\"dialog\"\r\n          v-model=\"dialog\"\r\n          :close-on-content-click=\"false\"\r\n          :return-value.sync=\"today\"\r\n          transition=\"scale-transition\"\r\n          offset-y\r\n          min-width=\"290px\"\r\n          max-width=\"290px\"\r\n        >\r\n          <template v-slot:activator=\"{ on, attrs }\">\r\n            <v-text-field\r\n              v-model=\"today\"\r\n              label=\"Текущая дата:\"\r\n              readonly\r\n              v-bind=\"attrs\"\r\n              prepend-icon=\"mdi-calendar-blank-multiple\"\r\n              v-on=\"on\"\r\n            />\r\n          </template>\r\n          <v-date-picker\r\n            v-model=\"today\"\r\n            no-title\r\n            scrollable\r\n          >\r\n            <v-spacer />\r\n            <v-btn\r\n              text\r\n              color=\"primary\"\r\n              @click=\"dialog = false\"\r\n            >\r\n              Cancel\r\n            </v-btn>\r\n            <v-btn\r\n              text\r\n              color=\"primary\"\r\n              @click=\"changePeriod({period: period, today: today}) && $refs.dialog.save(today)\"\r\n            >\r\n              OK\r\n            </v-btn>\r\n          </v-date-picker>\r\n        </v-menu>\r\n      </v-col>\r\n      <v-col\r\n        cols=\"3\"\r\n        sm=\"3\"\r\n        md=\"3\"\r\n      >\r\n        <v-select\r\n          v-model=\"period\"\r\n          :items=\"periods\"\r\n          label=\"Период\"\r\n          @change=\"changePeriod({period: period, today: today})\"\r\n        />\r\n      </v-col>\r\n    </v-row>\r\n    <v-col\r\n      cols=\"12\"\r\n      md=\"4\"\r\n    >\r\n      <v-text-field\r\n        v-model=\"search\"\r\n        v-on:change=\"find\"\r\n        label=\"Номер брони у источника:\"\r\n        required\r\n      />\r\n    </v-col>\r\n    <g-s-t-c\r\n      :config=\"config\"\r\n    />\r\n    <v-dialog\r\n      v-model=\"$store.state.bookingModal\"\r\n      hide-overlay\r\n      persistent\r\n      max-width=\"800px\"\r\n      transition=\"dialog-bottom-transition\"\r\n    >\r\n      <v-card>\r\n        <v-card-text>\r\n          <question-reserve />\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-dialog>\r\n    <v-dialog\r\n      v-model=\"$store.state.reserve\"\r\n      hide-overlay\r\n      persistent\r\n      max-width=\"1200px\"\r\n      transition=\"dialog-bottom-transition\"\r\n    >\r\n      <v-card>\r\n        <v-card-text>\r\n          <user-profile />\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-dialog>\r\n    <v-dialog\r\n      v-model=\"$store.state.toBook\"\r\n      hide-overlay\r\n      persistent\r\n      max-width=\"1200px\"\r\n      transition=\"dialog-bottom-transition\"\r\n    >\r\n      <v-card>\r\n        <v-card-text>\r\n          <to-book />\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-dialog>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n  import GSTC from 'vue-gantt-schedule-timeline-calendar'\r\n  import UserProfile from './pages/UserProfile'\r\n  import ToBook from './components/ToBook'\r\n  import { mapMutations } from 'vuex'\r\n  import QuestionReserve from './components/QuestionReserve'\r\n\r\n  export default {\r\n    name: 'App',\r\n    components: {\r\n      QuestionReserve,\r\n      UserProfile,\r\n      ToBook,\r\n      GSTC,\r\n    },\r\n    data () {\r\n      return {\r\n        period: 15,\r\n        periods: [{ text: '7', value: 7 }, { text: '15', value: 15 }, { text: '30', value: 30 }, { text: '90', value: 90 }],\r\n        dayInZoom: [{ text: '1:1', value: 21 }, { text: '1:2', value: 22 }],\r\n        zoomSize: 20,\r\n        gstc: null,\r\n        dialog: false,\r\n        today: new Date().toISOString().substr(0, 10),\r\n        openModal: false,\r\n        search: '',\r\n      }\r\n    },\r\n\r\n    computed: {\r\n      config: function () {\r\n        return this.$store.state.config\r\n      },\r\n    },\r\n    methods: {\r\n      ...mapMutations({\r\n        setBookingOpen: 'SET_BOOKING_OPEN',\r\n        changeCurrentDate: 'CHANGE_CURRENT_DATE',\r\n        setRefs: 'SET_REFS',\r\n        prevDay: 'PREV_DAY',\r\n        nextDay: 'NEXT_DAY',\r\n        changePeriod: 'CHANGE_PERIOD',\r\n      }),\r\n      find () {\r\n      },\r\n    },\r\n  }\r\n</script>\r\n<style>\r\n  .gantt-schedule-timeline-calendar__chart-timeline-items-row-item {\r\n    border-radius: 0 !important;\r\n    margin-top: 1px !important;\r\n    height: 37px !important;\r\n    padding: 8px 0 !important;\r\n    border: 1px solid black;\r\n  }\r\n  .gantt-schedule-timeline-calendar__chart-calendar-date--level-0 .gantt-schedule-timeline-calendar__chart-calendar-date-content {\r\n    margin: 7px !important;\r\n  }\r\n  .weekends-highlight {\r\n    background-color: rgba(255, 196, 126, 0.5);\r\n  }\r\n  .gantt-schedule-timeline-calendar__chart-calendar-date--month {\r\n    border-left: 2px solid rgba(107, 107, 107, 0.75) !important;\r\n  }\r\n  .gantt-schedule-timeline-calendar__chart-timeline-grid-row-block, .gantt-schedule-timeline-calendar__list-column-header-content, .gantt-schedule-timeline-calendar__list-column-row, .gantt-schedule-timeline-calendar__chart-calendar-date{\r\n    border-right: 1px solid rgba(107, 107, 107, 0.75) !important;\r\n    border-bottom: 1px solid rgba(107, 107, 107, 0.75) !important;\r\n  }\r\n  .gantt-schedule-timeline-calendar__chart-calendar-date-content.gstc-date-small {\r\n    line-height: 15px !important;\r\n  }\r\n  .gantt-schedule-timeline-calendar__chart-calendar-date-content--day, .gantt-schedule-timeline-calendar__chart-calendar-date-content--week {\r\n    line-height: 15px !important;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=script&lang=js&\"","// Styles\nimport './VDialog.sass'\n\n// Components\nimport { VThemeProvider } from '../VThemeProvider'\n\n// Mixins\nimport Activatable from '../../mixins/activatable'\nimport Dependent from '../../mixins/dependent'\nimport Detachable from '../../mixins/detachable'\nimport Overlayable from '../../mixins/overlayable'\nimport Returnable from '../../mixins/returnable'\nimport Stackable from '../../mixins/stackable'\nimport Toggleable from '../../mixins/toggleable'\n\n// Directives\nimport ClickOutside from '../../directives/click-outside'\n\n// Helpers\nimport mixins from '../../util/mixins'\nimport { removed } from '../../util/console'\nimport {\n  convertToUnit,\n  keyCodes,\n} from '../../util/helpers'\n\n// Types\nimport { VNode, VNodeData } from 'vue'\n\nconst baseMixins = mixins(\n  Activatable,\n  Dependent,\n  Detachable,\n  Overlayable,\n  Returnable,\n  Stackable,\n  Toggleable\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-dialog',\n\n  directives: { ClickOutside },\n\n  props: {\n    dark: Boolean,\n    disabled: Boolean,\n    fullscreen: Boolean,\n    light: Boolean,\n    maxWidth: {\n      type: [String, Number],\n      default: 'none',\n    },\n    noClickAnimation: Boolean,\n    origin: {\n      type: String,\n      default: 'center center',\n    },\n    persistent: Boolean,\n    retainFocus: {\n      type: Boolean,\n      default: true,\n    },\n    scrollable: Boolean,\n    transition: {\n      type: [String, Boolean],\n      default: 'dialog-transition',\n    },\n    width: {\n      type: [String, Number],\n      default: 'auto',\n    },\n  },\n\n  data () {\n    return {\n      activatedBy: null as EventTarget | null,\n      animate: false,\n      animateTimeout: -1,\n      isActive: !!this.value,\n      stackMinZIndex: 200,\n    }\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        [(`v-dialog ${this.contentClass}`).trim()]: true,\n        'v-dialog--active': this.isActive,\n        'v-dialog--persistent': this.persistent,\n        'v-dialog--fullscreen': this.fullscreen,\n        'v-dialog--scrollable': this.scrollable,\n        'v-dialog--animated': this.animate,\n      }\n    },\n    contentClasses (): object {\n      return {\n        'v-dialog__content': true,\n        'v-dialog__content--active': this.isActive,\n      }\n    },\n    hasActivator (): boolean {\n      return Boolean(\n        !!this.$slots.activator ||\n        !!this.$scopedSlots.activator\n      )\n    },\n  },\n\n  watch: {\n    isActive (val) {\n      if (val) {\n        this.show()\n        this.hideScroll()\n      } else {\n        this.removeOverlay()\n        this.unbind()\n      }\n    },\n    fullscreen (val) {\n      if (!this.isActive) return\n\n      if (val) {\n        this.hideScroll()\n        this.removeOverlay(false)\n      } else {\n        this.showScroll()\n        this.genOverlay()\n      }\n    },\n  },\n\n  created () {\n    /* istanbul ignore next */\n    if (this.$attrs.hasOwnProperty('full-width')) {\n      removed('full-width', this)\n    }\n  },\n\n  beforeMount () {\n    this.$nextTick(() => {\n      this.isBooted = this.isActive\n      this.isActive && this.show()\n    })\n  },\n\n  beforeDestroy () {\n    if (typeof window !== 'undefined') this.unbind()\n  },\n\n  methods: {\n    animateClick () {\n      this.animate = false\n      // Needed for when clicking very fast\n      // outside of the dialog\n      this.$nextTick(() => {\n        this.animate = true\n        window.clearTimeout(this.animateTimeout)\n        this.animateTimeout = window.setTimeout(() => (this.animate = false), 150)\n      })\n    },\n    closeConditional (e: Event) {\n      const target = e.target as HTMLElement\n      // Ignore the click if the dialog is closed or destroyed,\n      // if it was on an element inside the content,\n      // if it was dragged onto the overlay (#6969),\n      // or if this isn't the topmost dialog (#9907)\n      return !(\n        this._isDestroyed ||\n        !this.isActive ||\n        this.$refs.content.contains(target) ||\n        (this.overlay && target && !this.overlay.$el.contains(target))\n      ) && this.activeZIndex >= this.getMaxZIndex()\n    },\n    hideScroll () {\n      if (this.fullscreen) {\n        document.documentElement.classList.add('overflow-y-hidden')\n      } else {\n        Overlayable.options.methods.hideScroll.call(this)\n      }\n    },\n    show () {\n      !this.fullscreen && !this.hideOverlay && this.genOverlay()\n      this.$nextTick(() => {\n        this.$refs.content.focus()\n        this.bind()\n      })\n    },\n    bind () {\n      window.addEventListener('focusin', this.onFocusin)\n    },\n    unbind () {\n      window.removeEventListener('focusin', this.onFocusin)\n    },\n    onClickOutside (e: Event) {\n      this.$emit('click:outside', e)\n\n      if (this.persistent) {\n        this.noClickAnimation || this.animateClick()\n      } else {\n        this.isActive = false\n      }\n    },\n    onKeydown (e: KeyboardEvent) {\n      if (e.keyCode === keyCodes.esc && !this.getOpenDependents().length) {\n        if (!this.persistent) {\n          this.isActive = false\n          const activator = this.getActivator()\n          this.$nextTick(() => activator && (activator as HTMLElement).focus())\n        } else if (!this.noClickAnimation) {\n          this.animateClick()\n        }\n      }\n      this.$emit('keydown', e)\n    },\n    // On focus change, wrap focus to stay inside the dialog\n    // https://github.com/vuetifyjs/vuetify/issues/6892\n    onFocusin (e: Event) {\n      if (!e || !this.retainFocus) return\n\n      const target = e.target as HTMLElement\n\n      if (\n        !!target &&\n        // It isn't the document or the dialog body\n        ![document, this.$refs.content].includes(target) &&\n        // It isn't inside the dialog body\n        !this.$refs.content.contains(target) &&\n        // We're the topmost dialog\n        this.activeZIndex >= this.getMaxZIndex() &&\n        // It isn't inside a dependent element (like a menu)\n        !this.getOpenDependentElements().some(el => el.contains(target))\n        // So we must have focused something outside the dialog and its children\n      ) {\n        // Find and focus the first available element inside the dialog\n        const focusable = this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])')\n        const el = [...focusable].find(el => !el.hasAttribute('disabled')) as HTMLElement | undefined\n        el && el.focus()\n      }\n    },\n    genContent () {\n      return this.showLazyContent(() => [\n        this.$createElement(VThemeProvider, {\n          props: {\n            root: true,\n            light: this.light,\n            dark: this.dark,\n          },\n        }, [\n          this.$createElement('div', {\n            class: this.contentClasses,\n            attrs: {\n              role: 'document',\n              tabindex: this.isActive ? 0 : undefined,\n              ...this.getScopeIdAttrs(),\n            },\n            on: { keydown: this.onKeydown },\n            style: { zIndex: this.activeZIndex },\n            ref: 'content',\n          }, [this.genTransition()]),\n        ]),\n      ])\n    },\n    genTransition () {\n      const content = this.genInnerContent()\n\n      if (!this.transition) return content\n\n      return this.$createElement('transition', {\n        props: {\n          name: this.transition,\n          origin: this.origin,\n          appear: true,\n        },\n      }, [content])\n    },\n    genInnerContent () {\n      const data: VNodeData = {\n        class: this.classes,\n        ref: 'dialog',\n        directives: [\n          {\n            name: 'click-outside',\n            value: {\n              handler: this.onClickOutside,\n              closeConditional: this.closeConditional,\n              include: this.getOpenDependentElements,\n            },\n          },\n          { name: 'show', value: this.isActive },\n        ],\n        style: {\n          transformOrigin: this.origin,\n        },\n      }\n\n      if (!this.fullscreen) {\n        data.style = {\n          ...data.style as object,\n          maxWidth: this.maxWidth === 'none' ? undefined : convertToUnit(this.maxWidth),\n          width: this.width === 'auto' ? undefined : convertToUnit(this.width),\n        }\n      }\n\n      return this.$createElement('div', data, this.getContentSlot())\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-dialog__container',\n      class: {\n        'v-dialog__container--attached':\n          this.attach === '' ||\n          this.attach === true ||\n          this.attach === 'attach',\n      },\n      attrs: { role: 'dialog' },\n    }, [\n      this.genActivator(),\n      this.genContent(),\n    ])\n  },\n})\n","import { render, staticRenderFns } from \"./Calendar.vue?vue&type=template&id=5736f700&\"\nimport script from \"./Calendar.vue?vue&type=script&lang=js&\"\nexport * from \"./Calendar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Calendar.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardText,VCol,VContainer,VDatePicker,VDialog,VIcon,VMenu,VRow,VSelect,VSpacer,VTextField})\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=style&index=0&lang=css&\"","// Styles\nimport './VOverlay.sass'\n\n// Mixins\nimport Colorable from './../../mixins/colorable'\nimport Themeable from '../../mixins/themeable'\nimport Toggleable from './../../mixins/toggleable'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode } from 'vue'\n\n/* @vue/component */\nexport default mixins(\n  Colorable,\n  Themeable,\n  Toggleable\n).extend({\n  name: 'v-overlay',\n\n  props: {\n    absolute: Boolean,\n    color: {\n      type: String,\n      default: '#212121',\n    },\n    dark: {\n      type: Boolean,\n      default: true,\n    },\n    opacity: {\n      type: [Number, String],\n      default: 0.46,\n    },\n    value: {\n      default: true,\n    },\n    zIndex: {\n      type: [Number, String],\n      default: 5,\n    },\n  },\n\n  computed: {\n    __scrim (): VNode {\n      const data = this.setBackgroundColor(this.color, {\n        staticClass: 'v-overlay__scrim',\n        style: {\n          opacity: this.computedOpacity,\n        },\n      })\n\n      return this.$createElement('div', data)\n    },\n    classes (): object {\n      return {\n        'v-overlay--absolute': this.absolute,\n        'v-overlay--active': this.isActive,\n        ...this.themeClasses,\n      }\n    },\n    computedOpacity (): number {\n      return Number(this.isActive ? this.opacity : 0)\n    },\n    styles (): object {\n      return {\n        zIndex: this.zIndex,\n      }\n    },\n  },\n\n  methods: {\n    genContent () {\n      return this.$createElement('div', {\n        staticClass: 'v-overlay__content',\n      }, this.$slots.default)\n    },\n  },\n\n  render (h): VNode {\n    const children = [this.__scrim]\n\n    if (this.isActive) children.push(this.genContent())\n\n    return h('div', {\n      staticClass: 'v-overlay',\n      class: this.classes,\n      style: this.styles,\n    }, children)\n  },\n})\n","import VOverlay from './VOverlay'\n\nexport { VOverlay }\n\nexport default VOverlay\n","// Components\nimport VOverlay from '../../components/VOverlay'\n\n// Utilities\nimport {\n  keyCodes,\n  addOnceEventListener,\n  addPassiveEventListener,\n  getZIndex,\n} from '../../util/helpers'\n\n// Types\nimport Vue from 'vue'\n\ninterface Toggleable extends Vue {\n  isActive?: boolean\n}\n\ninterface Stackable extends Vue {\n  activeZIndex: number\n}\n\ninterface options {\n  absolute?: boolean\n  $refs: {\n    dialog?: HTMLElement\n    content?: HTMLElement\n  }\n}\n\n/* @vue/component */\nexport default Vue.extend<Vue & Toggleable & Stackable & options>().extend({\n  name: 'overlayable',\n\n  props: {\n    hideOverlay: Boolean,\n    overlayColor: String,\n    overlayOpacity: [Number, String],\n  },\n\n  data () {\n    return {\n      animationFrame: 0,\n      overlay: null as InstanceType<typeof VOverlay> | null,\n    }\n  },\n\n  watch: {\n    hideOverlay (value) {\n      if (!this.isActive) return\n\n      if (value) this.removeOverlay()\n      else this.genOverlay()\n    },\n  },\n\n  beforeDestroy () {\n    this.removeOverlay()\n  },\n\n  methods: {\n    createOverlay () {\n      const overlay = new VOverlay({\n        propsData: {\n          absolute: this.absolute,\n          value: false,\n          color: this.overlayColor,\n          opacity: this.overlayOpacity,\n        },\n      })\n\n      overlay.$mount()\n\n      const parent = this.absolute\n        ? this.$el.parentNode\n        : document.querySelector('[data-app]')\n\n      parent && parent.insertBefore(overlay.$el, parent.firstChild)\n\n      this.overlay = overlay\n    },\n    genOverlay () {\n      this.hideScroll()\n\n      if (this.hideOverlay) return\n\n      if (!this.overlay) this.createOverlay()\n\n      this.animationFrame = requestAnimationFrame(() => {\n        if (!this.overlay) return\n\n        if (this.activeZIndex !== undefined) {\n          this.overlay.zIndex = String(this.activeZIndex - 1)\n        } else if (this.$el) {\n          this.overlay.zIndex = getZIndex(this.$el)\n        }\n\n        this.overlay.value = true\n      })\n\n      return true\n    },\n    /** removeOverlay(false) will not restore the scollbar afterwards */\n    removeOverlay (showScroll = true) {\n      if (this.overlay) {\n        addOnceEventListener(this.overlay.$el, 'transitionend', () => {\n          if (\n            !this.overlay ||\n            !this.overlay.$el ||\n            !this.overlay.$el.parentNode ||\n            this.overlay.value\n          ) return\n\n          this.overlay.$el.parentNode.removeChild(this.overlay.$el)\n          this.overlay.$destroy()\n          this.overlay = null\n        })\n\n        // Cancel animation frame in case\n        // overlay is removed before it\n        // has finished its animation\n        cancelAnimationFrame(this.animationFrame)\n\n        this.overlay.value = false\n      }\n\n      showScroll && this.showScroll()\n    },\n    scrollListener (e: WheelEvent & KeyboardEvent) {\n      if (e.type === 'keydown') {\n        if (\n          ['INPUT', 'TEXTAREA', 'SELECT'].includes((e.target as Element).tagName) ||\n          // https://github.com/vuetifyjs/vuetify/issues/4715\n          (e.target as HTMLElement).isContentEditable\n        ) return\n\n        const up = [keyCodes.up, keyCodes.pageup]\n        const down = [keyCodes.down, keyCodes.pagedown]\n\n        if (up.includes(e.keyCode)) {\n          (e as any).deltaY = -1\n        } else if (down.includes(e.keyCode)) {\n          (e as any).deltaY = 1\n        } else {\n          return\n        }\n      }\n\n      if (e.target === this.overlay ||\n        (e.type !== 'keydown' && e.target === document.body) ||\n        this.checkPath(e)) e.preventDefault()\n    },\n    hasScrollbar (el?: Element) {\n      if (!el || el.nodeType !== Node.ELEMENT_NODE) return false\n\n      const style = window.getComputedStyle(el)\n      return ['auto', 'scroll'].includes(style.overflowY!) && el.scrollHeight > el.clientHeight\n    },\n    shouldScroll (el: Element, delta: number) {\n      if (el.scrollTop === 0 && delta < 0) return true\n      return el.scrollTop + el.clientHeight === el.scrollHeight && delta > 0\n    },\n    isInside (el: Element, parent: Element): boolean {\n      if (el === parent) {\n        return true\n      } else if (el === null || el === document.body) {\n        return false\n      } else {\n        return this.isInside(el.parentNode as Element, parent)\n      }\n    },\n    checkPath (e: WheelEvent) {\n      const path = e.path || this.composedPath(e)\n      const delta = e.deltaY\n\n      if (e.type === 'keydown' && path[0] === document.body) {\n        const dialog = this.$refs.dialog\n        // getSelection returns null in firefox in some edge cases, can be ignored\n        const selected = window.getSelection()!.anchorNode as Element\n        if (dialog && this.hasScrollbar(dialog) && this.isInside(selected, dialog)) {\n          return this.shouldScroll(dialog, delta)\n        }\n        return true\n      }\n\n      for (let index = 0; index < path.length; index++) {\n        const el = path[index]\n\n        if (el === document) return true\n        if (el === document.documentElement) return true\n        if (el === this.$refs.content) return true\n\n        if (this.hasScrollbar(el as Element)) return this.shouldScroll(el as Element, delta)\n      }\n\n      return true\n    },\n    /**\n     * Polyfill for Event.prototype.composedPath\n     */\n    composedPath (e: WheelEvent): EventTarget[] {\n      if (e.composedPath) return e.composedPath()\n\n      const path = []\n      let el = e.target as Element\n\n      while (el) {\n        path.push(el)\n\n        if (el.tagName === 'HTML') {\n          path.push(document)\n          path.push(window)\n\n          return path\n        }\n\n        el = el.parentElement!\n      }\n      return path\n    },\n    hideScroll () {\n      if (this.$vuetify.breakpoint.smAndDown) {\n        document.documentElement!.classList.add('overflow-y-hidden')\n      } else {\n        addPassiveEventListener(window, 'wheel', this.scrollListener as EventHandlerNonNull, { passive: false })\n        window.addEventListener('keydown', this.scrollListener as EventHandlerNonNull)\n      }\n    },\n    showScroll () {\n      document.documentElement!.classList.remove('overflow-y-hidden')\n      window.removeEventListener('wheel', this.scrollListener as EventHandlerNonNull)\n      window.removeEventListener('keydown', this.scrollListener as EventHandlerNonNull)\n    },\n  },\n})\n"],"sourceRoot":""}